{"config":{"lang":["en","ja"],"separator":"[\\s\\-\\.]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"OpenSWPC Users' Guide","text":""},{"location":"#description","title":"Description","text":"<p>This software simulate seismic wave propagation by solving equations of motion with constitutive equations of linear elastic/viscoelastic medium by finite difference method (FDM) under message passing interface (MPI) environment in 3D and 2D (P-SV or SH) media.</p> <p>This package also provides a set of tools for visualizing/converting simulation output.</p>"},{"location":"1._SetUp/0101_env/","title":"System requirements","text":"<p>Executing <code>OpenSWPC</code> requires a Fortran compiler that can handle (at least a part of) the Fortran 2003 standard and an MPI  library.  The program can be run on a single CPU or CPU core without parallelization; however, the MPI library is still required. In addition, the <code>NetCDF</code> library, compiled by the same Fortran compiler, is recommended to use the direct input/output of the <code>NetCDF</code>-formatted files. </p> <p>The source code of <code>OpenSWPC</code> almost strictly follows the language standard of Fortran2003.  As an exception, system calls (the <code>system()</code> subroutine) are used.  Note that this extension is supported by most available Fortran compilers.  <code>OpenSWPC</code> uses stream I/O, which is part of the Fortran2003 standards.  This functionality may not be implemented with older compilers. </p> <p>This code was developed in the following environment: </p> <ul> <li>Apple macOS Mojave 10.14.3</li> <li>GNU <code>gfortran</code> 8.2.0</li> <li><code>OpenMPI</code> 4.0.0</li> </ul> <p>In addition, the following computers were confirmed to work with \\swpc: </p> <ul> <li>EIC computer, ERI/UTokyo (ver. 2015; SGI Altix; intel fortran)</li> <li>JAMSTEC Earth Simulator (NEC SX-ACE; NEC compiler)</li> <li>AICS K computer (Fujitsu compiler)</li> <li>Nagoya University (FX10/Fx100; Fujitsu compiler)</li> <li>Linux Cent OS 6.6 (gfortran 4.9.2 &amp; mpich)</li> <li>Linux Ubuntu 16.04LTS (gfortran 5.4 &amp; OpenMPI)</li> </ul>"},{"location":"1._SetUp/0102_tree/","title":"Code directory tree","text":"<pre><code>|-- doc : manuals\n|-- bin : executable binaries (*.x)\n|-- example : example input files\n\\-- src\n|-- swpc_3d    : 3D problem\n|-- swpc_psv   : 2D P-SV problem\n|-- swpc_sh    : 2D SH problem\n|-- tools      : Miscellaneous utility codes\n\\-- shared     : Modules commonly used in the above programs\n</code></pre>"},{"location":"1._SetUp/0103_compile/","title":"Compilation and Execution","text":""},{"location":"1._SetUp/0103_compile/#make","title":"make","text":"<p>The directories <code>src/swpc_3d</code>, <code>src/swpc_psv</code>, <code>src/swpc_sh</code>, and <code>src/tools</code> contain makefile. Execute the <code>make</code> command in each directory to generate the executable binaries. An executable file (with a <code>*.x</code> extension) will be stored in the <code>bin</code> directory.</p>"},{"location":"1._SetUp/0103_compile/#specifying-compiler-options","title":"Specifying Compiler Options","text":"<p>In the makefiles, the following variables must be specified according to the environment:</p> variable description <code>FC</code> compiler name <code>FFLAGS</code> compiler option <code>NCFLAG</code> <code>NetCDF</code> flag <code>NCLIB</code> location of the  <code>NetCDF</code> library directory <code>NCINC</code> location of the  <code>NetCDF</code> header file directory <code>NETCDF</code> linker option for <code>NetCDF</code> <p>If <code>NCFLAG = -D_NETCDF</code> is specified, the <code>make</code> command will try to compile <code>OpenSWPC</code> with <code>NetCDF</code> library.</p> <p>A set of the above variables under different computer environments is defined in <code>src/shared/makefile.arch</code> and <code>src/shared/makefile-tools.arch</code>. The former is for the compilation of FDM codes, and the latter is for the compilation of misc tools. The user can specify the <code>arch</code> option in the <code>make</code> command as in the following example: </p> <pre><code>make arch=mac-gfortran\n</code></pre> <p>In the above case, the appropriate compiler options for the architecture <code>mac-gfortran</code> is automatically set. In some environments, the <code>debug</code> option is predefined. This option is used in the following way: </p> <pre><code>make arch=eic debug=true\n</code></pre> <p>The list of pre-defined architecture (<code>arch</code>) options is described in the following table.</p> <code>arch</code> name target <code>NetCDF</code> location mac-intel Mac OSX + Intel Compiler + OpenMPI <code>${HOME}/local</code> mac-gfortran Mac OSX + gfortran + Open MPI <code>/usr/local</code> eic EIC (ERI, UTokyo) with the Intel Compiler <code>${HOME}/local</code> fx Fujitsu FX10, FX100 and the K-computer <code>${HOME}/xlocal</code> es3 The Earth Simulator Provided by the system ubuntu-gfortran Ubuntu 16.04LTS + gfortran + Open MPI Installation by <code>apt</code> ofp (or oak) Oakforest-PACS of the University of Tokyo automatically specified by the <code>module</code> command obcx Oakbridge-CX of the University of Tokyo automatically specified by the <code>module</code> command bdec-o Wisteria/BDEC-01 (Odyssey)  of the University of Tokyo automatically specified by the <code>module</code> command mac-m1 macOS + gfortran (Apple Silicon (M1/M2) + Homebrew) <code>/opt/homebrew/</code>"},{"location":"1._SetUp/0103_compile/#more-about-the-netcdf-library","title":"More about the <code>NetCDF</code> library","text":"<p>The <code>NetCDF</code> library consists of the following items:</p> <ul> <li><code>libnetcdf.*</code>:   <code>NetCDF</code> library file</li> <li><code>libnetcdff.*</code>:  <code>NetCDF</code> Fortran library file (only for the <code>NetCDF</code> version 4 or later)</li> <li><code>netcdf.mod</code>:    Fortran module information file</li> </ul> <p>The extension of the library files may be <code>*.a</code> (static library) or <code>*.so</code> (dynamic library), depending on the installation. All these files are necessary for successful compilation with <code>NetCDF</code>. In particular, the <code>netcdf.mod</code> file must be created by the same Fortran compiler as <code>OpenSWPC</code>. If <code>NetCDF</code> is installed using packaging tools such as <code>yum, apt</code>, or <code>homebrew</code>, the use of <code>gfortran</code> is implicitly assumed.</p>"},{"location":"1._SetUp/0103_compile/#parameters-embedded-in-the-source-code","title":"Parameters embedded in the source code","text":"<p>Although most of the controlling parameter of the <code>OpenSWPC</code> are given in the input parameter file at the time of execution, a few parameters shown below are embedded in the source code for improving computational performance. All of these parameters are defined in <code>m_global.F90</code>. If the users edit these parameters, re-compilation (<code>make clean; make</code>) is necessary. </p> <p>Parameters</p> <code>UC</code> Unit conversion coefficient from the computation unit (a mixed unit system using km for distance, g/cm for mass density, and km/s for seismic wave velocity) to the SI unit. If the user changes the unit of input, this parameter should be changed. The default values are <code>1e-15</code> for the 3D code and <code>1e-12</code> for the 2D codes.  <code>MP</code> Preicsion constant for the finite difference calculation. If <code>MP=DP</code> (this is the default), the key calculation of the finite difference will be performed in double precision, while the other calculations are in single precision. If one changes it to <code>MP=SP</code>, all calculation will be done in single precision. In this case, the memory used in the 3D simulation is 2/3 as much as in the <code>MP=DP</code> case, and compuational speed also is faster than the default. On the other hand, single-precision calculation may lead numerical instability around the earthquake source after long-term integration. The values of <code>DP</code> and <code>SP</code> may differ at different compiler, but usually they take <code>8</code> and <code>4</code>.  <code>NM</code> Number of viscoelastic bodies adopted in the generalized Zener body. If this number is greater than <code>1</code>, anelastic attenuation is automatically adjusted so that Q-values are approximately frequency independent in a frequency range specified by the paramreters <code>fq_*</code>. If this parameter is zero, the simulation is performed under the assumption of perfectly elastic body, and thus no intrinsic attenuation is taken into account. For 3D simulations, this parameter significantly affects the computation time and required memory size."},{"location":"1._SetUp/0104_dataset/","title":"Preparing the Dataset","text":""},{"location":"1._SetUp/0104_dataset/#subsurface-velocity-structure-model","title":"Subsurface Velocity Structure Model","text":"<p>In <code>OpenSWPC</code>, a 3D inhomogeneous medium is represented as a set of velocity discontinuities using <code>NetCDF</code>-formatted files.  As an example of the velocity structure beneath the Japanese Archipelago, an automatic model generation script for the Japan Integrated Velocity Structure Model (JIVSM), developed and originally distributed by the Headquarters for Earthquake Research Promotion in Japan, is included. An extension of JIVSM (eJIVSM), which covers a wider area, is also provided. These velocity structure models contain the ground surface (topography and bathymetry), subsurface soil, Moho, and oceanic crust of the two subducting plates. To generate these models, the Generic Mapping Tools (GMT) is required. If the user does not use this model, thefollowing processing steps may not be necessary.</p> <p>Model area and vertical cross sections of JIVSM/eJIVSM</p> <p> Area of JIVSM and eJIVSM. The colored area in the map is where the original JIVSM is defined. eJIVSM is extended to the gray-shaded area via an extrapolation. The surrounding graphs show the depth sections along the lines on the map of the model.</p> <p>First, download the original model files <code>lp2012nankai-e_str.zip</code> and <code>lp2012nankai-w_str.zip</code> and store them in <code>dataset/vmodel</code>. The URLs of these files can be found in the comments of the <code>gen_JIVSM.sh</code> script. To generate eJIVSM, the ETOPO1 (<code>ETOPO1_Bed_g_gmt4.grd</code>) topography data are also necessary. </p> <p>Then, specify the Fortran compiler name to <code>FC</code> variables in the <code>params.sh</code> parameter file. The grid spacing (<code>dlon</code>, <code>dlat</code>) in the parameter file can be modified if necessary. Note that this spacing is not directly related to the grid width of the numerical simulations. At the time of the simulation, the <code>OpenSWPC</code> program automatically interpolates the velocity model data. </p> <p>After these steps, execute the generation script:  <pre><code>$ ./gen_JIVSM.sh\n</code></pre></p> <p>After a successful execution, 23 <code>NetCDF</code>-formatted files will be generated in the two model directories for <code>JIVSM</code> and <code>eJIVSM</code>. These files can be read and visualized in GMT by the <code>grdimage</code> or <code>grd2xyz</code> modules. The netcdf filename contains five integer numbers, which correspond to mass density (in kg/m), P wavespeed (m/s), S wavespeed (m/s), Q_P, and Q_S. They indicate the material information below the discontinuity defined in the file. List files of these <code>NetCDF</code> files (<code>jivsm.lst</code> and <code>ejivsm.lst</code>) for use in the <code>OpenSWPC</code> will also be generated. </p>"},{"location":"1._SetUp/0104_dataset/#station-list","title":"Station list","text":"<p>An example script to generate a station list file is stored in <code>dataset/station/gen_stlst_hinet.sh</code>. This script generates a formatted list of the high-sensitivity seismograph network Japan (Hi-net) provided by the National Research Institute for Earth Science and Disaster Resilience (NIED). </p> <p>To use this script, first download the station csv list from the Hi-net website following the comments in the <code>gen_stlst_hinet.sh</code> file. Then, executing this bash script will result in the station list file for <code>OpenSWPC</code>.</p>"},{"location":"1._SetUp/0104_dataset/#on-embedding-parameters","title":"On Embedding Parameters","text":"<p>Although most of the behavior of <code>OpenSWPC</code> is controlled dynamically by the input parameter file, several parameters are embedded in the source code to achieve high-computational performance, as described below. These parameters are defined in <code>src/swpc_??/m_global.F90</code>. If these parameters are modified, re-compilation is necessary. </p> <p>Parameters</p> <code>UC</code> A number to convert the simulation results into the SI unit system. Modifications may be necessary to use a different unit system. The default values are <code>1e-15</code> (3D) and <code>1e-12</code> (2D).             <code>MP</code> Precision of the finite-difference computation. By default (<code>MP=DP</code>), i.e., parts of the computation are performed in double precision, while other unnecessary variables are defined and calculated in single precision to save memory space and computation time. The user may change it to <code>MP=SP</code> to switch the entire computation to single precision, which will decrease the required memory up to 2/3 and allow faster computation speeds. However, in this case, a noisy seismic waveform might be observed, in particular, near the seismic source due to the overflow of floating point numbers. <code>NM</code> Number of generalized Zener viscoelastic bodies. If this number is larger than 1, it represents a nearly frequency-independent constant Q model in a specified frequency range. If this is set to zero, the simulation will be conducted with an elastic body without attenuation. Increasing this number enables the reproduction of a wider frequency range of constant Q; however, it may also result in a significant increase in the computational loads for 3D simulations."},{"location":"1._SetUp/0105_parallel/","title":"Execution","text":"<p>To run the program, the MPI program is necessary, such that</p> <pre><code>$ mpirun -np ${NP} ./bin/swpc_3d.x -i ${input}\n</code></pre> <p>where <code>${NP}</code> is the number of MPI processes and <code>${input}</code> is the name of the input file. Note that the <code>mpirun</code> command may be different for different computational systems.</p> <p>A file <code>example/input.inf</code> describes 2x2=4 parallel 3D example simulation in a homogeneous medium. To run the 3D simulation with this, try</p> <pre><code>$ mpirun -np 4 ./bin/swpc_3d.x -i example/input.inf\n</code></pre> <p>Then, one will have the standard error output as follows. This result is contained in <code>example/example.out</code> file.  </p> <pre><code> ------------------------------------------------------------------------------\n  SWPC_3D                                                                     \n ------------------------------------------------------------------------------\n\n  Grid Size               :      384 x    384 x    384\n  MPI Partitioning        :        2 x    2\n  Total Memory Size       :          13.292  [GiB]\n  Node Memory Size        :           3.323  [GiB]\n  Stability  Condition c  :           0.645  (c&lt;1)\n  Wavelength Condition r  :          12.488  (r&gt;5-10)\n  Minimum velocity        :           3.122  [km/s]\n  Maximum velocity        :           7.977  [km/s]\n  Maximum frequency       :           0.500  [Hz]\n\n ------------------------------------------------------------------------------\n\n  it=0000050, 1.024 s/loop, eta 000:16:12, ( 2.94E-05  2.94E-05  1.59E-04 )\n  it=0000100, 1.028 s/loop, eta 000:15:25, ( 1.95E-04  1.95E-04  8.87E-04 )\n  it=0000150, 1.023 s/loop, eta 000:14:29, ( 1.04E-04  1.04E-04  4.87E-04 )\n  it=0000200, 1.014 s/loop, eta 000:13:31, ( 2.62E-05  2.62E-05  4.89E-05 )\n  it=0000250, 1.010 s/loop, eta 000:12:37, ( 1.32E-05  1.32E-05  3.59E-05 )\n  it=0000300, 1.001 s/loop, eta 000:11:40, ( 1.13E-05  1.13E-05  3.16E-05 )\n  it=0000350, 0.996 s/loop, eta 000:10:47, ( 1.26E-05  1.26E-05  2.67E-05 )\n  it=0000400, 0.992 s/loop, eta 000:09:55, ( 1.13E-05  1.13E-05  2.33E-05 )\n  it=0000450, 0.991 s/loop, eta 000:09:05, ( 9.68E-06  9.68E-06  2.07E-05 )\n  it=0000500, 0.987 s/loop, eta 000:08:13, ( 9.22E-06  9.22E-06  1.98E-05 )\n  it=0000550, 0.984 s/loop, eta 000:07:22, ( 8.90E-06  8.90E-06  1.90E-05 )\n  it=0000600, 0.981 s/loop, eta 000:06:32, ( 8.37E-06  8.37E-06  1.78E-05 )\n  it=0000650, 0.978 s/loop, eta 000:05:42, ( 7.78E-06  7.78E-06  1.68E-05 )\n  it=0000700, 0.975 s/loop, eta 000:04:52, ( 7.63E-06  7.63E-06  1.59E-05 )\n  it=0000750, 0.973 s/loop, eta 000:04:03, ( 7.47E-06  7.47E-06  1.53E-05 )\n  it=0000800, 0.972 s/loop, eta 000:03:14, ( 7.01E-06  7.01E-06  1.45E-05 )\n  it=0000850, 0.974 s/loop, eta 000:02:26, ( 6.79E-06  6.79E-06  1.35E-05 )\n  it=0000900, 0.974 s/loop, eta 000:01:37, ( 7.07E-06  7.07E-06  1.28E-05 )\n  it=0000950, 0.973 s/loop, eta 000:00:48, ( 7.38E-06  7.38E-06  1.20E-05 )\n  it=0001000, 0.973 s/loop, eta 000:00:00, ( 7.22E-06  7.22E-06  1.14E-05 )\n\n ------------------------------------------------------------------------------\n\n  Total time             :         972.827 s\n\n ------------------------------------------------------------------------------```\n</code></pre> <p>The first part of the message contains information such as the estimated memory usage, stability condition, and wavelength condition. As shown in the above example, a stability condition of  is mandatory to execute; if the specified parameter violates this condition, the program aborts immediately. In addition, the wavelength condition (the ratio of spatial grid size and minimum wavelength) is recommended to r&gt;5-10. During the computation, the computational speed, remaining time (eta; estimated time of arrival), and maximum velocity amplitude of the components are shown. Among them, numbers related to the computational speed may vary depending on the environment. If the computation is successful, the maximum amplitude (the three numbers in the last <code>()</code>) should be the same.</p> <p>The above simulation requires around ~14 GB of computer memory. If this size of the simulation is difficult, try the 2D P-SV simulation with the same input parameter file along the xz cross section: </p> <pre><code>$ mpirun -np 2 ./bin/swpc_psv.x -i example/input.inf\n</code></pre> <p>Note that the number of parallelization (<code>-np</code> option) is different between 2D and 3D even for the same input parameter file. </p> <p>The output in this case is as follows. The result is almost the same as the 3D code, only the maximum amplitude is changed from 3 components to 2 components.</p> <pre><code>------------------------------------------------------------------------------\n  SWPC_PSV                                                                    \n ------------------------------------------------------------------------------\n\n\n  Grid Size               :      384 x    384\n  MPI Partitioning        :               2\n  Total Memory Size       :           0.020  [GiB]\n  Node Memory Size        :           0.010  [GiB]\n  Stability  Condition c  :           0.526  (c&lt;1)\n  Wavelength Condition r  :          12.488  (r&gt;5-10)\n  Minimum velocity        :           3.122  [km/s]\n  Maximum velocity        :           7.977  [km/s]\n  Maximum frequency       :           0.500  [Hz]\n\n ------------------------------------------------------------------------------\n\n  it=0000050, 0.003 s/loop, eta 000:00:02, ( 7.40E-02  2.73E-01 )\n  it=0000100, 0.003 s/loop, eta 000:00:02, ( 8.13E-01  2.01E+00 )\n  it=0000150, 0.003 s/loop, eta 000:00:02, ( 7.71E-01  1.46E+00 )\n  it=0000200, 0.003 s/loop, eta 000:00:02, ( 2.90E-01  2.56E-01 )\n  it=0000250, 0.003 s/loop, eta 000:00:01, ( 2.21E-01  3.03E-01 )\n  it=0000300, 0.003 s/loop, eta 000:00:01, ( 1.90E-01  3.22E-01 )\n  it=0000350, 0.003 s/loop, eta 000:00:01, ( 1.76E-01  3.27E-01 )\n  it=0000400, 0.003 s/loop, eta 000:00:01, ( 1.93E-01  3.23E-01 )\n  it=0000450, 0.003 s/loop, eta 000:00:01, ( 1.92E-01  3.08E-01 )\n  it=0000500, 0.003 s/loop, eta 000:00:01, ( 1.89E-01  3.19E-01 )\n  it=0000550, 0.003 s/loop, eta 000:00:01, ( 1.83E-01  3.33E-01 )\n  it=0000600, 0.003 s/loop, eta 000:00:01, ( 1.75E-01  3.34E-01 )\n  it=0000650, 0.003 s/loop, eta 000:00:00, ( 1.70E-01  3.36E-01 )\n  it=0000700, 0.003 s/loop, eta 000:00:00, ( 1.69E-01  3.37E-01 )\n  it=0000750, 0.003 s/loop, eta 000:00:00, ( 1.73E-01  3.48E-01 )\n  it=0000800, 0.003 s/loop, eta 000:00:00, ( 1.76E-01  3.53E-01 )\n  it=0000850, 0.003 s/loop, eta 000:00:00, ( 1.77E-01  3.45E-01 )\n  it=0000900, 0.003 s/loop, eta 000:00:00, ( 1.81E-01  3.41E-01 )\n  it=0000950, 0.003 s/loop, eta 000:00:00, ( 1.77E-01  3.39E-01 )\n  it=0001000, 0.003 s/loop, eta 000:00:00, ( 1.63E-01  3.36E-01 )\n\n ------------------------------------------------------------------------------\n\n  Total time             :           2.652 s\n\n ------------------------------------------------------------------------------\n</code></pre> <p>The computation speed depends on the environment, but in general, the computation time is much shorter for 2D calculations than for 3D calculations.</p> <p>Note that the message  <pre><code>Note: The following floating-point exceptions are signalling: IEEE_UNDERFLOW_FLAG\n</code></pre> may appear after the calculation is completed, but this does not affect the calculation results.</p>"},{"location":"2._Parameters/0201_description/","title":"Notation of the Parameter File","text":"<p>In the parameter files, one parameter is defined on each line in the following format.</p> <pre><code>variable_name = value\n</code></pre> <p>The description of the values should follow Fortran notation. For example, logical (Boolean) values are denoted as <code>.true.</code> or <code>.false.</code>.</p> <p>Lines that do not contain an equal sign (<code>=</code>) will be neglected; in addition, lines starting with <code>!</code> or <code>#</code> are regarded as comment lines and will be skipped. Comments can be followed by variable definitions, that is, comments can be written on the same line as the parameter definition. For example, the following parameter line will work without errors.</p> <pre><code>nx = 1024 ! number of grids\n</code></pre> <p>The order of the parameter definition can be changed freely. If a parameter is not specified, <code>OpenSWPC</code> may use a pre-defined default variable if the missing parameter is not critical for executing computation.  Note that there are parameters that must be defined explicitly. Multiple definitions of the same parameters in a single parameter file are not recommended; however, in this case, the first definition may be adopted.  It is acceptable to leave blanks before and after the equal sign; however, it is not permitted to have a blank space between the minus character and succeeding numbers (e.g., <code>\u2019- 35.0\u2019</code> is not allowed).  It is recommended to use quotation marks around string parameters.  Without them, the directory path character ('/') may be unexpectedly interpreted as a termination of the string parameter.</p> <p>Caution</p> <p>If a non-essential parameter is not given in the parameter file, an information message will be displayed in the standard error output as an example below:  <pre><code>[info] key XXXX is not found. \n[info]     Use default value YYYY instead.\n</code></pre></p>"},{"location":"2._Parameters/0201_description/#an-example-parameter-file","title":"An Example Parameter File","text":"<p>The following is a full set of example parameters. In the following sections, detailed descriptions of each parameter will be given.</p> <pre><code>  !! ----------------------------------------------------------------------- !!\n!!\n!!  SWPC input file\n!!\n!! ----------------------------------------------------------------------- !!\n\n\n!! ----------------------------------------------------------------------- !!\n!! Control\n!!\n\ntitle            = 'swpc'           !! exe title: used for output filenames\nodir             = './out'          !! output directory\nntdec_r          = 50               !! screen report timing (1/cycle)\nstrict_mode      = .false.          !! all parameters to be explicitly definied\n\n!! ----------------------------------------------------------------------- !!\n!! Model/Grid Size and Area\n!!\n\nnproc_x          = 2                !! parallelization in x-dir\nnproc_y          = 2                !! parallelization in x-dir\nnx               = 384              !! total grid number in x-dir\nny               = 384              !! total grid number in y-dir\nnz               = 384              !! total grid number in z-dir\nnt               = 1000             !! time step number\n\ndx               = 0.5              !! grid width in x-dir\ndy               = 0.5              !! grid width in y-dir\ndz               = 0.5              !! grid width in z-dir\ndt               = 0.02             !! time step width\n\nvcut             = 1.5              !! minimum velocity\n!- smaller velocities will be increased\n\nxbeg             = -96.0            !! minimum in x-dir\nybeg             = -96.0            !! minimum in y-dir\nzbeg             = -10.0            !! minimum in z-dir\ntbeg             = 0.0              !! start time\n\nclon             = 139.7604         !! center longitude\nclat             = 35.7182          !! center latitude\nphi              = 0.0              !! horizontal coordinate rotation\n!- measured clockwise from the north\n\nfq_min           = 0.02             !! minimum freq. for Q-constant model\nfq_max           = 2.00             !! maximum freq. for Q-constant model\nfq_ref           = 1.0              !! ref. freq. for physical dispersion\n\n!! ----------------------------------------------------------------------- !!\n!! Snapshot Output\n!!\n\nsnp_format       = 'netcdf'         !! snapshot format (netcdf)\n\nxy_ps%sw         = .false.          !! P&amp;S amp. for xy section\nxz_ps%sw         = .true.           !! P&amp;S amp. for xz section\nyz_ps%sw         = .false.          !! P&amp;S amp. for yz section\nfs_ps%sw         = .false.          !! P&amp;S amp. for free surface\nob_ps%sw         = .true.           !! P&amp;S amp. for ocean bottom\n\nxy_v%sw          = .false.          !! 3-comp. velocity for xy section\nxz_v%sw          = .true.           !! 3-comp. velocity for xz section\nyz_v%sw          = .false.          !! 3-comp. velocity for yz section\nfs_v%sw          = .false.          !! 3-comp. velocity for free surface\nob_v%sw          = .true.           !! 3-comp. velocity for ocean bottom\n\nxy_u%sw          = .false.          !! 3-comp. disp. for xy section\nxz_u%sw          = .true.           !! 3-comp. disp. for xz section\nyz_u%sw          = .false.          !! 3-comp. disp. for yz section\nfs_u%sw          = .false.          !! 3-comp. disp. for free surface\nob_u%sw          = .true.           !! 3-comp. disp. for ocean bottom\n\n\nz0_xy            =  7.0             !! depth for xy cross section\nx0_yz            =  0.0             !! x-value for yz cross section\ny0_xz            =  0.0             !! y-value for xz cross section\n\nntdec_s          = 5                !! time decimation of snapshot\n!- (specify 1 for no decimation)\n\nidec             = 2                !! x-decimation for snapshot\njdec             = 2                !! y-decimation for snapshot\nkdec             = 2                !! z-decimation for snapshot\n\n!! ----------------------------------------------------------------------- !!\n!! Waveform Output\n!!\n\nsw_wav_v         = .true.           !! velocity trace output at stations\nsw_wav_u         = .false.          !! displacement trace output at stations\nsw_wav_stress    = .false.           !! stress tensor trace\nsw_wav_strain    = .false.           !! strain tansor trace\nntdec_w          = 5                !! time decimation of waveform output\nst_format        = 'xy'             !! station format: 'xy' or 'll'\nfn_stloc         = './example/stloc.xy'  !! station location file\nwav_format       = 'sac'            !! 'sac' or 'csf' ('sac' recommended)\nwav_calc_dist    = .false.          !! Calculate epicentral distance\n\n!! ----------------------------------------------------------------------- !!\n!! Earthquake Source\n!!\n\n!! Moment tensor source format:\n!!   xymoij / xym0dc / llm0ij / llm0dc / xymwij / xymwdc / llmwij / llmwdc\n!! Body force source format:\n!!   xy or ll\nstf_format       = 'xym0ij'\n\n!! Basis source time function\n!! 'boxcar' / 'triangle' / 'herrmann' / 'kupper' / 'cosine' / 'texp'\nstftype          = 'kupper'\n\nfn_stf           = \"./example/source.dat\"   !! Source grid file name\n\n!! source depth correction\n!! 'asis':use z value, 'bd{i}': i-th boundary (i=0...9)\nsdep_fit         = 'asis'\n\n!! --------------------------------------------------------------------- !!\n!! Body force source mode\n!!\nbf_mode          = .false.\n\n\n!! --------------------------------------------------------------------- !!\n!! Plane wave source mode\n!!\npw_mode          = .false.   !! plane wave input. neglects fn_stf\npw_ztop          = 100.      !! top z-coordinate of the initial plane wave\npw_zlen          = 30.       !! wavelength of the initial plane wave\npw_ps            = 'p'       !! 'p' P-wave 's' S-wave\npw_strike        = 0.0       !! strike direction of plane wave (deg.)\npw_dip           = 0.0       !! dip of plane wave (deg.)\npw_rake          = 0.0       !! rake of plane S-wave polarization (deg.)\n\n!! ----------------------------------------------------------------------- !!\n!! Absorbing Boundary Condition\n!!\n\nabc_type         = 'pml'            !! 'pml' or 'cerjan'\nna               = 20               !! absorbing layer thickness\nstabilize_pml    = .false.           !! avoid low-v layer in PML region\n\n!! ----------------------------------------------------------------------- !!\n!! Velocity model\n!!\n\nvmodel_type      = 'lhm'            !! velocity model type 'uni'/'grd'/'lhm'\nis_ocean         = .true.           !! topography z&lt;0 is covered by ocean\ntopo_flatten     = .false.          !! Force topography variation to zero (formerly is_flatten)\nmunk_profile     = .true.           !! velocity gradient inside the seawater column\nearth_flattening = .false.          !! Earth-flattening tranformation\n\n!! --------------------------------------------------------------------- !!\n!! For uniform velocity model 'uni'\n!!\nvp0              = 5.0              !! P-wave velocity [km/s]\nvs0              = 3.0              !! S-wave velocity [km/s]\nrho0             = 2.7              !! mass density    [g/cm^3]\nqp0              = 200              !! Qp\nqs0              = 200              !! Qs\ntopo0            = 0                !! topography location\n\n!! --------------------------------------------------------------------- !!\n!! For GMT grid file input 'grd' ( requires netcdf library )\n!!\ndir_grd          = '${DATASET}/vmodel/ejivsm/'    !! directory for grd file\nfn_grdlst        = './example/grd.lst'            !! grd file list\nnode_grd         = 0                              !! input MPI node\n\n!! --------------------------------------------------------------------- !!\n!! For layered homogeneous medium model ('lhm')\n!!\nfn_lhm           = 'example/lhm.dat'    !! 1D velocity structure\n\n!! --------------------------------------------------------------------- !!\n!! For random medium models\n!!\ndir_rmed         = './in/'             !! location of random medium file\nfn_grdlst_rmed   = './example/grd.lst' !! grd file list\nrhomin           = 1.0                 !! minimum density threshold\nfn_rmed0         = 'dummy.ns'          !! vel. purturb. on a uniform media\n\n!! ----------------------------------------------------------------------- !!\n!! Checkpoint/Restart\n!!\nis_ckp           = .false.          !! perform checkpoint/restart\nckpdir           = './out/ckp'      !! output directory\nckp_interval     = 1000000          !! interval for checkpoint check\uff081/cycle\uff09\nckp_time         = 1000000.         !! checkpoint time\nckp_seq          = .true.           !! sequential output mode\n\n!! ----------------------------------------------------------------------- !!\n!! Reciprocity Green's Function Mode\n!!\ngreen_mode       = .false.          !! reciprocity Green's function mode\ngreen_stnm       = 'st01'           !! virtual station name from fn_stlst\ngreen_cmp        = 'z'              !! virtual source direction 'x', 'y', 'z'\ngreen_trise      = 1.0              !! rise time\ngreen_bforce     = .false.          !! also calc. body force Green's function\ngreen_maxdist    = 550.             !! horizontal limit of source grid\ngreen_fmt        = 'llz'            !! list file format: 'xyz' or 'llz'\nfn_glst          = 'example/green.lst'   !! Green's function grid point list\n\n!! ----------------------------------------------------------------------- !!\n!! MISC\n!!\n\nstopwatch_mode   = .false.          !! measure computation time at routines\nbenchmark_mode   = .false.          !! benchmark mode\n\nipad             = 0                !! memory padding size for tuning\njpad             = 0                !! memory padding size for tuning\nkpad             = 0                !! memory padding size for tuning\n</code></pre>"},{"location":"2._Parameters/0202_env/","title":"Controlling Parameters","text":"<p>Parameters</p> <code>title</code> Title of the computation to be used for the output filename. <code>odir</code> Name of output directory. This is a relative directory path from the location of the program execution. If this directory does not exist at the time of run, <code>OpenSWPC</code> will automatically create it. <code>ntdec_r</code> Number of Time-step DECimation factors for screen <code>R</code>eporting. The maximum amplitudes of the velocity components are reported in the standard error output every <code>ntdec_r</code> steps. This screen output is generally used to confirm that the model is working correctly. A cycle that is too short (this parameter is too small) may slow down the computation. <code>stopwatch_mode</code> Measure the computation times at major subroutines and export the accumulated times to <code>(odir)/(title).tim</code>. This function is used for benchmarking and perforance tuning. The output <code>*.tim</code> file can be visualized with GMT (versions 4 or 5) via <code>tools/timvis.gmt?</code>.  <code>benchmark_mode</code> If this flag is <code>.true.</code>, the fixed homogeneous medium and single-point moment tensor source will be selected irrespective of the parameter specification. This is used for validation and performance measurements. <code>strict_mode</code> (New in v5.1) If this flag is <code>.true.</code>, the all necessary parameter must be explicitly written in the input file.  By default this parameter is set to <code>.false.</code>, so that <code>OpenSWPC</code> will use parameter-specific default values if the parameter is not found in the input file.  <code>ipad, jpad, kpad</code> Expand the Fortran array sizes along the x-, y-, and z-directions. In some computer architectures, the computation speed is very sensitive to the array size. In such cases, slightly changing the array size using these parameters may improve the performance. The expanded array will not be used for the simulation. Therefore, the simulation result is not affected by changing this option. <p>Benchmark Mode</p> <p>Until version 5.0.2, an example input file <code>example/input.inf</code> contained <code>benchmark_mode = .true.</code> which neglects many changes of parameters related to velocity structure and earthquake source. After version 5.1, this parameter is set to <code>.false.</code> in the example file. </p>"},{"location":"2._Parameters/0203_coord/","title":"Coordinates and Parallel Computation","text":"<p>For parallel computation, <code>OpenSWPC</code> performs 2D model partitioning for a 3D code (see figure below) and 1D partitioning for a 2D code, in the horizontal direction in both cases. The computation is performed in Cartesian coordinates. We adopt the computational coordinate system depicted in the Figure. </p> <p>Figure</p> <p> (a) Partitioning of the computational domain for MPI. (b) Schematic of the data exchange by the MPI protocol\uff08Modified from Maeda et al., 20131\uff09\uff0e</p> <p>By default, the coordinate axes , y, and z represent the north, east, and depth directions, respectively. They cover the region of <code>xbeg</code> \\le x \\le <code>xend</code>, <code>ybeg</code> \\le y \\le <code>yend</code>, and <code>zbeg</code> \\le z \\le <code>zend</code>. Note that the z-axis is defined as positive downward. Because the free surface is usually defined at z=0, it is recommended to let <code>zbeg</code> be a negative value to include the free surface in the model.</p> <p>The volume is discretized into <code>nx</code>, <code>ny</code>, and <code>nz</code> grids with spatial grid widths of <code>dx</code>, <code>dy</code>, and <code>dz</code>, respectively, in each direction.  The parameter file must provide definitions of <code>xbeg</code>, <code>ybeg</code>, and <code>zbeg</code> and <code>nx</code>, <code>ny</code>, and <code>nz</code>; other parameters (<code>xend</code>, <code>yend</code>, and <code>zend</code>) are automatically computed from them.  The center of the Cartesian coordinate (x = 0, y = 0) corresponds to the center longitude (<code>clon</code>) and latitude (<code>clat</code>). The geographical coordinate is projected onto the Cartesian coordinate by the Gauss--Kr\u00fcger transform as follows (see Figure below):</p> <ol> <li> <p>First generate an evenly spaced grid in Cartesian coordinates from     the input parameters phi and those related to the x, y coordinates.</p> </li> <li> <p>Project the grid location onto the geographical coordinate by using     the Gauss--Kr\u00fcger transform with a center location of (<code>clon</code>,     <code>clat</code>).</p> </li> <li> <p>Obtain the medium parameter at the grid location via a bicubic     interpolation of the input velocity structure model.</p> </li> </ol> <p>If the specified area exceeds that of the input velocity model, the outermost value of the velocity structure is used for the extrapolation.</p> <p>Figure</p> <p> Relation between computational coordinate and geographical coordinate systems.</p>"},{"location":"2._Parameters/0203_coord/#staggered-grid","title":"Staggered Grid","text":"<p><code>OpenSWPC</code> adopts the staggered-grid coordinate system shown in the following figure. </p> <p>Figure</p> <p> Staggered grid layout in 3D space for the case of <code>xbeg=ybeg=zbeg=0</code></p> <p>The unit volume shown in the figure is defined as a \"voxel\" at the grid indices (<code>I,J,K</code>). A grid location x belongs to the voxel number</p> \\begin{align} I = \\left \\lceil \\frac{ x-x_{\\text{beg}} }{ \\Delta  x } \\right \\rceil,  \\end{align} <p>and if the voxel number <code>I</code> is given, its center coordinate location is</p> \\begin{align} x = x_{\\text{beg}} + \\left( I - \\frac{1}{2} \\right) \\Delta x \\end{align} <p>where \\lceil \\cdot \\rceil is a ceiling function and x_{\\text{beg}} is the minimum value of the x-coordinate. Note that x_{\\text{beg}} is set to belong to the voxel <code>I=1</code>.</p> <p>A voxel has a volume of</p> \\begin{align} \\begin{split} x_\\text{beg} + (I-1)\\Delta x &lt; x \\le x_\\text{beg} +  I \\Delta x,  \\\\ y_\\text{beg} + (J-1)\\Delta y &lt; y \\le y_\\text{beg} + J \\Delta y,  \\\\ z_\\text{beg} + (K-1)\\Delta z &lt; z \\le z_\\text{beg} + K \\Delta z  \\end{split} \\end{align} <p>The normal stress tensor components are defined at the center of the voxel, the shear stress is defined on the edge, and velocity vector components are defined on its surface. </p> <p>Medium parameters are defined at the center of the voxel at</p> \\begin{align} x_\\text{beg} + (I-1/2) \\Delta x, \\quad y_\\text{beg} + (J-1/2) \\Delta y, \\quad z_\\text{beg} + (K-1/2) \\Delta z  \\end{align} <p>If necessary, averaging will be performed between neighboring voxels.</p>"},{"location":"2._Parameters/0203_coord/#stability-and-wavelength-conditions","title":"Stability and Wavelength Conditions","text":"<p>The spatial grid width, \\Delta x, \\Delta y, and \\Delta z, and the time step width, \\Delta t, must satisfy the stability condition. The stability condition in N_D-dimensional space for the order of the finite difference method P is given by</p> \\begin{align}   \\Delta t &lt; \\frac{ 1 }{ V_{\\max} } \\left( \\sum_{i=1}^{N_D} \\frac{1}{\\Delta x_i^2} \\right)^{-1/2} \\left( \\sum_{p=1}^{P/2} C_p\\right) ^{-1} \\end{align} <p>where V_{\\max} is the maximum velocity of the medium, C_p are the coefficients of the finite difference formula, and \\Delta x_i is the spatial grid width in the i-th direction. For the fourth-order formula of the finite difference method, which is used in the code, the coefficients are C_1 = 9/8 and C_2 = 1/24. For example, for the fourth-order finite difference with isotropic grid sizes (\\Delta x = \\Delta y =\\Delta z = h) in three-dimensional space, the stability condition is reduced to</p> \\begin{align}   \\Delta t &lt; \\frac{6}{7} \\dfrac{1}{V_{\\max} \\sqrt{ \\dfrac{1}{\\Delta x^2} + \\dfrac{1}{\\Delta y^2} +\\dfrac{1}{\\Delta z^2}}} = \\frac{6 h}{7 \\sqrt{3} V_{\\max}} \\simeq 0.495 \\frac{h}{V_{\\max}}.  \\end{align} <p>This condition can be interpreted as \"the distance that the seismic wave propagates within a single time step must be much smaller than the spatial grid width.\" The numerical simulation will diverge immediately if this condition is not satisfied.</p> <p>In addition, the minimum wavelength of the simulated seismic waves should be much longer than the spatial grid width. If the wavelength becomes relatively small compared to this condition, a fictitious numerical dispersion will appear and result into inaccurate later phases. Usually, the wavelength is taken to be longer than 5--10 times the spatial grid width to avoid this effect. Therefore, the minimum velocity (usually the S-wave velocity) in the velocity model should be selected carefully. One may specify a smaller spatial grid size to avoid this problem; however, in this case, the time-step size must also be shortened to satisfy the stability condition.</p> <p>Parameters related to the above conditions will be displayed to the standard error output when the <code>OpenSWPC</code> programs start computation as the Stability Condition <code>c</code> and the Wavelength Condition <code>r</code>. They representes ratios between allowed maximum timestep by the stability condition and the time step parameter <code>dt</code>, and between the minimum wavelength in the medium and grid spacing, respectively. The former must be smaller than 1 to perform computation. </p> <p>Parameters</p> <code>nproc_x</code>, <code>nproc_y</code> Number of partitions in the x- and y-directions.  The total number of partitions will be <code>nproc_x</code> \\times <code>nproc_y</code> for the 3D case and <code>nproc_x</code> for the 2D case.  This total number of partitions must be equal to the number of processes given in <code>mpirun</code>.  These numbers can be 1.  If <code>nproc_x=nproc_y=1</code>, this will become a serial (non-parallel) computation in practice. <code>nx</code>, <code>ny</code>, <code>nz</code> Total number of spatial grids in each direction. <code>nx</code> and <code>ny</code> do not need to be multiples of <code>nproc_x</code> and <code>nproc_y</code>, respectively. <code>dx</code>, <code>dy</code>, <code>dz</code> Spatial grid width in each direction in units of km. The total computational size in the physical domain will be <code>nx</code>\\times<code>dx</code>, <code>ny</code>\\times<code>dy</code>, and <code>nz</code>\\times<code>dz</code>.  The grid widths in different directions do not necessarily need to be equal. <code>nt</code> Number of time steps. <code>dt</code> Length of the time step in seconds. The total physical simulation time will be <code>nt</code>\\times<code>dt</code>. <code>xbeg</code>, <code>ybeg</code>, <code>zbeg</code> Minimum value of the coordinates. If specifications of <code>xbeg</code> or <code>ybeg</code> are omitted, they will automatically be set to xbeg\u2006=\u2006-\u2006nx\u2006\\times\u2006dx\u2006/\u20062 and ybeg\u2006=\u2006-\u2006ny\u2006\\times\u2006dy\u2006/\u20062.  This setting is recommended to minimize distortion due to the map projection. The default value of <code>zbeg</code> is <code>-30</code>\\times<code>dz</code>. <code>tbeg</code> Starting time. Usually it is set to zero but can be changed if necessary. <code>clon</code>, <code>clat</code> Center longitude and latitude in degrees. The map projection will be performed with this location as a reference point. <code>phi</code> Horizontal rotation angle of the computational coordinate (see figure).  If <code>phi</code>=0, the x- and y-axes correspond to the north and east directions, respectively. Note that the output files (snapshot and waveform) will be rotated if this value is nonzero. <ol> <li> <p>Maeda, T., Furumura, T., Noguchi, S., Takemura, S., Sakai, S., Shinohara, M., Iwai, K., &amp; Lee, S.-J. (2013). Seismic and tsunami wave propagation of the 2011 Off the Pacific Coast of Tohoku Earthquake as inferred from the tsunami-coupled finite difference simulation, Bulletin of the Seismological Society of America, 103, 1456\u20131472, doi:10.1785/0120120118. (article link) \u21a9</p> </li> <li> <p>Kawase, K. (2011), A general formula for calculating meridian arc length and its application to coordinate conversion in the Gauss-Kr\u00fcger projection, Bulletin of the Geospatial Information Authority of Japan, 59, 1\u201313. (article link) \u21a9</p> </li> </ol>"},{"location":"2._Parameters/0204_visco/","title":"Viscoelastic Bodies","text":"<p><code>OpenSWPC</code> adopts the generalized Zener body (GZB) as a model of the viscoelastic body. It consists of several viscoelastic Zener bodies with different relaxation times to attain nearly constant Q in a wide frequency range. As a consequence, it accompanies the frequency-dependent body wavespeed via physical dispersion (e.g., Aki and Richards, 20021); therefore, users should specify the reference frequency in which the velocity model is given.</p> <p>Figure</p> <p> A schematic illustration of the Generalized Zener body. Zener Body (boxes) having different chracteristic times are connnected. </p> <p>Figure</p> <p> Example of frequency dependence of the intrinsic attenuation  for a GZB of <code>NM=3</code>. The thick solid line shows the attenuation of the entire model, while the dotted lines show the attenuation model for each constituent of the Zener body. The vertical lines show the specified minimum and maximum frequencies for the constant Q range.</p> <p>GZB consists of N_M Zener bodies, as schematically shown in the Figure above. This viscoelastic body is described by the relaxation functions for an elastic moduli \\pi \\equiv \\lambda + \\mu and \\mu, as</p> \\begin{align} \\begin{split}     \\psi_\\pi \\left( t \\right)      &amp;=      \\pi_R      \\left(        1 -        \\frac{1}{N_M}        \\sum_{m=1}^{N_M}       \\left( 1 -\\frac{ \\tau_m^{\\epsilon P}}{\\tau_{m}^\\sigma} \\right)       e^{-t/\\tau^\\sigma_m}     \\right)     H(t)     \\\\     \\psi_\\mu \\left( t \\right)      &amp;=      \\mu_R      \\left(        1 -        \\frac{1}{N_M}        \\sum_{m=1}^{N_M}       \\left( 1 -\\frac{ \\tau_m^{\\epsilon S}}{\\tau^\\sigma_m} \\right)       e^{-t/\\tau^\\sigma_m}     \\right)     H(t) \\end{split} \\end{align} <p>where \\tau_m^\\sigma is the relaxation time of the m-th body, \\pi_R\\equiv \\lambda_R + 2 \\mu_R and \\mu_R are the relaxed moduli, and \\tau_m^{\\varepsilon P} and \\tau_m^{\\varepsilon S} are creep times of the P- and S-waves, respectively. The wide frequency range of constant Q is achieved by connecting Zener bodies with different relaxation times. In addition, the intrinsic attenuations of the P- and S-waves (Q_P and Q_S, respectively) can be defined independently by choosing different creep times between the elastic moduli \\pi and \\mu. </p> \\begin{align} \\begin{split}     &amp;\\dot \\sigma_{ii} (t)      =      \\left( \\dot \\psi_\\pi (t)  - 2 \\dot \\psi_\\mu (t)  \\right)     \\ast     \\partial_k v_k(t)      + 2 \\dot \\psi_\\mu(t)  \\ast \\partial_i v_i(t)    \\\\     &amp;\\dot\\sigma_{ij} (t)     =      \\dot \\psi_\\mu(t)      \\ast      \\left( \\partial_i v_j(t)  + \\partial_j v_i(t)  \\right) \\end{split} \\end{align} <p>The convolution appearing in the constitutive equation can be avoided by defining the memory variables  (Robertsson, 19942) and solving the auxiliary differential equations for them. We also adopt the \\tau-method of Blanch (19943) to automatically choose the creep times that achieve a constant Q condition.</p> <p>Parameters</p> <code>fq_min</code> Minimum frequency of the constant-Q model. <code>fq_max</code> Maximum frequency of the constant-Q model. <code>fq_ref</code> Reference frequency at which the velocity model is given. <p>The Q^{-1} value becomes nearly constant between the frequencies of <code>fq_min</code> and <code>fq_max</code>.  Outside of the band, the attenuation becomes weaker with increasing/decreasing frequency. As shown in this figure, the nearly constant Q^{-1} is achieved using three different viscoelastic bodies. If one needs to make Q^{-1} constant over a wider frequency range, the hard-coded parameter <code>NM</code> should be increased. However, this leads to a significant increase in the memory usage and computational loads. The frequency dependence of Q^{-1} with the parameters specified above can be investigated using the program <code>qmodel_tau.x</code>.</p> <p>Note that velocities of P and S waves depends on a frequency if one use constant-Q model at a wide frequency band.  A parameter <code>fq_ref</code> is used as a reference frequency at which the input velocities are defined. </p> <ol> <li> <p>Aki, K., &amp; Richards, P. G. (2002), Quantitative Seismology, 2nd Edition, University Science Books.\u00a0\u21a9</p> </li> <li> <p>Robertsson, J. O., J. O. Blanch, and W. W. Symes (1994), Viscoelastic finite-difference modeling, Geophysics, 59(9), 1444\u20131456, doi:10.1190/1.1443701.\u00a0\u21a9</p> </li> <li> <p>Blanch, J. O., J. O. Robertsson, and W. W. Symes (1994), Modeling of a constant Q: methodology and algorithm for an efficient and optimally inexpensive viscoelastic technique, Geophysics, 60, 176\u2013184, doi:10.1111/j.1365-246X.2004.02300.x.\u00a0\u21a9</p> </li> </ol>"},{"location":"2._Parameters/0205_output/","title":"Simulation Data Output","text":""},{"location":"2._Parameters/0205_output/#output-datafile-format","title":"Output Datafile Format","text":"<p><code>OpenSWPC</code> can export two types of data: spatiotemporal snapshots and the seismic waveform at stations.</p> <p>For snapshot files, the user may choose from an originally defined binary format (obsolete and not recommended) or a <code>NetCDF</code> file (recommended). The waveforms are usually exported in <code>SAC</code> format. The endian conversion is not performed at the time of the data output. However, the official libraries of <code>NetCDF</code> and <code>SAC</code> automatically detect the endian format and convert them if necessary. Therefore, users do not have to worry about the differences in endian formats between machines.</p> <p>There is a utility program to read the original-formatted data. Note that the binary format may have slight differences for different versions of <code>OpenSWPC</code>. Because the format change is tracked, backward compatibility is always assured. It is recommended to use the same version of the simulation code. </p>"},{"location":"2._Parameters/0205_output/#header-information-of-the-waveform-files","title":"Header information of the waveform files","text":"<p>For <code>SAC</code> files, the header components described in the following table are automatically set. The units of <code>SAC</code> files are nm/s for velocity and nm for displacement, following the standard of <code>SAC</code>. While the earthquake source may be represented by multiple point sources, the header always represents the source listed in the first line of the source input file.</p> header name description <code>kevnm</code> <code>title</code> of the parameter file <code>evlo</code>, <code>evla</code>, <code>evdp</code> The location of the event (in degrees for horizontal, in m for depth)\uff0eIf the loctaion is given in the Cartesian coordinate, a map projection is perfomed with parameters <code>clon</code> and <code>clat</code>. <code>o</code> Origin time of the event listed in the first line of the source list <code>kzdate</code>, <code>kztime</code> Date and time of the execution of the simulation code <code>b</code> <code>tbeg</code> of the parameter file <code>delta</code> <code>ntdec_w</code> <code>dt</code> <code>mag</code> The moment magnitude converted from the seismic moment <code>user0</code>,..., <code>user5</code> Moment tensor (m_{xx},m_{yy},m_{zz},m_{yz},m_{xz},m_{xy}) of the first line of the source file <code>user6</code>, <code>user7</code>, <code>user8</code> <code>clon, clat, phi</code> of the parameter file <code>kstnm</code> <code>stnm</code> of the parameter file <code>stlo</code>, <code>stla</code>, <code>stdp</code> Station location (in degrees for horizontal, in m for depth). If the loctaion is given in the Cartesian coordinate, a map projection is perfomed with parameters <code>clon</code> and <code>clat</code>. <code>kcmpnm</code> <code>Vx, Vy, Vz</code> for velocities or <code>Ux, Uy, Uz</code> for displacements <code>cmpinc</code>,<code>cmpaz</code> Station directions according to the coordinate specification <code>idep</code> 7 for velocity, \uff16 for displacement"},{"location":"2._Parameters/0205_output/#header-of-the-snapshot","title":"Header of the Snapshot","text":"<p>The snapshot file contains the header information listed in the following table. These headers are commonly defined in either original format or <code>NetCDF</code>. </p> var name type description <code>bintype</code> character(8) Fixed to \"STREAMIO\" <code>codetype</code> character(8) <code>SWPC_3D</code>, <code>SWPC_PV</code>, or <code>SWPC_SH</code> depending on the code <code>hdrver</code> integer Header version <code>title</code> character(80) <code>title</code> in the parameter file <code>exedate</code> integer Date and time of the execution in POSIX time <code>coordinate</code> character(2) Snapshot cross section: <code>'xy'</code>, <code>'xz'</code>, <code>'yz'</code>, <code>'fs'</code>, or <code>'ob'</code> <code>datatype</code> character(2) Data type: <code>'ps'</code> or <code>'v2'</code> or <code>'v3'</code> <code>ns1,ns2</code> integer Number of data samples along the first and second axes <code>beg1,beg2</code> real Coordinate value at the first data point of the axes <code>ds1,ds2</code> real Snapshot grid spacing <code>dt</code> real Time step width of the snapshot <code>na1,na2</code> real Grid numbers of the absorbing boundary layer in the snapshot <code>nmed</code> integer Number of stored medium parameters <code>nsnp</code> integer Number of snapshots per time step <code>clon,clat</code> real <code>clon, clat</code> in the parameter file <code>v1,v2,v3</code> real Currently not being used <p>Change in a SAC header</p> <p><code>evdp</code> is measured in a unit of km after OpenSWPC version 5.0, while it was in m unit previously.</p> <p>For <code>NetCDF</code>, these headers are set as global attributes. The other headers are set following the COARDS Conventions and the CF Convention. Thanks to these rules, output <code>NetCDF</code> files of <code>OpenSWPC</code> can be directly read by many scientific visualization tools, such as ParaView, Panoply or GMT. </p>"},{"location":"2._Parameters/0205_output/#snapshot-data-output","title":"Snapshot Data Output","text":"<p>Spatiotemporal snapshot output may be created along cross sections of <code>xy</code>, <code>yz</code>, and <code>xz</code> profiles on the topography (<code>fs</code>) and/or on the bathymetry (<code>ob</code>). There are three types of snapshots: divergence and rotation of the velocity (<code>ps</code>), velocity (<code>v</code>), and displacement (<code>u</code>).</p> <p>The use of spatial and temporal decimations is recommended to reduce the I/O load and export data size. Decimation in time is specified by <code>ntdec_s</code> starting from <code>it=0</code> (before starting the computation). In space, the decimations are performed by factors of <code>idec</code>, <code>jdec</code>, and <code>kdec</code>, and <code>OpenSWPC</code> tries to export the center of the decimation window, as schematically shown in the following figure.  The numbers of exporting grids in each MPI node do not necessarily need to be the same for each node. The amplitudes of these snapshot points will be gathered to specific nodes and exported as single files.</p> <p>Figure</p> <p> Schematic of the spatial decimation for the snapshot output. The vertical dotted lines show the borders of the MPI nodes. In this example, the data at the blue grids will be exported as the snapshot data.</p> <p>The snapshot data will be exported from different node of computation to ballance the computational loads. </p> section type output node yz PS 0 xz PS <code>mod(1, nproc)</code> xy PS <code>mod(2, nproc)</code> fs PS <code>mod(3, nproc)</code> ob PS <code>mod(4, nproc)</code> yz V <code>mod(5, nproc)</code> xz V <code>mod(6, nproc)</code> xy V <code>mod(7, nproc)</code> fs V <code>mod(8, nproc)</code> ob V <code>mod(9, nproc)</code> yz U <code>mod(10, nproc)</code> xz U <code>mod(11, nproc)</code> xy U <code>mod(12, nproc)</code> fs U <code>mod(13, nproc)</code> ob U <code>mod(14, nproc)</code> <p>Parameters</p> <code>snp_format</code> Datafile format of the snapshot files: <code>\"native\"</code> (original binary format; obsolete) or <code>\"netcdf\"</code> (recommended). Although the <code>NetCDF</code> file format is recommended for convenience in data handling, the use of this format may lead to a slight (\\sim 10 %) increase in computation time. <code>xy_ps%sw</code>, <code>xz_ps%sw</code>, <code>yz_ps%sw</code>, <code>fs_ps%sw</code>, <code>ob_ps%sw</code> Flags for exporting snapshot files of the PS files (<code>.true.</code> or <code>.false.</code>). If they are set to <code>.true.</code>, the divergence and rotation vector of the particle velocity will be exported.                                                      <code>xy_v3%sw</code>, <code>xz_v3%sw</code>, <code>yz_v3%sw</code>, <code>fs_v3%sw</code>, <code>ob_v3%sw</code> Flags for exporting snapshot files of the velocities. <code>xy_u3%sw</code>, <code>xz_u3%sw</code>, <code>yz_u3%sw</code>, <code>fs_u3%sw</code>, <code>ob_u3%sw</code> Flags for exporting snapshot files of the displacements. <code>z0_xy</code> Depth (km) of the snapshot cross section. <code>x0_yz</code> X-coordinate value (km) of the snapshot cross section. <code>y0_xz</code> Y-coordinate value (km) of the snapshot cross section. <code>ntdec_s</code> Temporal decimation factor of the snapshot output. Snapshots will be exported every <code>ntdec_s</code> time steps. <code>idec</code>, <code>jdec</code>, <code>kdec</code> Spatial decimation factor of the snapshot output for the x, y, and z directions."},{"location":"2._Parameters/0205_output/#seismic-waveform-output","title":"Seismic Waveform Output","text":"<p>Seismic velocity and/or displacement records at specified stations can be obtained as SAC-formatted files by setting the parameters <code>sw_wav_v</code> and/or <code>sw_wav_u</code> to <code>.true.</code>. Displacement records are calculated before the decimation, and therefore, they are expected to be more accurate than performing a numerical integration of the output velocity records. The traces are stored in the memory during the computation and are exported at the end.</p> <p>Station locations are given in Cartesian coordinates (<code>xy</code>) or geographical coordinates (<code>ll</code>), as in the following table.  In the station list, lines starting with <code>#</code> will be ignored.</p> Type Format <code>'xy'</code> <code>x      y     z   name   zsw</code> <code>'ll'</code> <code>lon    lat   z   name   zsw</code> <p>The depth of the station can be changed depending on the variable <code>zsw</code> in the station list, as shown in the next table. T</p> <code>zsw</code> Station depth setting <code>\u2019dep\u2019</code> Calculate the station location from the given station depth <code>\u2019fsb\u2019</code> One grid below the free surface (for oceanic areas, the sea surface) <code>\u2019obb\u2019</code> One grid below the ocean bottom (seafloor) or ground surface <code>\u2019oba\u2019</code> One grid above of the ocean bottom (seafloor) or ground surface <code>\u2019bdi\u2019 (i=0, \\cdots, 9)</code> Internal velocity discontinuity specified by the velocity model <p>This operation is important because the station near the free surface is occasionally located above the approximated ground surface in air due to the staircase approximation of the topography and bathymetry. Usually, it is recommended to set <code>zsw=\u2019obb\u2019</code>; this setting locates stations one-grid level below the ground surface (or seafloor).</p> <p>Multiple stations can be specified in the station list file. There is no fixed limit on the number of stations. The number of stations is automatically counted, and only the stations inside the computational region will be exported.</p> <p>Parameters</p> <code>sw_wav_v</code>, <code>sw_wav_u</code> <code>.true. for exporting velocity (</code>sw_wav_v<code>) and displacement (</code>sw_wav_v`) traces. <code>ntdec_w</code> Decimation factor of the waveform output. For <code>ntdec_w=1</code>, traces at every computational time step will be exported. <p><code>st_format</code> :Format of the station list file. See the above table. </p> <code>fn_stloc</code> Station location filename. <code>wav_format</code> Station file format: <code>\u2019sac\u2019</code> (usual, recommended) or <code>\u2019csf\u2019</code>."},{"location":"2._Parameters/0205_output/#strain-and-stress-output","title":"Strain and stress output","text":"<p>By specifying <code>sw_wav_strain = .true.</code> and <code>sw_wav_stress = .true.</code>, users can obtain strain and stress time series as a SAC-formatted data file as in the case of velocity and displacement (Experimental; new in version 5.0). The specification of station locations are same with the case of velocity/displacement. The output units are nondimensional for strain and [Pa] for stress data. </p>"},{"location":"2._Parameters/0205_output/#distance-calculation-mode","title":"Distance calculation mode","text":"<p>In default, <code>OpenSWPC</code> will store the station location via <code>stlo</code> and <code>stla</code> headers of <code>SAC</code>, and <code>SAC</code> program will automatically calculate the epicentral distance. However if the input station location is given in <code>xy</code> coordinate and distance if very long, the error originated from the map projection is not negilible. In such cases, one may calculate epicentral distance in the <code>OpenSWPC</code> and store to the <code>epdist</code> header of <code>SAC</code> files, and prohibit <code>SAC</code> to overwright the distance header. </p> <p>Parameters</p> <code>wav_calc_dist</code> If this parameter is <code>.true.</code>, calculate and store the epicentral distance and store it to the <code>SAC</code> header."},{"location":"2._Parameters/0205_output/#the-csf-format","title":"The csf format","text":"<p>Because the <code>SAC</code> format is defined to express the data at one component of one station in a single file, the number of files may become extraordinarily large. In this case, data transfer between computers will become very inefficient. For <code>OpenSWPC</code> version 3.0 or later, users can choose a concatenated <code>SAC</code> format (csf) for the data output by specifying <code>wav_format=\u2019csf\u2019</code>. This is a set of <code>SAC</code> binary files connected to a single file, with headers as in the following: </p> <p>CSF header format</p> <code>identifier</code> Fixed to 'CSFD' <code>ntrace</code> Number of traces in the file <code>npts</code> Number of samples in a trace <p>It is assumed that the number of samples (<code>ntpts</code>) are in common in the <code>csf</code> format. If the <code>csf</code> format is selected, each parallel computation node exports waveforms in the corresponding domain into csf files for every components. </p> <p>Exporting large number of waveform dataset</p> <p>Large-scale computer systems often adopt the parallel lustre file system, which is not good at treating small but many files such as seismic wave traces in SAC format. In this case, it is recommended to use concatnated CSF format.</p>"},{"location":"2._Parameters/0205_output/#output-filename-conventions","title":"Output Filename Conventions","text":"<p>Output data names are determined by the following rules:</p> <ul> <li>Snapshot \u2006\u2006\u2006 <code>(odir)/(title).(section).(type).(ext)</code></li> <li>Waveform (SAC) \u2006\u2006\u2006<code>(odir)/wav/(title).(stnm).(component).sac</code></li> <li>Waveform (CSF) \u2006\u2006\u2006<code>(odir)/wav/(title).(node-ID).(component).csf</code></li> <li>Computation time \u2006\u2006<code>(odir)/wav/(title).tim</code></li> </ul> <p>In the above rules, (section) takes a cross section such as <code>xy</code> or <code>yz</code>. (type) takes v or ps depending on the snapshot data type. (component) takes <code>Vx</code>, <code>Vy</code>, or <code>Vz</code> for the velocity or <code>Ux</code>, <code>Uy</code>, or <code>Uz</code> for the displacement. Extension of the snapshot <code>ext</code> will be <code>nc</code> for NetCDF and <code>snp</code> for the native format. </p>"},{"location":"2._Parameters/0206_vmodel/","title":"Velocity Model","text":""},{"location":"2._Parameters/0206_vmodel/#choice-of-velocity-model-type","title":"Choice of Velocity Model Type","text":"<p>Users can choose a uniform (<code>uni</code>), a layered homogeneous medium (<code>lhm</code>), or a <code>NetCDF</code> (grd) file input (<code>grd</code>) velocity type. In addition, a randomly inhomogeneous medium calculated by an external program can be overlaid onto the model.</p> <p>Parameters</p> <code>vmodel_type</code> <p>Specify the input velocity model. Choose from one of the following.</p> <code>\u2019uni\u2019</code> <p>omogeneous medium with a free surface. The following additional parameters are required:</p> <ul> <li><code>vp0</code> : P-wave velocity [km/s] in the uniform model.</li> <li><code>vs0</code> : S-wave velocity [km/s] in the uniform model.</li> <li><code>rho0</code> : Mass density [g/cm] in the uniform model.</li> <li><code>qp0</code>  :  Q_P of the uniform model.</li> <li><code>qs0</code>  :  Q_S of the uniform model.</li> <li><code>topo0</code> : Topography depth in the uniform model. If this value is greater than zero, seawater is filled from z=0 to this depth.</li> </ul> <code>\u2019lhm\u2019</code> <p>Layered Homogeneous Medium. The one-dimensional velocity structure file should be specified as below.</p> <ul> <li><code>fn_lhm</code>: Medium specification file. Each line specifies the depth of the top of the layer, density, P-wave velocity, S-wave velocity, Q_P, and Q_S below that depth. They must be separated by space(s) (see following example). Lines starting with <code>#</code> will be neglected.</li> </ul> <pre><code># depth  rho(g/cm^3)  vp(km/s)   vs(km/s)     Qp      Qs\n# -------------------------------------------------------\n0        2.300      5.50      3.14     600     300\n3        2.400      6.00      3.55     600     300\n18        2.800      6.70      3.83     600     300\n33        3.200      7.80      4.46     600     300\n100        3.300      8.00      4.57     600     300\n225        3.400      8.40      4.80     600     300\n325        3.500      8.60      4.91     600     300\n425        3.700      9.30      5.31     600     300\n</code></pre> <code>\u2019grd\u2019</code> <p>Velocity model input from <code>NetCDF</code> (GMT grd) files. The compilation of <code>OpenSWPC</code> should be performed in accompaniment with the use of the <code>NetCDF</code> library. The following parameters are required.</p> <ul> <li> <p><code>dir_grd</code>: Directory of the velocity structure (<code>NetCDF</code>) files.</p> </li> <li> <p><code>fn_grdslt</code>: List file that specifies the grd files and the associated medium. Each grd file specifies the depth of the top surface of the structural boundary.  The unit of depth is \"m\".\u3000 Each line contains the grd filename (with a single or double quotation mark; recommended), density, P-wave velocity, S-wave velocity, Q_P, Q_S, and the layer number integers (0-9) separated by spaces (see following example). Lines starting with <code>#</code> will be neglected. The layer number is used to specify the source or station depth fit to the layer depth. The first <code>NetCDF</code> file will be treated as the ground surface. If the depth of the ground surface is deeper than zero, the depth range from z = 0 to the surface is assumed to be an ocean layer. The grid above the free surface is treated as an air column.</p> </li> </ul> <pre><code># grd filename          rho    vp    vs    QP   QS  sw\n# -------------------------------------------------------\n'eJIVSM_01_TAB_.grd'   1.80  1.70  0.35   119    70  0 'eJIVSM_02_BSM_.grd'   1.95  1.80  0.50   170   100  0 'eJIVSM_03_BSM_.grd'   2.00  2.00  0.60   204   120  0 'eJIVSM_04_BSM_.grd'   2.05  2.10  0.70   238   140  0 'eJIVSM_05_BSM_.grd'   2.07  2.20  0.80   272   160  0 'eJIVSM_06_BSM_.grd'   2.10  2.30  0.90   306   180  0 'eJIVSM_07_BSM_.grd'   2.15  2.40  1.00   340   200  0 'eJIVSM_08_BSM_.grd'   2.20  2.70  1.30   442   260  0 'eJIVSM_09_BSM_.grd'   2.25  3.00  1.50   510   300  0 'eJIVSM_10_BSM_.grd'   2.30  3.20  1.70   578   340  0 'eJIVSM_11_BSM_.grd'   2.35  3.50  2.00   680   400  0 'eJIVSM_12_BSM_.grd'   2.45  4.20  2.40   680   400  0 'eJIVSM_13_BSM_.grd'   2.60  5.00  2.90   680   400  0 'eJIVSM_14_BSM_.grd'   2.65  5.50  3.20   680   400  0 'eJIVSM_15_UPC_.grd'   2.70  5.80  3.40   680   400  0 'eJIVSM_16_LWC_.grd'   2.80  6.40  3.80   680   400  0 'eJIVSM_17_CTM_.grd'   3.20  7.50  4.50   850   500  0 'eJIVSM_18_PH2_.grd'   2.40  5.00  2.90   340   200  1 'eJIVSM_19_PH3_.grd'   2.90  6.80  4.00   510   300  0 'eJIVSM_20_PHM_.grd'   3.20  8.00  4.70   850   500  0 'eJIVSM_21_PA2_.grd'   2.60  5.40  2.80   340   200  2 'eJIVSM_22_PA3_.grd'   2.80  6.50  3.50   510   300  0 'eJIVSM_23_PAM_.grd'   3.40  8.10  4.60   850   500  0 </code></pre> <ul> <li> <p><code>node_grd</code>: MPI node to input the <code>NetCDF</code> data. All <code>NetCDF</code> files are first read by this node, and then, transferred to all nodes via MPI data communication.</p> </li> <li> <p><code>is_ocean</code> : In the default (<code>.true.</code>), the depth from z = 0 to the set topography will be treated as an ocean layer. If this parameter is set to <code>.false.</code>, the seafloor will be used as a free surface and no seawater will be used.</p> </li> <li> <p><code>topo_flatten</code> : Make topography variatinon flat by offsetting the medium below. </p> </li> </ul> <p>Renaming <code>is_flatten</code> to <code>topo_flatten</code></p> <p>This option used to be <code>is_flatten</code> until Version 5.1, but has been renamed to avoid confusion with the <code>earth_flattening</code> option implemented in Version 5.2.</p> <code>\u2019user\u2019</code> A user subroutine defined in <code>src/swpc_*/m_vmodel_user.F90</code> is used for defining velocity model. Recompilation of the code is necessary if this Fortran file is modified. Please refer the comments in the file for input/output of the user subroutine. <code>vcut</code> Cut-off velocity. For the <code>\u2019lhm\u2019</code> or <code>\u2019grd\u2019</code> models, a velocity slower than this value will be overwritten by the <code>vcut</code> value. This parameter is used to avoid wavelengths that are too short and violate the wavelength condition (the wavelength is recommended to be longer than 5-10 grids). This substitution will not be performed in the oceanic area. <code>munk_profile</code> (new in version 5.2) If this value is <code>.true.</code>, the Munk's profile with minima is applied in the seawater layer. Otherwise a constant value of 1.5 km/s is used. See the explanation in the next section. <code>earth_flattening</code> (new in version 5.2) If this option is <code>.true.</code>, OpenSWPC performs the transformation the Cartesian coordinate to pseudo-spherical coordinate by means of the Earth-flattening tranformation (e.g., Aki and Richards, Box 9.2). This option may be useful for reproducing accurate arrival time of seismic waves for long (~500 km or more) traveling distances and/or for deep-focus earthquake. Please be noted that this transformation is not exact in P-SV and 3D models.  <p>Warning</p> <p>The implementation of <code>earth_flattening</code> mode in version 5.2 is still in the experimental stage. Please use it with caution. </p>"},{"location":"2._Parameters/0206_vmodel/#on-treatments-of-air-and-seawater-layer","title":"On Treatments of Air and Seawater Layer","text":"<p>In <code>OpenSWPC</code>, the air column has a mass density of \\rho=0.001 [g/cm{}^3],  velocities of V_P = V_S = 0 [km/s], and intrinsic attenuation parameters of Q^P = Q^S = 10^{10}.  The air column is treated as a vacuum with no seismic wave propagation (with zero velocities). However, the mass density in the air column must not be zero to avoid division by zero. </p> <p>In the ocean column, \\rho= 1.0 [g/cm{}^3], V_S = 0.0 [km/s], and Q^P = Q^S = 10^6 are assumed.  The attenuation of underwater sound waves is known to be very small, so we have introduced a very large Q values that are virtually unattenuated.  The P-wave velocity is V_P=1.5 km/s, but in the version 5.2 and later, the depth-dependent Munk's profile which is defined the equation below can be used by setting <code>munk_profile = .true.</code>. </p> \\begin{align*} &amp;V_P(z) = 1.5 \\times \\left[ 1.0 + 0.00737 \\left( z_b - 1 + e^{-zb} \\right) \\right] \\text{[m/s]}\\\\ &amp;z_b = 2(z-1.3) /1.3 \\end{align*} <p>where the unit of z is km. This profile contains a minima which corresponds to the SOFAR channel at a depth of 1300 m. </p> <p>In the free surface and seafloor, the reduced order of the finite difference is performed according to Okamoto and Takenaka (20051) and Maeda and Furumura (20032).  These discontinuities are automatically detected as boundaries that change \\mu and \\lambda from zero to a finite value.</p>"},{"location":"2._Parameters/0206_vmodel/#small-scale-random-inhomogeneity","title":"Small-Scale Random Inhomogeneity","text":"<p>Users may overlay small-scale velocity inhomogeneities with specified power-law spectra on the background velocity models of <code>\u2019uni\u2019</code>, <code>\u2019lhm\u2019</code>, and <code>\u2019grd\u2019</code>. The small-scale velocity inhomogeneity \\xi is defined by external files. From the average velocities V_{P0}, V_{S0}, and \\rho_0, the fluctuated velocities and density are given as</p> \\begin{align}   V_P = V_{P0} \\left( 1 + \\xi \\right) , \\, V_S = V_{S0} \\left( 1 + \\xi \\right) , \\,   \\rho = \\rho_0 \\left( 1 + \\nu \\xi \\right) \\end{align} <p>where \\nu=0.8 is a scaling parameter based on a laboratory experiment (Sato et al., 20123).</p> <p>Velocity models having this small-scale inhomogeneity are specified by appending <code>_rmed</code> to the original velocity models: <code>vmodel_type=\u2019uni_rmed\u2019</code>, <code>\u2019lhm_rmed\u2019</code>, or <code>\u2019grd_rmed\u2019</code>. </p> <p>The random media files are generated by a separated program. See this section for details.</p> <p>Parameters</p> <code>dir_rmed</code> A directory name for storing the random media data files. <p>The random media are given as two- or three-dimensional <code>NetCDF</code> files. At each grid location, the velocity fluctuation \\xi(I,J,K) is defined. The code automatically reads the corresponding volume from the file; It is not necessary to decompose the <code>NetCDF</code> files into parts for parallel computation. If the computational size (<code>Nx, Ny, Nz</code>) is larger than the random media file size, the media is used repeatedly by applying a circular boundary condition. The simulation codes do not care if the grid sizes of the simulation and the input random media file are identical.</p> <p>Note that users may use the 3D random media files for 2D calculation. </p>"},{"location":"2._Parameters/0206_vmodel/#parameters-for-uni_rmed","title":"Parameters for <code>uni_rmed</code>","text":"<p>The following parameter is required in addition to the parameters used in <code>vmodel=\u2019uni\u2019</code>.</p> <p>Parameters</p> <code>fn_rmed0</code> Name of the random medium file. <p>In this model, the average velocity will be fluctuated based on the input <code>fn_rmed0</code>.</p>"},{"location":"2._Parameters/0206_vmodel/#parameters-for-lhm_rmed","title":"Parameters for <code>lhm_rmed</code>","text":"<p>In this model, the small-scale velocity fluctuation is applied to every layer defined by <code>vmodel=\u2019lhm\u2019</code>. It is possible to assign different random velocity models at different layers.</p> <p>The following parameter is substituted in <code>fn_lhm</code>:</p> <p>Parameters</p> <code>fn_lhm_rmed</code> List file of the velocity structure. <p>The list file has a similar format to <code>fn_lhm</code>; it contains the filenames of the random media files in the rightmost column as in the following example.</p> <pre><code># depth  rho(g/cm^3)  vp(km/s)   vs(km/s)     Qp      Qs     fn_rmed\n# ----------------------------------------------------------------------\n0        2.300      5.50      3.14     600     300     rmedia1.nc\n3        2.400      6.00      3.55     600     300     rmedia1.nc\n18        2.800      6.70      3.83     600     300     rmedia2.nc\n33        3.200      7.80      4.46     600     300     rmedia2.nc\n100       3.300      8.00      4.57     600     300     -\n225       3.400      8.40      4.80     600     300     -\n325       3.500      8.60      4.91     600     300     -\n425       3.700      9.30      5.31     600     300     -\n</code></pre> <p>In this example, the layers starting from depths of 0 km and 3 km have fluctuations defined in <code>rmedia1.nc</code>, and the layers from 18 km and 33 km are defined in <code>rmedia2.nc</code>. For the layer deeper than 100 km, a dummy filename (<code>-</code>) is given. In this case (i.e., there is no file found), a fluctuation will not be given. The dummy filename is mandatory in this case.</p>"},{"location":"2._Parameters/0206_vmodel/#parameters-for-grd_rmed","title":"Parameters for <code>grd_rmed</code>","text":"<p>When overlaying the random fluctuations to the layers defined by the model of <code>vmodel=\u2019grd\u2019</code>, it is possible to assign different random media to different layers. The starting depth of the velocity fluctuation can be either the free surface or depths defined by a layer.</p> <p>The filename of the velocity fluctuation is given by the following parameter:</p> <p>Parameters</p> <code>fn_grdlst_rmed</code> A list file that specifies the velocity layer and the random fluctuation files for each layer. <p>The list file has two additional columns at the right: the filename of the random medium and the reference layer number.</p> <pre><code># grd filename          rho    vp    vs   QP   QS  sw  fn_rmed      ref\n# -----------------------------------------------------------------------\n'eJIVSM_01_TAB_.grd'   1.80  1.70  0.35   119    70  0 'rmed3d_1.nc' 0\n'eJIVSM_02_BSM_.grd'   1.95  1.80  0.50   170   100  0 'rmed3d_1.nc' 0\n'eJIVSM_03_BSM_.grd'   2.00  2.00  0.60   204   120  0 'rmed3d_1.nc' 0\n'eJIVSM_04_BSM_.grd'   2.05  2.10  0.70   238   140  0 'rmed3d_1.nc' 0\n'eJIVSM_05_BSM_.grd'   2.07  2.20  0.80   272   160  0 'rmed3d_1.nc' 0\n'eJIVSM_06_BSM_.grd'   2.10  2.30  0.90   306   180  0 'rmed3d_1.nc' 0\n'eJIVSM_07_BSM_.grd'   2.15  2.40  1.00   340   200  0 'rmed3d_1.nc' 0\n'eJIVSM_08_BSM_.grd'   2.20  2.70  1.30   442   260  0 'rmed3d_1.nc' 0\n'eJIVSM_09_BSM_.grd'   2.25  3.00  1.50   510   300  0 'rmed3d_1.nc' 0\n'eJIVSM_10_BSM_.grd'   2.30  3.20  1.70   578   340  0 'rmed3d_1.nc' 0\n'eJIVSM_11_BSM_.grd'   2.35  3.50  2.00   680   400  0 'rmed3d_1.nc' 0\n'eJIVSM_12_BSM_.grd'   2.45  4.20  2.40   680   400  0 'rmed3d_1.nc' 0\n'eJIVSM_13_BSM_.grd'   2.60  5.00  2.90   680   400  0 'rmed3d_1.nc' 0\n'eJIVSM_14_BSM_.grd'   2.65  5.50  3.20   680   400  0 'rmed3d_1.nc' 0\n'eJIVSM_15_UPC_.grd'   2.70  5.80  3.40   680   400  0 'rmed3d_1.nc' 0\n'eJIVSM_16_LWC_.grd'   2.80  6.40  3.80   680   400  0 'rmed3d_3.nc' 0\n'eJIVSM_17_CTM_.grd'   3.20  7.50  4.50   850   500  0 'rmed3d_3.nc' 0\n'eJIVSM_18_PH2_.grd'   2.40  5.00  2.90   340   200  1 'rmed3d_2.nc' 18\n'eJIVSM_19_PH3_.grd'   2.90  6.80  4.00   510   300  0 'rmed3d_2.nc' 18\n'eJIVSM_20_PHM_.grd'   3.20  8.00  4.70   850   500  0 'rmed3d_3.nc' 18\n'eJIVSM_21_PA2_.grd'   2.60  5.40  2.80   340   200  2 'rmed3d_2.nc' 21\n'eJIVSM_22_PA3_.grd'   2.80  6.50  3.50   510   300  0 'rmed3d_2.nc' 21\n'eJIVSM_23_PAM_.grd'   3.40  8.10  4.60   850   500  0 'rmed3d_3.nc' 21\n</code></pre> <p>The reference layer number defines the reference depth plane of the random media. If this number is zero, the depth grid number of the computational model is directly used to assign the random media. This is exactly the same as the behavior of the <code>uni_rmed</code> or <code>lhm_rmed</code> models. If the nonzero value of the reference layer number <code>NR</code> is specified, the depth of the <code>NR</code> layer is treated as the base plane. The depth grid of the random medium is measured from this depth. Introducing this reference plane, the inclined random media according to the velocity discontinuity (such as the plate boundary) can be specified. In the above example, the 18th and 21st layers are treated as the references of 18--20th and 21--23th layers, respectively.</p>"},{"location":"2._Parameters/0206_vmodel/#truncation-of-velocity-fluctuations","title":"Truncation of Velocity Fluctuations","text":"<p>If the magnitude of the velocity fluctuation becomes too large, there can be a spot with non-physical velocity, such as negative velocity or a velocity too large for the Earth medium. The simulation may be unstable under the following conditions:</p> <ol> <li> <p>The fluctuated velocity V=(1+\\xi)V_0 exceeds the stability     condition for cases with \\xi&gt;0.</p> </li> <li> <p>The velocity has unrealistic negative values for cases with     \\xi&lt;-1.0.</p> </li> <li> <p>The mass density has negative values for cases with \\xi&lt;-1.25.</p> </li> </ol> <p>To avoid such situations, <code>OpenSWPC</code> automatically limits the range of the fluctuated velocity to <code>vcut</code>\\le v \\le 0.95 \\times v_\\text{max}, where <code>vcut</code> is an input parameter and v_\\text{max} is the maximum possible velocity derived from the stability condition.</p> <p>In addition, the following parameter controls the minimum density.</p> <p>Parameters</p> <code>rhomin</code> Minimum mass density in g/cm{}^3. (1.0 g/cm{}^3 by default.) <ol> <li> <p>Okamoto, T., and H. Takenaka (2005). Fluid-solid boundary implementation in the velocity-stress finite- difference method, Zisin 2, 57, 355\u2013364, doi:10.4294/zisin1948.57.3_355. (in Japanese with English Abstract) (article link) \u21a9</p> </li> <li> <p>Maeda, T., and T. Furumura (2013), FDM simulation of seismic waves, ocean acoustic waves, and tsunamis based on tsunami-coupled equations of motion, Pure Appl. Geophys., 170(1-2), 109\u2013127, doi:10.1007/s00024-011-0430-z. (article link) \u21a9</p> </li> <li> <p>Sato, H., M. C. Fehler, and T. Maeda (2012), Seismic Wave Propagation and Scattering in the Heterogeneous Earth: Second Edition, Springer Berlin Heidelberg, Berlin, Heidelberg, doi:10.1007/978-3-642-23029-5.\u00a0\u21a9</p> </li> </ol>"},{"location":"2._Parameters/0207_source/","title":"Earthquake Source Specification","text":""},{"location":"2._Parameters/0207_source/#moment-rate-function","title":"Moment Rate Function","text":"<p>This section describes the moment rate functions, , that can be used in <code>OpenSWPC</code> by choosing the parameter <code>stftype</code>. In the following, all moment rate functions have a duration (or characteristic time) T_R and are normalized so that the total moment is 1.</p> <ul> <li>Box-car function (<code>boxcar</code>)</li> </ul> \\begin{align}    \\dot{m}^ R \\left(t\\right) &amp;=     \\frac{1}{T_R}    &amp; \\begin{array}{r} ( 0 \\le t \\le T_R) \\\\ \\end{array} \\end{align} <ul> <li>Triangle function (<code>triangle</code>)</li> </ul> \\begin{align} \\dot{m}^ T \\left(t\\right)  =  \\begin{cases} 4t/T_R^2 &amp; ( 0 \\le t \\le T_R/2 ) \\\\ -4(t-T_R)/T_R^2 &amp; ( T_R/2 &lt; t \\le T_R ) \\end{cases} \\end{align} <ul> <li>Herrmann function (<code>herrmann</code>)</li> </ul> \\begin{align} \\dot{m}^ H \\left(t\\right) = \\begin{cases} 16 t^2 / T_R^3 &amp; ( 0 \\le t \\le T_R/4  ) \\\\ -2 ( 8 t^2 - 8 t T_R + T_R^2 ) / T_R^3  &amp; ( T_R/4 &lt; t \\le 3T_R/4  ) \\\\ 16 \\left( t - T_R \\right)^2 / T_R^3 &amp;  (3T_R/4 &lt; t \\le T_R  ) \\end{cases} \\end{align} <ul> <li>Cosine function (<code>cosine</code>)</li> </ul> \\begin{align} \\dot{m}^ C \\left(t\\right) = \\frac{1}{T_R} \\left[ 1 - \\cos \\left(\\frac{2 \\pi t}{T_R} \\right) \\right] \\quad ( 0 \\le t \\le T_R)  \\end{align} <ul> <li>K\u00fcpper wavelet (<code>kupper</code>)</li> </ul> \\begin{align}   \\dot{m}^K \\left( t \\right ) &amp;=    \\frac{3 \\pi}{4 T_R} \\sin^3\\left( \\frac{\\pi t}{T_R} \\right)    \\quad ( 0 \\le t \\le T_R)  \\end{align} <ul> <li>t-exp type function (<code>texp</code>)</li> </ul> \\begin{align}   \\dot{m}^{E} \\left( t \\right) &amp;= \\frac{(2 \\pi)^2 t}{T_R^2} \\exp\\left[ - \\frac{ 2 \\pi t}{T_R}\\right]   \\quad ( 0 \\le t )  \\end{align} <p>The next figure shows each moment rate function and its Fourier spectrum. </p> <p>Figure</p> <p> Moment rate functions \\dot{M}(t) (left) and their Fourier spectra (right). </p> <p>The moment rate functions have a roll off of f^{-1}--f^{-4} at frequencies of f\\gg 1/T_R. To avoid numerical dispersion, the source spectrum should be sufficiently small at the highest target frequency. As this maximum frequency, we adopt f_\\text{max}=2/T_R for all types of source time functions (the red dotted line in the figure.If the parameter is appropriately set so that numerical dispersion does not occur at frequencies below f_\\text{max}, the result should not be contaminated by numerical dispersion. In addition, the uppermost frequency, where the spectrum response of the source time function becomes flat in the frequency domain, is approximately f \\le 1/(2 T_R) (the blue dotted line in the figure. </p>"},{"location":"2._Parameters/0207_source/#moment-tensor-source","title":"Moment Tensor Source","text":"<p>The source mechanisms of the faulting are given by a six-component moment tensor or by three parameters of a double couple source (<code>strike</code>, <code>dip</code>, <code>rake</code>). The source locations can be given either by their computational or geographical coordinates. The size of the earthquake can be described by seismic moment M_0 or moment magnitude M_W or fault slip D &amp; area S.  In total, there are ten possible formats to describe the source. In the program, sources are given as a stress-drop source by using the moment rate function. The moment rate function is chosen from the given six functions. They require parameters in the source list file for their starting time T_0, duration T_R, and total moment M_0.</p> <p><code>OpenSWPC</code> can accept multiple point sources as multiple lines in the source list file. There is no fixed limit to the number of sources (in practice, this is determined by the memory size). By gradually changing the starting time and source location, a finite fault rupture can be mimicked. In the source list file, lines starting with <code>#</code> will be ignored. By setting <code>sdep_fit</code>, the source depth can be changed so that it fits the medium's velocity boundary. In this case, the depth in the source list file will be ignored. The layer number should be specified in the <code>fn_grd</code> or <code>fn_grd_rmed</code> list files.</p> <p>Parameters</p> <code>stf_format</code> <p>Format of the source list file. Choose from the following six candidates. </p> <ul> <li><code>'xym0ij'</code> :  x, y, z, T_0, T_R, M_0, m_{xx}, m_{yy},  m_{zz},  m_{yz}, m_{xz}, m_{xy} </li> <li> <p><code>'xym0dc'</code>  :  x, y, z, T_0, T_R, M_0,  strike, dip, rake  </p> </li> <li> <p><code>'llm0ij'</code>   : lon, lat, z, T_0, T_R, M_0, m_{xx}, m_{yy},  m_{zz}, m_{yz}, m_{xz}, m_{xy} </p> </li> <li> <p><code>'llm0dc'</code>  :  lon, lat, z, T_0, T_R, M_0, strike, dip, rake  </p> </li> <li> <p><code>'xymwij'</code>   :  x, y, z, T_0, T_R, M_W,  m_{xx}, m_{yy}, m_{zz}, m_{yz}, m_{xz}, m_{xy} </p> </li> <li> <p><code>'xymwdc'</code> :  x, y, z, T_0, T_R, M_W, strike, dip, rake  </p> </li> <li> <p><code>'llmwij'</code>  : lon, lat, z, T_0, T_R, M_W, m_{xx}, m_{yy}, m_{zz}, m_{yz},  m_{xz},  m_{xy} </p> </li> <li> <p><code>'llmwdc'</code>  : lon, lat, z, T_0, T_R, M_W, strike, dip, rake</p> </li> <li> <p><code>'lldsdc'</code> : lon, lat, z, T_0, T_R, D, S, strike, dip, rake</p> </li> <li> <p><code>'xydsdc'</code> : x, y, z, T_0, T_R, D, S, strike, dip, rake</p> </li> <li> <p><code>'psmeca'</code> : lon, lat, z, M_{rr}, M_{tt}, M_{ff}, M_{rt}, M_{rf}, M_{tf}, iexp \u00a0 (new in v5.2)</p> </li> </ul> <p>The unit of each variables are [km] for x, y, z, [Nm] for M_0 and m_{ij}, [s] for T_0 and T_R, [degree] for all parameters describing angles, [m] for slip D and [m{}^2] for area S. </p> <code>stftype</code> Choice of the source time function. Select from <code>'boxcar'</code>, <code>'triangle'</code>, <code>'herrmann'</code>, <code>'kupper'</code>, <code>'cosine'</code>, and <code>'texp'</code>. <code>fn_stf</code> Filename of the source list. <code>sdep_fit</code> Flag to fit the source depth to the velocity discontinuity.  <code>'asis'</code>: do not fit (default). <code>'bd{i}'</code>(i=1,2,\\cdots9): fits to the <code>i</code>-th boundary specified in the rightmost column of <code>fn_grdlst</code>."},{"location":"2._Parameters/0207_source/#specifying-the-magnitude-of-an-earthquake","title":"Specifying the magnitude of an earthquake","text":"<p>When the moment tensor component is given directly, there is a trade-off regarding magnitude between the specification of the seismic moment M_0 or moment magnitude M_W and the moment tensor component. For example, the following two specifications are completely equivalent</p> M_0 m_{xx} m_{yy} m_{zz} m_{yz} m_{xz} m_{xy} <code>1e15</code> <code>1.0</code> <code>1.0</code> <code>1.0</code> <code>0.0</code> <code>0.0</code> <code>0.0</code> <code>1.0</code> <code>1e15</code> <code>1e15</code> <code>1e15</code> <code>0.0</code> <code>0.0</code> <code>0.0</code> <p>Based on the input parameters, the final seismic moment \\overline{M}_0 is</p>      \\overline{M}_0 =\\times \\frac{ M_0 }{\\sqrt{2}} \\sqrt{m_{xx}^2 +m_{yy}^2 +m_{zz}^2 + 2(m_{yz}^2+m_{xz}^2+m_{xy}^2)}  <p>which is determined by If more than one point source is specified, the sum of all source elements in the above equation becomes the total seismic moment; in the case of 2D P-SV and SH calculations, only the components valid for each cross section are evaluated. Because of this notation of separable magnitudes, the moment tensor component is implicitly assumed to normalized to </p>   \\sqrt{m_{xx}^2 +m_{yy}^2 +m_{zz}^2 + 2(m_{yz}^2+m_{xz}^2+m_{xy}^2)} = 1  <p>It is not necessary to do so, but without this standardization, the M_W or M_0 entered as a parameter may differ from the actual calculated earthquake magnitude in the simulation. </p>"},{"location":"2._Parameters/0207_source/#psmeca-specification","title":"<code>psmeca</code> specification","text":"<p>Specify the seismic source in the standard format of <code>psmeca -Sm</code> in GMT and globalcmt. Specify the seismic source. It specifies the latitude and longitude depth of the epicenter, the moment tensor in the polar coordinate system (in the order M_{rr}, M_{tt}, M_{ff}, M_{rt}, M_{rf}, M_{tf}), and the exponential part (integer) of the seismic moment. Note that the exponential part is given in dyn-cm, as is customary. These parameters are converted into the moment tensor in the Cartesian coordinate system within OpenSWPC and used for the calculation. Fracture initiation time at the epicenter T_0 is 0, rise time T_R is based on Ekstr\u00f6m et al. (2012) [^Ekstr\u00f6m2012], and scaling</p>   T_R = 2 \\times 1.05 \\times 10^{-8} \\times M_0^{1/3}  <p>which is determined by M_0$. Again, M_0 is a value in dyn-cm.</p> <p>This specification is effective from version 5.2.</p> <p>Note on horizontal rotation</p> <p>As of version 5.2, when the parameter <code>phi</code> is not equall to zero, the rotation behavior of the source mechanism is different when the source mechanism is given as strike, dip, or rake, and when it is given as moment tensor.</p> <p>In the former case, the moment tensor is calculated based on the assumption that the strike were measured from the north, regardless of the value of <code>phi</code>. On the other hand, the moment tensor is assumed to be defined for the x, y coordinates after rotation. In other words, if one want to use moment tensor components from the catalog and rotate the coordinate system horizontally, one have calculate the rotated moment by yourself and give it as a parameter.</p> <p>The developers are aware that these behaviors are not systematic and may be changed in future versions.</p>"},{"location":"2._Parameters/0207_source/#body-force-mode","title":"Body Force Mode","text":"<p>A body force source can be used instead of a moment tensor source. In this mode, the three-component force vector (f_x, f_y, f_z) should be specified. The force vector is assumed to have a bell-shaped source time function, as in the case of the moment tensor source. Although there is no restriction on the number of body force elements, it is not possible to use both a moment tensor and a body force at the same time.</p> <p>Parameters</p> <code>bf_mode</code> Flag for the body force mode. If this is <code>.true.</code>, the following parameters are used for the body force and the moment tensor source is ignored. <code>stf_format</code> <p>Format of the source file. Select from <code>'xy'</code> or <code>'ll'</code>. Note that the source file format is different from that for the moment tensor. </p> <ul> <li> <p><code>'xy'</code>:    x,    y,     z,   T_0 ,  T_R ,  f_x,   f_y,   f_z</p> </li> <li> <p><code>'ll'</code>:   lon,    lat ,  z,   T_0,   T_R ,  f_x,   f_y ,  f_z</p> </li> </ul> <code>stftype</code> Choice of the source time function. Same as the case with a moment tensor source. <code>fn_stf</code> Filename of the source list file. <code>sdep_fit</code> Flag to fit the source depth to a specified velocity discontinuity. Same as the case with a moment tensor source."},{"location":"2._Parameters/0207_source/#plane-wave-mode","title":"Plane Wave Mode","text":"<p>A plane wave incident from the bottom can be used as an input source instead of the moment tensor or body force sources. In <code>OpenSWPC</code>, plane wave incidence is achieved by setting the velocity vector and stress tensor components based on the analytic solution of a plane wave propagating upward as the initial condition.</p> <p>The specification of the initial conditions includes the depth of the initial plane wave (<code>pw_ztop</code>) and its characteristic length (<code>pw_zlen</code>; corresponding to the wavelength), the strike and dip angle of the plane wave (<code>pw_strike</code>, <code>pw_dip</code>), and the polarization direction (rake angle) in the case of an S-wave (<code>pw_rake</code>). See the next figure for the geometry. </p> <p>Figure</p> <p> Geometry of the plane wave specification. (Left) The specification of the uppermost plane and the polarization direction. (Right) The depth cross section of the initial plane wave.</p> <p>The definitions of the strike, dip, and rake parameters follow those of the earthquake source fault geometry of Aki and Richards (20021). For three-dimensional space, <code>pw_strike=0</code> results in the plane dip toward the y-direction (east for <code>phi=0</code>). A rake angle of <code>pw_rake=0</code>{}^\\circ or <code>pw_rake=180</code>{}^\\circ will result in pure SH waves whose polarization is parallel to the free surface.</p> <p>The initial plane wave occupies a depth range of <code>pw_zlen</code> (km) starting at depths of z=<code>pw_ztop</code> at the center of the horizontal coordinate. The depth dependence of the wave amplitude is determined by the source time functions used in the moment rate function as a function of space.  Via the definition of the source time function, the integration of the initial plane wave along the propagation direction will be normalized to 1.</p> <p>Parameters</p> <code>pw_mode</code> Flag to use the plane-wave mode. If it is <code>.true.</code>, all point-source locations (body force or moment tensor source) will be ignored. <code>pw_ztop</code> z-value of the top of the initial plane wave at x=y=0. <code>pw_zlen</code> Characteristic spatial scale of the initial plane wave. <code>pw_ps</code> Plane wave type. Choose from <code>'p'</code> or <code>'s'</code> <code>pw_strike</code> Strike direction of initial plane wave in degrees measured from the x-axis. <code>pw_dip</code> Dip angle of the initial plane wave in degrees. The initial plane wave propagates vertically if this angle is zero. <code>pw_rake</code> Polarization direction of initial plane S-wave in degrees measured from the horizontal plane. <code>stftype</code> Source time function type. Same as the cases with the moment tensor or body force sources. <p>The use of the PML absorbing boundary condition (<code>abc_type='pml'</code>; see this section for details) is strongly recommended for the case of plane wave incidence. The simple Cerjan's (<code>abc_type='cerjan'</code>) condition always causes significant contamination by artificial reflections.</p> <p>Figure</p> <p> Snapshots of the absolute values of divergence (red) and rotation (green) for the case of vertical plane S-wave incidence with (a) Cerjan's condition and (b) PML boundary conditions.</p> <p>Even when using the PML boundary, the tilted plane wave incidence (with nonzero <code>pw_dip</code> angle) causes some amount of artificial reflections. It is highly recommended that the boundary effect be confirmed with snapshot visualization when using this plane wave mode.</p> <ol> <li> <p>Aki, K., and P. G. Richards (2002), Quantitative Seismology: Theory and Methods, 2nd eidtion ed., University Science Books.\u00a0\u21a9</p> </li> </ol>"},{"location":"2._Parameters/0208_abc/","title":"Absorbing Boundary Conditions","text":"<p>Users can choose an absorbing boundary condition from the auxiliary differential equation, the complex frequency-shifted perfectly matched layer (ADE CFS-PML; Zhang et al., 20101\uff09, and Cerjan's sponge condition (Cerjan et al., 19852).0</p> <p>The entire computational domain is separated into interior and exterior regions by the thickness of the absorber <code>na</code>, as shown in the following figure.</p> <p>Figure</p> <p> Schematic of the definition of the absorber region. The red dotted line indicates the location of <code>kbeg_a(I,J)</code>.</p> <p>Because this program assumes the existence of a free surface and ignores acoustic waves in the air column, the waves in the top boundary will not be absorbed. At a given horizontal grid location <code>(I,J)</code>, the depth grid deeper than <code>kbeg_a</code> will be used as the attenuator.</p> <p>For computational efficiency in the PML boundary condition, <code>OpenSWPC</code> does not solve the viscoelastic constitutive equation in the absorber. Note that, in the case of a medium having very small  values, this may lead to a velocity gap between the interior and exterior regions due to physical dispersion.</p> <p>For Cerjan's absorbing condition, the parameters suggested by [@Cerjan:1985uz] are embedded in the source code. However, these parameters are scaled according to the width of the absorber <code>na</code>.</p> <p>The PML absorber is usually superior to the Cerjan's sponge condition in its efficiency in avoiding artificial reflection from the boundaries. However, PML occasionally results in numerical instabilities, particularly for a medium with a strong velocity contrast and after several time steps. In case if such instability occurs, the following empirical remedies might work: </p> <ul> <li>Slightly change the computational area by changing <code>clon</code> and <code>clat</code>, or <code>nx</code> and <code>ny</code></li> <li>Eliminate very-low velocity layers in the absorber region by setting <code>stabilize_pml = .true.</code> </li> <li>Elongate the rise time of the source time function to reduce high-frequency wave components. </li> </ul> <p>The Cerjan's sponge always gives a very stable result.</p> <p>Parameters</p> <code>abc_type</code> Type of the absorbing boundary condition. Choose from <code>\u2019pml\u2019</code> or <code>\u2019cerjan\u2019</code>. <code>na</code> Thickness of the absorbing layer in numbers of grids. Usually, 10-20 grids are chosen. <code>stabilize_pml</code> The low velocity layer is removed if this flag is <code>.true.</code>, to stabilize PML. This option may increase the amplitude or artificial reflection as a side effect.  <p>Caution</p> <p>The <code>fullspace_mode</code> implemented in Version 5.0 -- 5.1 has been temporarily disabled because it was found to cause trouble in certain environments even when the mode was not set. The cause of the trouble is being investigated. </p> <ol> <li> <p>Zhang, W., and Y. Shen (2010), Unsplit complex frequency-shifted PML implementation using auxiliary differential equations for seismic wave modeling, Geophysics, 75(4), T141\u2013T154, doi:10.1190/1.3463431.\u00a0\u21a9</p> </li> <li> <p>Cerjan, C., D. Kosloff, R. Kosloff, and M. Reshef (1985), A nonreflecting boundary condition for discrete acoustic and elastic wave equations, Geophysics, 50(4), 705\u2013708.\u00a0\u21a9</p> </li> </ol>"},{"location":"2._Parameters/0209_checkpoint/","title":"Checkpointing and Restarting","text":"<p>Some large-scale computers limit the computational time of a single job. To achieve long-duration computation, <code>OpenSWPC</code> can export all memory contents to files at specific times (checkpointing), and then continue the simulation as another job (restarting).</p> <p>If this function is turned on, <code>OpenSWPC</code> will terminate the computation after an elapsed time of <code>ckp_time</code> (in seconds) and will export all memory images.</p> <p>For the next job, <code>OpenSWPC</code> first tries to find the directory cdir to locate the checkpointing file. If there are checkpointing files, <code>OpenSWPC</code> reads them to continue the simulation. Otherwise, <code>OpenSWPC</code> starts the simulation from scratch.</p> <p>After finishing the computation of all time steps, <code>OpenSWPC</code> removes most of the contents of the checkpointing files. However, it does not delete the checkpointing files. This is to avoid unexpectedly starting the computation from the beginning and overwriting the output files.</p> <p>This function is only available for the three-dimensional simulation code (<code>swpc_3d.x</code>).</p> <p>Parameters</p> <code>is_ckp</code> The flag to use checkpointing/restarting. <code>cdir</code> Output directory name of the checkpointing file. At restart, the checkpointing files are assumed to be in this directory. <code>ckp_time</code> Checkpointing time in seconds. <code>ckp_interval</code> Investigate if the computation time exceeds <code>ckp_time</code> periodically at this interval. Setting this interval step as too small may affect the performance of the computation."},{"location":"2._Parameters/0210_reciprocity/","title":"Reciprocity Mode","text":"<p>This mode excites the seismic wave at a specified station location and exports the velocity and/or strain velocity of multiple virtual source locations. Based on the reciprocity theorem, this result corresponds to the body force and/or moment tensor response from virtual source locations observed at specified stations. If the time duration of the source time function is sufficiently short, they can be treated as Green's functions.</p> <p>If we denote the Green's tensor, from the virtual source  to the receiver \\mathbf{r}, as G_{ij}\\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right), this mode simulates the convolution of the spatial derivatives of Green's tensor with the source time function s(t) as</p> \\begin{align} \\begin{split}   G^{M1}_{i}\\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)    &amp;\\equiv \\frac{\\partial G_{ix} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) }{\\partial \\xi_x} \\ast s(t) =   \\frac{\\partial G_{ix} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) }{\\partial \\xi_x} \\ast s(t)    \\\\   G^{M2}_{i}\\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)    &amp;\\equiv \\frac{\\partial G_{iy} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) }{\\partial \\xi_y} \\ast s(t)     =     \\frac{\\partial G_{iy} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) }{\\partial \\xi_y} \\ast s(t)       \\\\   G^{M3}_{i}\\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)    &amp;\\equiv \\frac{\\partial G_{iz} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) }{\\partial \\xi_z} \\ast s(t)    =      \\frac{\\partial G_{iz} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) }{\\partial \\xi_z} \\ast s(t)    \\\\   G^{M4}_{i}\\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)    &amp;\\equiv \\left(      \\frac{\\partial G_{iy} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) }{\\partial \\xi_z} +      \\frac{\\partial G_{iz} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) }{\\partial \\xi_y} \\right) \\ast s(t)      \\\\   &amp;= \\left(      \\frac{\\partial G_{iy} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) }{\\partial \\xi_z} +      \\frac{\\partial G_{iz} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) }{\\partial \\xi_y} \\right) \\ast s(t)    \\\\   G^{M5}_{i}\\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)    &amp;\\equiv \\left(     \\frac{\\partial G_{ix} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) }{\\partial \\xi_z} +      \\frac{\\partial G_{iz} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) }{\\partial \\xi_x}\\right) \\ast s(t)       \\\\&amp; = \\left(     \\frac{\\partial G_{ix} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) }{\\partial \\xi_z} +      \\frac{\\partial G_{iz} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) }{\\partial \\xi_x}\\right) \\ast s(t)    \\\\   G^{M6}_{i} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)    &amp;\\equiv \\left(     \\frac{\\partial G_{ix} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) }{\\partial \\xi_y} +      \\frac{\\partial G_{iy} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) }{\\partial \\xi_x} \\right) \\ast s(t)      \\\\   &amp;= \\left(     \\frac{\\partial G_{ix} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) }{\\partial \\xi_y} +      \\frac{\\partial G_{iy} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) }{\\partial \\xi_x} \\right) \\ast s(t)  \\end{split}  \\end{align} <p>which corresponds to the moment tensor response. Optionally, the body-force response</p> \\begin{align} \\begin{split} G^{B1}_{i}\\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)    &amp;\\equiv  G_{ix} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) \\ast s(t)   =       G_{ix} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) \\ast s(t)     \\\\ G^{B2}_{i}\\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)    &amp;\\equiv G_{iy} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) \\ast s(t)    =      G_{iy} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) \\ast s(t)  \\\\   G^{B3}_{i}\\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)    &amp;\\equiv G_{iz} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)\\ast s(t)   =      G_{iz} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right)\\ast s(t) \\end{split} \\end{align} <p>can be calculated.</p> <p>To use this mode, the users should specify the station name <code>green_stnm</code> of the receiver. This station name should be contained in the station list file. <code>OpenSWPC</code> radiates the seismic wave by an excitation force with a direction specified by the <code>green_cmp</code> parameter and a source time function of the rise time, <code>green_trise</code>. To obtain the full response of all components, three independent simulations with <code>green_cmp=\u2019x\u2019</code>, <code>\u2019y\u2019</code>, and <code>\u2019z\u2019</code> are necessary.</p> <p>The virtual source location should be given in the Cartesian or geographical coordinates and depth (the format is described in Table [table:greenf]{reference-type=\"ref\" reference=\"table:greenf\"}) with unique integer ID numbers (<code>gid</code>). Multiple virtual source locations can be specified in the simulation. The <code>gid</code>s do not need to be sequential.</p> <p>The output file is stored in the directory <code>(odir)/green/(gid)</code> in the <code>SAC</code> format with the name convention <code>(title)__(green_cmp)__mij__.sac</code> (for the moment tensor response) or <code>(title)__(green_cmp)__fi__.sac</code> (for the body force response).</p> <p>The amplitudes of the output files are multiplied by 10^9 to compare the <code>SAC</code>-formatted files in nm or nm/s units. The vertical component of the output file is changed to be positive upward. However, the derivative with respect to depth is performed according to the original definition of positive downward.</p> <p>Parameters</p> <p><code>green_mode</code> :Flags to turn the reciprocity mode on. If this is <code>.true.</code>, the other earthquake source parameters will be ignored.</p> <code>green_stnm</code> Name of the virtual station. This name must be included in the station list. <code>green_cmp</code> Component at the virtual receiver. Choose from <code>\u2019x\u2019</code>, <code>\u2019y\u2019</code>, or <code>\u2019z\u2019</code>. <code>green_trise</code> Rise time of the source time function convolved with the simulated Green's function. <code>green_bforce</code> If <code>.true.</code>, calculate the body force response as well as the moment tensor response. The default setting is <code>.false.</code>. <code>green_fmt</code> Format specification of the virtual source location. Choose from <code>\u2019xyz\u2019</code> (Cartesian coordinate; default) or <code>\u2019llz\u2019</code> (longitude, latitude, and depth). <code>green_maxdist</code> The reciprocity wave will only be calculated if the horizontal distance is shorter than this parameter. Specify in units of km. <code>fn_glst</code> Name of the virtual source location file. <code>stftype</code> Source time function type. Same as the case with the moment tensor source. <code>ntdec_w</code> Temporal decimation factor of the output waveforms. Same as the case with the normal waveform output. <p>The virtual source location file takes the following format according to the settings of <code>green_fmt</code>: </p> <code>green_fmt</code> format <code>\u2019xyz\u2019</code> x y z <code>gid</code> <code>\u2019llz\u2019</code> lon lat z <code>gid</code>"},{"location":"2._Parameters/0211_2dcode/","title":"About Two-Dimensional Codes","text":"<p><code>OpenSWPC</code> contains P-SV (<code>swpc_psv</code>) and SH (<code>swpc_sh</code>) codes, which work with the same parameter file. In these 2D codes, the simulation will be performed along the  cross section of y=0. The parameters related to the y-direction will be omitted. The MPI partition will, therefore, be 1D, only in the x-direction. Note that all stations and sources outside the cross section will be projected onto the cross section, as schematically shown in the next figure. </p> <p>Figure</p> <p> Projection to the two-dimensional model in the horizontal space.  </p> <p>For plane wave incidence, <code>pw_strike</code> and <code>pw_rake</code> will be fixed according to the type of code. Only the dip angle (<code>pw_dip</code>) can be changed.</p>"},{"location":"2._Parameters/0211_2dcode/#about-the-results-of-the-2d-code","title":"About the results of the 2D code","text":"<p>In seismic wave propagation, the 3D and 2D problems are essentially different. 2D simulations are equivalent to assuming an infinite linear source in the y direction in 3D space, and the amplitude and geometric attenuation of seismic waves are significantly different from those in 3D. Therefore, it is very dangerous to quantitatively compare the seismic waveforms of the 2D simulation results with the observed records.</p> <p>However, under certain assumptions, there is a method to convert the results of 2D codes into seismic waveforms in 3D space with uniform structure in the y direction. After version 5.2, a utility program wvconv can be used to realize such a conversion.</p>"},{"location":"3._Tools/0301_snapshot/","title":"Snapshot data handling","text":""},{"location":"3._Tools/0301_snapshot/#read_snpx","title":"<code>read_snp.x</code>","text":"<p>Snapshot files in both <code>NetCDF</code> and the originally defined binary format can be extracted or visualized by the program <code>read_snp.x</code>.</p> <pre><code>read_snp.x -i snapshotfile [-h] [-ppm|-bmp] [-pall] [-mul var | -mul1 var -mul2 var ...] [-bin] [-asc] [-skip n]\n</code></pre> <code>-h</code> <p>Print the header information defined in the snapshot, as in the following example.</p> <pre><code> $ ../bin/read_snp.x -i swpc_3d.xz.ps.snp -h\n\n [binary type]   : STREAMIO\n [code type]     : SWPC_3D\n [header version]:          3\n [title]         : swpc_3d\n [date generated]: 1408015126\n                   2014-08-14T11-18-46\n [coordinate]    : xz\n [data type]     : ps\n [ns1]           :        256\n [ns2]           :        256\n [beg1]          :       -63.87500\n [beg2]          :        -9.87500\n [ds1]           :         0.25000\n [ds2]           :         0.25000\n [dt]            :         0.05000\n [na1]           :         20\n [na2]           :         20\n [nmed]          :          3\n [nsnp]          :          2\n [clon]          :       143.50000\n [clat]          :        42.00000\n</code></pre> <code>-ppm</code>, <code>-bmp</code> Visualize and export the image files in ppm or bmp format. The <code>ppm</code> or <code>bmp</code> directory will be automatically created in the current directory and image files with sequential numbers will be stored there. If the snapshot file is displacement or velocity, the absolute values of the vertical and horizontal amplitudes will be colored red and green, respectively. For the <code>PS</code> file, the absolute values of the divergence and rotation vector will be colored similarly. If the absolute value option is specified, the black-red-yellow-white color palette (similar to the \"hot\" color palette in GMT) will be adopted. For cross sections along the surface (<code>ob</code>, <code>fs</code>), the topography color map will be overlaid. For other cross sections, the velocity structure in the section will be overlaid. <p>Limitation of the BMP format</p> <p>Output to <code>bmp</code> format occasionally fails as this format has a restriction to the image size. <code>ppm</code> format is recommended. </p> <code>-pall</code> Visualize including the absorbing boundary region. This option works only if it is used with . By default, the absorbing boundary region will be clipped. <code>-mul</code> Multiply <code>var</code> by the amplitude for visualization. Adjust the visualized color by changing this value. Optionally, by specifying <code>-mul1</code> or <code>-mul2</code>, for example, one may change the weight of the amplitude by component. <code>-abs</code> Visualize the absolute value of the vector. This only works with the velocity or displacement snapshots. <code>-bin</code>, <code>-asc</code> Export the snapshot data to binary (<code>-bin</code>) or ascii (<code>-asc</code>) files. The data file will be created in the automatically created <code>bin</code> or <code>asc</code> directories. The binary formatted data can be directly used in <code>GMT</code> with the <code>xyz2grd</code> module by appending the <code>-bis</code> option. <code>-skip n</code> Skip the first  snapshots for visualization or data exports. <code>-notim</code> (after v5.1) Do not plot the elapsed time in the snapshot figures."},{"location":"3._Tools/0301_snapshot/#diff_snpx","title":"<code>diff_snp.x</code>","text":"<p>This program takes the difference between two snapshots and exports it to another snapshot file.</p> <pre><code>$ diff_snp.x snap1 snap2 diffile\n</code></pre> <p>The output file format (<code>NetCDF</code> or binary) depends on the input file format.</p>"},{"location":"3._Tools/0301_snapshot/#fs2grdx","title":"<code>fs2grd.x</code>","text":"<p>New in v5.1</p> <p>Although snapshot data from <code>OpenSWPC</code> along the ground surface or ocean bottom follows the NetCDF format, they cannot be used in the GMT's grdimage command because they are not evenly-spaced grid data along longitude and latitude. </p> <p>The utility program <code>fs2grd.x</code> resamples the <code>OpenSWPC</code>'s output dataset in longitude/latitude coordinate to convert it to GMT-friendly grd-format dataset. </p> <pre><code>$ fs2grd.x -i input.nc -v variable_name -R region -dlon delta_lon -dlat delta_lat </code></pre> <code>-i</code> Specify the output file of <code>OpenSWPC</code> in NetCDF format to be resampled. The snapshot must be on the free surface (<code>fs</code>), ocean bottom (<code>ob</code>) or <code>xy</code> coordinates.  <code>-R</code> <code>lon0/lon1/lat0/lat1</code> The region of resampling. Minimum(<code>lon0</code>) and maximum(<code>lon1</code>) longigude, minimum(<code>lat0</code>) and maximum(<code>lat1</code>) latitude. The formatting is similar to that in the GMT, but a blank space is necessary between <code>-R</code> and arguments.  <code>-dlon</code> delta_lon, <code>-dlat</code> delta_lat Grid spacings in longitudal and latitudal directions.  <code>-v</code> variable_name Variable name to be resampled. Any horizontal-space 2D variables can be specified in the snapshot. One may confirm the list of the variables in the NetCDF file by <code>ncdump -h</code> command. If the specified variable is time-dependent, such as <code>Vx, Vy, Vz</code> or <code>div, rot_x, rot_y, rot_z</code>, the <code>fs2grd.x</code> will export time-sequential (many) files."},{"location":"3._Tools/0302_vmodel/","title":"Velocity Structure","text":""},{"location":"3._Tools/0302_vmodel/#qmodel_taux","title":"<code>qmodel_tau.x</code>","text":"<p>Calculate the frequency dependence of  and the body wave dispersion from the input parameter file.</p> <pre><code>$ qmodel_tau.x -nm [nm] -i [prm_file] -f0 [min_freq] -f1 [max_freq] -nf [ngrid]\n</code></pre> <p>This discretizes the frequency range from <code>min_freq</code> to <code>max_freq</code> into <code>ngrid</code> and exports Q^{-1} ( f ) and physical dispersion. The latter is normalized to 1 at the reference frequency. The parameters related to the viscoelastic body are read from the input parameter file; however, the number of bodies <code>nm</code> should be specified separately because it is hard-coded into the program.</p>"},{"location":"3._Tools/0302_vmodel/#grdsnpx","title":"<code>grdsnp.x</code>","text":"<p>From the input parameter file, calculate and print the discontinuity of the input <code>NetCDF</code> file in Cartesian coordinates for the simulation (x, y, depth) in the standard output. This program is used to confirm the coordinate transformation and the detailed digital model, and to visualize the model in the computational domain.</p> <pre><code>$ grdsnp.x -i [prm_file] -g [grd_file]\n</code></pre>"},{"location":"3._Tools/0303_parameter/","title":"Programs for Supporting Parameter Settings","text":""},{"location":"3._Tools/0303_parameter/#fdmcondx","title":"<code>fdmcond.x</code>","text":"<p>The grid width in space and time in the finite difference method is controlled by the stability condition. The wavelength condition will affect the allowed maximum frequency radiated from the source.</p> <p>The tool fdmcond.x can help determine these parameters to satisfy the conditions. After the user specifies several parameters, such as the grid width, maximum frequency (fmax), rise time (Tr), and minimum and maximum velocities in the medium (vmin, vmax), the program can suggest the other parameters.</p> <pre><code>$  ./fdmcond.x \n\n----------------------------------------------------------------------\n                           FDM CONDITION                           \n----------------------------------------------------------------------\n\n\n  Model Dimension ? --&gt; 3\n   1) 2D\n   2) 3D\n\n\n Source Type ? --&gt; 3\n   1) Triangle\n   2) Herrmann\n   3) Kupper\n\n\n Parameter Combination ? --&gt; 5\n   1) dh   (space grid),  fmax (max freq.),  vmax (max vel.)\n   2) dh   (space grid),  Tr   (rise time),  vmax (max vel.)\n   3) dh   (space grid),  fmax (max freq.),  dt (time grid)\n   4) dh   (space grid),  Tr   (rise time),  dt (time grid)\n   5) dh   (space grid),  vmin (min vel.),   vmax (max vel.)\n   6) dh   (space grid),  vmin (min vel.),   dt (time grid) \n   7) fmax (max freq.) ,  vmax (max vel.),   dt (time grid)\n   8) Tr   (rise time) ,  vmax (max vel.),   dt (time grid)\n   9) vmin (min vel.)  ,  vmax (max vel.),   dt (time grid)\n\n\n Assumed Parameters: \n   dx     =   0.25\n   dy     =   0.25\n   dz     =   0.25\n   vmin   =   0.3\n   vmax   =   8.0\n\n Derivaed Parameters: \n   dt    &lt;=   0.01546\n   fmax  &lt;=   0.17143\n   Tr    &gt;=  13.41667\n</code></pre>"},{"location":"3._Tools/0303_parameter/#mapregionx","title":"<code>mapregion.x</code>","text":"<p>The geographical region of the simulation will be automatically determined by the parameters <code>clon</code>, <code>clat</code>, <code>phi</code>, <code>xbeg</code>, <code>ybeg</code>, <code>nx</code>, <code>ny</code>, <code>dx</code>, and <code>dy</code>. The <code>mapregion.x</code> program reads the parameter file and exports the outer edge of the region in longitude and latitude.</p> <p><pre><code>$ mapregion.x -i input.inf -o region.dat\n</code></pre> If the option <code>-o</code> is omitted, the result will be printed to the standard output on the screen. This program will also estimate the total memory usage in the standard error output.</p>"},{"location":"3._Tools/0303_parameter/#mapregiongmt","title":"<code>mapregion.gmt</code>","text":"<p>These scripts use <code>mapregion.x</code> to visualize the region by using GMT. GMT version 5 or later is necessary. By default, these scripts plot only the region around the Japanese Islands.</p>"},{"location":"3._Tools/0304_rmedia/","title":"Generation of Random Media","text":""},{"location":"3._Tools/0304_rmedia/#gen_rmed3dx","title":"<code>gen_rmed3d.x</code>","text":"<p>Generate a three-dimensional random medium file.</p> <pre><code>gen_rmed3d.x  [-o outfile] [-nx nx] [-ny ny] [-nz nz] [-epsil epsilon]  [-kappa kappa] \n               [-dx dx] [-dy dy] [-dz dz] [-ax ax] [-ay ay] [-az az]  \n               [-ptype ptype] {-seed seed_number}\n</code></pre> <code>-o outfile</code> <p>Name of the output file.</p> <code>-nx nx</code>, <code>-ny ny</code> <code>-nz nz</code> <p>Number of grids in the -, y-, and z-directions. They must be a power of 2.</p> <code>-epsil epsilon</code> <p>Root mean square (RMS) of the velocity fluctuation \\varepsilon.</p> <code>-ax ax</code>, <code>-ay ay</code>, <code>-az az</code> <p>Characteristic scales in the x-, y-, and z-directions in units of km.</p> <code>-dx dx -dy dy -dz dz</code> <p>Grid width in the x-, y-, and z-directions. They should be identical to the simulation parameters.</p> <code>-ptype ptype</code> <p>Choice of power spectrum density functions (PSDFs) of the random media model in wavenumber space: 1 for Gaussian, 2 for Exponential, and 3 for von K\u00e1rm\u00e1n.</p> <code>-kappa kappa</code> <p>The parameter \\kappa for the von K\u00e1rm\u00e1n-type PSDF.</p> <code>-seed seed_number</code> <p>Specify the seed number of the random variable generation (optional). If this option is not specified, the seed number is automatically generated based on the execution date and time.</p> <p>The random media file will be stored in the <code>NetCDF</code> format. Various software, such as <code>ParaView</code> and <code>Panoply</code> can be used for visualization</p> <p>Figure</p> <p> An example of 3D random media generated by <code>gen_rmed3d.x</code> and visualized by <code>ParaView</code>. </p>"},{"location":"3._Tools/0304_rmedia/#gen_rmed2dx","title":"<code>gen_rmed2d.x</code>","text":"<p>Generate a 2D random media file. Its usage is same as that of <code>gen_rmed3d.x</code>, with parameters related to the y-direction omitted.</p>"},{"location":"3._Tools/0305_misc/","title":"Miscellaneous Tools","text":""},{"location":"3._Tools/0305_misc/#timvis-scripts","title":"timvis scripts","text":"<p>Scripts <code>timvis.gmt</code> and <code>timvis_abs.gmt</code> are used to visualize the elapsed time of the computation obtained with the input parameter <code>stopwatch_mode = .true.</code> by using GMT versions 5 or later.</p>"},{"location":"3._Tools/0305_misc/#geographic-coordinate-conversion","title":"Geographic Coordinate Conversion","text":"<p>The Fortran programs <code>ll2xy.x</code> and <code>xy2ll.x</code> can project and inversely project the geographic and Cartesian coordinates with the same algorithm as <code>OpenSWPC</code>. These tools are provided for <code>OpenSWPC</code> version 3.0 or later.</p>"},{"location":"3._Tools/0305_misc/#wvconvx-a-waveform-conversion-tool-from-2d-to-3d","title":"<code>wvconv.x</code>: a waveform conversion tool from 2D to 3D","text":"<p>New in version 5.2</p> <p>is a tool to convert 2D simulation results into 3D-simulation-equivalent seismic waveforms.</p> <p>Let us denote the 3D seismic waveform from a point source located at  as V_{3D}(\\xi, \\eta, \\zeta, t). The 2D simulation result from a point source at (\\xi, \\zeta) can be expressed by line integral with respect to y-direction as </p>  \\begin{align} V_{2D}(\\xi, \\zeta, t) = \\int_{-\\infty}^\\infty V_{3D}(\\xi, \\eta, \\zeta, t) d \\eta.  \\end{align}  <p>The inverse transformation can be written as 1</p>  \\begin{align}     V_{3D}(\\xi, \\eta=0, \\zeta, t) = \\frac{1}{\\pi}      \\sqrt{\\frac{1}{2 R v}}      \\frac{d}{dt}     \\left[ \\frac{1}{\\sqrt{t}} \\ast V_{2D}(\\xi, \\zeta, t) \\right],  \\end{align}  <p>where R is a propagation distance, and V is a seismic velocity at each phase appeared in the waveform. The simbol \\ast denotes convolution integral. </p> <p>The tool <code>wvconv.x</code> evaluate this translation by frequency-domain calculation with assumptions that R and V are both constant: </p>  \\begin{align}     &amp; \\widetilde{V}_{2D} (\\xi, \\zeta, f) = \\int_{-\\infty}^\\infty      V_{2D} (\\xi, \\zeta, f) e^{i 2 \\pi f t} dt      \\\\     &amp; V_{3D}(\\xi, \\eta=0, \\zeta, t) =      \\int_{-\\infty}^\\infty     \\sqrt{-\\frac{i f}{Rv}}     \\widetilde{V}_{2D} (\\xi, \\zeta, f)     e^{-i 2 \\pi f t} d f.  \\end{align}  <p>In the calculation, R is assuumed to be a straight line between the source and the receiver. The value of v can be given as a parameter, but by default it is calculated assuming v=4000 m/s.</p>"},{"location":"3._Tools/0305_misc/#usage","title":"Usage:","text":"<pre><code>wvconv.x in.sac out.sac (V0)\n     in.sac: input SAC file (must be 2D simulation output)\n     out.sac: output SAC filename\n     V0 (optional): assumed average velocity in m/s unit. Default is 4000 m/s\n</code></pre> <p>As an example, the following figure shows a comparison between the waveform calculated with the P-SV 2D code in the 1D structure of <code>example/lhm.dat</code> and converted by <code>wvconv.x</code> (V=4000 m/s) and the result of 3D calculation with the same structure.</p> <p>Figure</p> <p> Comparison of 3D simulation results (gray curve) and 2D P-SV simulation results converted by <code>wvconv.x</code> (red curve).</p> <p>Since the velocity of the seismic phase is assumed to be 4000 m/s, the amplitudes of the P-wave and subsequent surface wave phases are slightly different, but in general, the waveforms are in very good agreement. If the comparison is made without <code>wvconv.x</code>, the amplitudes and shapes of the waveforms are completely different.</p> <p>Warning</p> <p><code>wvconv.x</code> is a very new code introduced in Version 5.2, and might contain bug(s). Please use it with caution. </p> <ol> <li> <p>Li, D., Helmberger, D., Clayton, R. W., &amp; Sun, D. (2014). Global synthetic seismograms using a 2-D finite-difference method. Geophysical Journal International, 197(2), 1166\u20131183. doi:10.1093/gji/ggu050\u00a0\u21a9</p> </li> </ol>"},{"location":"4._Hints/0401_modelset/","title":"For Parameter Settings","text":"<p>The 3D simulation is bounded by the total memory size. The code requires</p> <p>of memory for the case of mixed precision (<code>MP=DP</code>) with a GNZ viscoelastic body of <code>NM=3</code>. Note that this is a coarse estimate excluding the effect of an absorbing boundary.</p> <p>The computation time can be roughly estimated by the parameter \\mathtt{n_G}, which is defined as the number of spatial and/or temporal grids that one CPU can process in a second. This value depends on the CPU, as shown in the following table. </p> Architecture Name CPU #Core \\mathtt{n_G} Mac Pro 2010 Intel Xeon X5670 2.93GHz 6 6.7 \\times 10^{6} EIC2015 (ERI,UTokyo) Intel Xeon E5-2680 v3 2.5 GHz 12 7.0 \\times 10^{6} The earth simulator (3rd gen.) NEC SX-ACE 4 57 \\times 10^{6} <p>The total computation time can be estimated by </p> \\begin{align}     t_\\text{comp} = \\frac{ {\\tt nx}\\times {\\tt ny}\\times {\\tt nz}}{ \\mathtt{n_G} \\times \\tt nproc} \\times {\\tt nt}     \\quad \\text{[s]}\\end{align} <p>where <code>ncore</code> is the number of CPU cores used in the computation. If the estimated time exceeds that provided by the computer system, it is recommended to make the model size smaller and/or to use checkpointing/restarting.</p>"},{"location":"4._Hints/0402_modification/","title":"For Modifying the Code","text":""},{"location":"4._Hints/0402_modification/#defining-your-own-velocity-model","title":"Defining Your own Velocity Model","text":"<p>The velocity structure is defined by the subroutine <code>vmodel_*</code>, called by the module <code>m_medium.F90</code>. These subroutines commonly have the input/output parameters defined in the following table. </p> \u5909\u6570\u540d in/out type \u8aac\u660e <code>io_prm</code> in integer I/O number of the input parameter file <code>i0,i1</code> in integer Start/end indices of arrays in x-direction <code>j0,j1</code> in integer Start/end indices of arrays in y-direction <code>k0,k1</code> in integer Start/end indices of arrays in z-direction <code>xc(i0:i1)</code> in real x grid locations <code>yc(i0:i1)</code> in real y grid locations <code>zc(i0:i1)</code> in real z grid locations <code>vcut</code> in real Cut-off velocity <code>rho(k0:k1,i0:i1,j0:j1)</code> out real Mass density [g/cm] <code>lam(k0:k1,i0:i1,j0:j1)</code> out real Lame coefficient \\lambda [g/cm{}^3] <code>mu(k0:k1,i0:i1,j0:j1)</code> out real Lame coefficient \\mu [g/cm{}^3] <code>qp(k0:k1,i0:i1,j0:j1)</code> out real Q_P <code>qs(k0:k1,i0:i1,j0:j1)</code> out real Q_S <code>bddep(i0:i1,j0:j1,0:NBD)</code> out real Discontinuity boundary depths [km] <p>By creating a Fortran subroutine that returns the medium parameters <code>rho, lam, mu, qp</code> and <code>qs</code> at locations given in the input of the subroutines <code>xc, yc</code>, and <code>zc</code>, it is easy to add a new velocity model.</p> <p>The topography and bathymetry are automatically investigated in the <code>m_medium</code> module after calling the <code>vmodel_ast</code> routine. To make this investigation work properly, the medium parameter <code>mu</code> must be zero in the air and ocean columns and <code>lam</code> must be zero in the air column.</p> <p>The variables <code>bddep(:,:,0)</code> are assumed to be the topography, and are used for the snapshot output. The other values of <code>bddep(:,:,1:NBD)</code> are used to fit the source and/or station location to the discontinuity depths. Providing dummy values of these functions is not necessary.</p>"},{"location":"4._Hints/0402_modification/#defining-your-own-source-time-function","title":"Defining Your own Source Time Function","text":"<p>The source time function is called by the <code>source__momentrate</code> <code>Fortran</code> function in <code>m_source.F90</code> based on the choice of <code>stftype</code>. The definitions of the source time functions are given in <code>share/m_fdtool.F90</code>. It is easy to add a new source time function here and to add the call to the new function in the <code>m_source</code> module.</p> <p>All of the pre-defined source time functions take two time parameters, <code>tbeg</code> and <code>trise</code>. In the source code, they are stored in the array variable <code>srcprm(:)</code>. If the new source time function requires more than three parameters, the user can expand the array <code>srcprm(:)</code> to store them.</p>"},{"location":"4._Hints/0402_modification/#appending-new-control-parameters","title":"Appending New Control Parameters","text":"<p>In many <code>Fortran</code> modules, the first set-up is performed by subroutines called <code>(modulename)__setup</code> during the first computation. Some of the setup modules read parameters from the input parameter file. These parameters are read by the subroutine <code>readini</code>, which is defined in <code>shared/m_readini.F90</code>.</p>"},{"location":"Misc/License/","title":"License","text":"<p>This software is provided under the MIT License\uff0e</p> <p>Copyright \u00a9 2013-2021 Takuto Maeda</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p> <p>The author requests that the user cite (at least one of) the following papers in any publications that result from the use of this software, although this is not an obligation.</p>"},{"location":"Misc/License/#accompanying-paper","title":"Accompanying Paper","text":"<ul> <li>Maeda, T., S. Takemura, and T. Furumura (2017), OpenSWPC: An     open-source integrated parallel simulation code for modeling seismic     wave propagation in 3D heterogeneous viscoelastic media, Earth     Planets Space, 69, 102, doi:10.1186/s40623-017-0687-2.</li> </ul>"},{"location":"Misc/License/#related-papers","title":"Related Papers","text":"<ul> <li> <p>Furumura, T. and L. Chen (2004), Large scale parallel simulation and visualization of 3D seismic wavefield using the Earth Simulator, Comp. Model. Eng. Sci., 6, 153-168. doi:10.3970/cmes.2004.006.153</p> </li> <li> <p>Furumura, T. and L. Chen (2005), Parallel simulation of strong ground motions during recent and historical damaging earthquakes in Tokyo, Japan, Parallel Computing, 31, 149-165. doi:10.1016/j.parco.2005.02.003</p> </li> <li> <p>Furumura, T. Hayakawa, M. Nakamura, K. Koketsu, and T. Baba (2008), Development of long-period ground motions from the Nankai Trough, Japan, earthquakes: Observations and computer simulation of the 1944 Tonankai (Mw 8.1) and the 2004 SE Off-Kii Peninsula (Mw 7.4) earthquakes, Pure Appl. Geophys., 165, 585-607. doi:10.1007/s00024-008-0318-8</p> </li> <li> <p>Furumura, T. and T. Saito (2009), An integrated simulation of ground motion and tsunami for the 1944 Tonankai earthquake using high-performance super computers, J. Disast. Res., 4, 118-126. https://www.fujipress.jp/jdr/dr/dsstr000400020118/</p> </li> <li> <p>Noguchi, S., T. Maeda, and T. Furumura (2013), FDM simulation of an anomalous later phase from the Japan Trench subduction zone earthquakes, Pure Appl. Geophys., 170, 95-108. doi:10.1007/s00024-011-0412-1</p> </li> <li> <p>Maeda, T., and T. Furumura (2013), FDM simulation of seismic waves, ocean acoustic waves, and tsunamis based on tsunami-coupled equations of motion, Pure Appl. Geophys., 170, 109-127. doi:10.1007/s00024-011-0430-z</p> </li> <li> <p>Maeda, T., T. Furumura, S. Noguchi, S. Takemura, S. Sakai, M. Shinohara, K. Iwai, S. J. Lee (2013), Seismic and tsunami wave propagation of the 2011 Off the Pacific Coast of Tohoku Earthquake as inferred from the tsunami-coupled finite difference simulation, Bull. Seism. Soc. Am., 103, 1456-1472. doi:10.1785/0120120118</p> </li> <li> <p>Maeda, T., T. Furumura, and K. Obara (2014), Scattering of teleseismic P-waves by the Japan Trench: A significant effect of reverberation in the seawater column, Earth Planet. Sci. Lett., 397, 101-110. doi:10.1016/j.epsl.2014.04.037</p> </li> <li> <p>Noguchi, S., T. Maeda, and T. Furumura (2016), Ocean-influenced Rayleigh waves from outer-rise earthquakes and their effects on durations of long-period ground motion, Geophys. J. Int., 205, 1099-1107. doi:10.1093/gji/ggw074</p> </li> <li> <p>Takemura, S., T. Maeda, T. Furumura, and K. Obara (2016), Constraining the source location of the 30 May 2015 (Mw 7.9) Bonin deep-focus earthquake using seismogram envelopes of high-frequency P waveforms: occurrence of deep-focus earthquake at the bottom of a subducting slab, Geophys. Res. Lett., 43, 4297-4302. doi:10.1002/2016GL068437</p> </li> <li> <p>Yoshimitsu, N., T. Furumura, and T. Maeda (2016), Geometric effect on a laboratory-scale wavefield inferred from a three-dimensional numerical simulation, J. Appl. Geophys., 132, 184-192. doi:10.1016/j.jappgeo.2016.07.002</p> </li> <li> <p>Maeda, T., K. Nishida, R. Takagi, and K. Obara (2016), Reconstruction of a 2D seismic wavefield by seismic gradiometry, Prog. Earth Planet. Sci., 3, 31. doi:10.1186/s40645-016-0107-4</p> </li> <li> <p>Todoriki, M., T. Furumura, and T. Maeda (2017), Effects of seawater on elongated duration of ground motion as well as variation in its amplitude for offshore earthquakes, Geophys. J. Int., 208, 226-233. doi:10.1093/gji/ggw388</p> </li> <li> <p>Toya, M., A. Kato, T. Maeda, K. Obara, T. Takeda, and K. Yamaoka (2017), Down-dip variations in a subducting low-velocity zone linked to episodic tremor and slip: a new constraint from ScSp waves, Scientific Reports, 7, 2868. doi:10.1038/s41598-017-03048-6</p> </li> <li> <p>Morioka, H., H. Kumagai, and T. Maeda (2017), Theoretical basis of the amplitude source location method for volcano-seismic signals, J. Geophys. Res., 122, 6538-6551. doi:10.1002/2017JB013997</p> </li> <li> <p>Furumura, T., &amp; Kennett, B. L. N. (2018). Regional distance PL phase in the crustal waveguide\u2014An analog to the teleseismic W phase in the upper\u2010mantle waveguide. J. Geophys. Res., 123, 4007\u2013 4024. doi:10.1029/2018JB015717</p> </li> <li> <p>Furumura, T., &amp; Kennett, B. L. N. (2019). The significance of long\u2010period ground motion at regional to teleseismic distances from the 610 km deep Mw8.3 Sea of Okhotsk earthquake of 24 May 2013. J. Geophys. Res., 124. doi:10.1029/2019JB018147</p> </li> </ul>"},{"location":"Misc/New_Feature/","title":"New features","text":""},{"location":"Misc/New_Feature/#development-snapshot","title":"Development snapshot","text":""},{"location":"Misc/New_Feature/#better-switching-between-enjp-documentation","title":"Better switching between EN/JP documentation","text":"<ul> <li> <p>Now one can switch between Japanese and English documentation using the button to the left of the search box.</p> </li> <li> <p>Untranslated documents (for example, this page) are displayed in English even in Japanese mode. </p> </li> </ul> <p></p>"},{"location":"Misc/Revision_History/","title":"Revision Histories","text":"2021-08-27 (v5.2.0) <p>Earth-flattening transformation, psmeca (a new source representation), seawater velocity structure w/ SOFAR channel, a new tool that converts 2D simulation output into pseudo-3D, supporting new Japanese supercomputers, and some minor bugfixes. </p> 2020-08-13 (v5.1.0) <p>Strict-mode</p> 2019-08-27 (v5.0.0) <p>New web-based documentation, stress/strain waveform output, slip-based source specification, and many bugfixes. </p> 2017-09-21 (v4.0) <p>Minor bugfixes, new binary output for waveform, updated references.</p> 2016-08-20 (v3.0) <p>Hybrid parallel simulation for 2D codes.</p> 2016-06-19 (v2.0) <p>Hybrid parallel simulation for 2D codes.</p> 2016-05-05 (v1.0) <p>Official first release as an open-source software</p> 2016-02-03 <p>Output in \\texttt{NetCDF} format.</p> 2016-01-14 <p>Body force and reciprocity modes.</p> 2015-07-14 <p>MPI/OpenMP hybrid parallel simulation mode.</p> 2015-06-29 <p>Added random media.</p> 2015-06-10 <p>Revision for the new Earth Simulator.</p> 2015-06-04 <p>First closed version for the ERI/UT joint usage program.</p>"},{"location":"ja/","title":"OpenSWPC \u30e6\u30fc\u30b6\u30fc\u30ba\u30ac\u30a4\u30c9","text":""},{"location":"ja/#description","title":"Description","text":"<p>OpenSWPC\u306f3\u6b21\u5143\u30fb2\u6b21\u5143\uff08P-SV/SH\uff09\u7a7a\u9593\u306b\u304a\u3044\u3066\u7dda\u5f62\u5f3e\u6027\u4f53\u30fb\u7c98\u5f3e\u6027\u4f53\u306e\u69cb\u6210\u65b9\u7a0b\u5f0f\u306e\u3082\u3068\u306b\u5f3e\u6027\u4f53\u306e\u904b\u52d5\u65b9\u7a0b\u5f0f\u3092\u5dee\u5206\u6cd5\u3067\u96e2\u6563\u5316\u3057\uff0c\u5730\u9707\u6ce2\u306e\u4f1d\u64ad\u3092MPI (Message Passing Interface)\u306b\u57fa\u3065\u304f\u4e26\u5217\u8a08\u7b97\u306b\u3088\u3063\u3066\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u30c4\u30fc\u30eb\u3067\u3059\uff0e\u307e\u305f\uff0c\u7d50\u679c\u306e\u53ef\u8996\u5316\u3084\u5909\u63db\u306e\u95a2\u9023\u30c4\u30fc\u30eb\u3082\u5408\u308f\u305b\u3066\u63d0\u4f9b\u3055\u308c\u307e\u3059\uff0e</p>"},{"location":"ja/1._SetUp/0101_env/","title":"\u52d5\u4f5c\u74b0\u5883","text":"<p><code>OpenSWPC</code> \u3092\u52d5\u4f5c\u3055\u305b\u308b\u306b\u306f\uff0cFortran 2003\u3092\uff08\u5c11\u306a\u304f\u3068\u3082\u90e8\u5206\u7684\u306b\uff09\u89e3\u3059\u308b\u3053\u3068\u306e\u3067\u304d\u308bFortran\u30b3\u30f3\u30d1\u30a4\u30e9\u306a\u3089\u3073\u306bMPI\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5fc5\u8981\u3067\u3042\u308b\uff0e\u672c\u30b3\u30fc\u30c9\u306f\u5358\u72ecCPU\uff08\u3042\u308b\u3044\u306fCPU\u30b3\u30a2\uff09\u3067\u52d5\u4f5c\u3055\u305b\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u304c\uff0c\u305d\u306e\u5834\u5408\u306b\u304a\u3044\u3066\u3082MPI\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u30fb\u5b9f\u884c\u6642\u306b\u5fc5\u8981\u3067\u3042\u308b\uff0e \u307e\u305f\uff0c\u5165\u51fa\u529b\u306b<code>NetCDF</code>\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306b\u306f\uff0c<code>OpenSWPC</code>\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308bFortran\u30b3\u30f3\u30d1\u30a4\u30e9\u3067\u4f5c\u6210\u3057\u305fNetCDF\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5fc5\u8981\u3067\u3042\u308b\uff0e</p> <p>Fortran\u306e\u8a18\u6cd5\u306e\u307b\u3068\u3093\u3069\u306fFortran2003\u306e\u6a19\u6e96\u898f\u683c\u306b\u6cbf\u3063\u3066\u3044\u308b\uff0e \u4f8b\u5916\u3068\u3057\u3066\uff0cUnix\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3<code>system()</code>\u3092\u4e00\u90e8\u3067\u7528\u3044\u3066\u3044\u308b\u304c\uff0c \u3053\u308c\u306f\u65e2\u5b58\u306e\u591a\u304f\u306e\u30b3\u30f3\u30d1\u30a4\u30e9\u74b0\u5883\u3067\u52d5\u4f5c\u3059\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3055\u308c\u3066\u3044\u308b\uff0e \u306f\uff0cFortran2003\u306e\u8a00\u8a9e\u4ed5\u69d8\u306e\u3046\u3061\u30b9\u30c8\u30ea\u30fc\u30e0\u5165\u51fa\u529b\u3092\u7528\u3044\u3066\u3044\u308b\uff0e \u3053\u306e\u6a5f\u80fd\u306f\u53e4\u3044\u30b3\u30f3\u30d1\u30a4\u30e9\uff08\u305f\u3068\u3048\u3070<code>gfortran</code>\u306e\u30d0\u30fc\u30b8\u30e7\u30f34\u4ee5\u524d\u306a\u3069\uff09\u3067\u306f\u5b9f\u88c5\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\uff0c\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3042\u308b\uff0e</p> <p>\u958b\u767a\u306a\u3089\u3073\u306b\u52d5\u4f5c\u78ba\u8a8d\u306f\u4ee5\u4e0b\u306e\u74b0\u5883\u3067\u884c\u3063\u3066\u3044\u308b\uff0e</p> <ul> <li>Apple macOS Mojave 10.14.3</li> <li>GNU <code>gfortran</code> 8.2.0</li> <li><code>OpenMPI</code> 4.0.0</li> </ul> <p>\u305d\u306e\u4ed6\uff0c\u4ee5\u4e0b\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3067\u306e\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u3066\u3044\u308b\uff0e</p> <ul> <li>EIC computer, ERI/UTokyo (ver. 2015; SGI Altix; intel fortran)</li> <li>JAMSTEC Earth Simulator (NEC SX-ACE; NEC compiler)</li> <li>AICS K computer (Fujitsu compiler)</li> <li>Nagoya University (FX10/Fx100; Fujitsu compiler)</li> <li>Linux Cent OS 6.6 (gfortran 4.9.2 &amp; mpich)</li> <li>Linux Ubuntu 16.04LTS (gfortran 5.4 &amp; OpenMPI)</li> </ul>"},{"location":"ja/1._SetUp/0102_tree/","title":"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210","text":"<pre><code>      \u251c\u2500\u2500 doc            : \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n      \u251c\u2500\u2500 bin            : \u5b9f\u884c\u30d0\u30a4\u30ca\u30ea\n      \u251c\u2500\u2500 dataset        : \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u304a\u3088\u3073\u30c7\u30fc\u30bf\u751f\u6210\u30b9\u30af\u30ea\u30d7\u30c8\n      \u251c\u2500\u2500 example        : \u5165\u529b\u30d5\u30a1\u30a4\u30eb\u30b5\u30f3\u30d7\u30eb\n      \u2514\u2500\u2500 src            : \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n          \u251c\u2500\u2500 swpc_3d    : 3\u6b21\u5143\u554f\u984c\n          \u251c\u2500\u2500 swpc_psv   : 2\u6b21\u5143P-SV\u554f\u984c\n          \u251c\u2500\u2500 swpc_sh    : 2\u6b21\u5143SH\u554f\u984c \n          \u251c\u2500\u2500 tools      : \u53ef\u8996\u5316\u7b49\u30c4\u30fc\u30eb\u7fa4\n          \u2514\u2500\u2500 shared     : \u5171\u901a\u30e2\u30b8\u30e5\u30fc\u30eb\n</code></pre>"},{"location":"ja/1._SetUp/0103_compile/","title":"\u30b3\u30f3\u30d1\u30a4\u30eb","text":""},{"location":"ja/1._SetUp/0103_compile/#make","title":"make","text":"<p><code>src/swpc_3d</code>, <code>src/swpc_psv</code>, <code>src/swpc_sh</code>, <code>src/tools</code>\u306e\u4e0b\u306b<code>makefile</code>\u304c\u3042\u308b\uff0e <code>src/shared</code>\u306b\u306f\u5404\u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089\u5171\u901a\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u30b3\u30fc\u30c9\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\uff0e \u5404\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff08<code>src/swpc_*</code>\uff09\u306b\u304a\u3044\u3066<code>make</code>\u3059\u308b\u3053\u3068\u3067<code>bin</code>\u4ee5\u4e0b\u306b\u5b9f\u884c\u30d0\u30a4\u30ca\u30ea\u304c\u751f\u6210\u3055\u308c\u308b\uff0e</p>"},{"location":"ja/1._SetUp/0103_compile/#makefile","title":"makefile\u306e\u6307\u5b9a\u5909\u6570","text":"<p>makefile\u3067\u306f\u4ee5\u4e0b\u306e\u5909\u6570\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\uff0e</p> \u5909\u6570 \u8aac\u660e <code>FC</code> \u30b3\u30f3\u30d1\u30a4\u30e9 <code>FFLAGS</code> \u30b3\u30f3\u30d1\u30a4\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3 <code>NCFLAG</code> <code>NetCDF</code> \u5229\u7528\u30b9\u30a4\u30c3\u30c1 <code>NCLIB</code> <code>NetCDF</code> \u30e9\u30a4\u30d6\u30e9\u30ea\u683c\u7d0d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea <code>NCINC</code> <code>NetCDF</code> include\u30c7\u30a3\u30ec\u30af\u30c8\u30ea <code>NETCDF</code> <code>NetCDF</code> \u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30ea\u30f3\u30af <p><code>NCFLAG = -D_NETCDF</code> \u304c\u6307\u5b9a\u3055\u308c\u308b\u3053\u3068\u306b\u3088\u308a\uff0c<code>NetCDF</code>\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5229\u7528\u3057\u305f\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u884c\u308f\u308c\u308b\uff0e</p> <p>\u3055\u307e\u3056\u307e\u306a\u8a08\u7b97\u6a5f\u74b0\u5883\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u305f\u3081\uff0c\u4ee5\u4e0b\u306e<code>arch</code>\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u3088\u308a\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u5206\u5c90\u3055\u305b\u3066\u3044\u308b: </p> arch\u30aa\u30d7\u30b7\u30e7\u30f3\u540d \u5bfe\u8c61 NetCDF\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u5834\u6240 mac-intel Mac OSX + Intel Compiler + OpenMPI <code>${HOME}/local</code> mac-gfortran Mac OSX + gfortran + Open MPI <code>/usr/local</code> eic EIC2015\u74b0\u5883\u4e0b\u306eIntel Compiler <code>${HOME}/local</code> fx \u5bcc\u58eb\u901aFX10, FX100 \u304a\u3088\u3073\u4eac\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf <code>${HOME}/xlocal</code> es3 \u5730\u7403\u30b7\u30df\u30e5\u30ec\u30fc\u30bf \u30b7\u30b9\u30c6\u30e0\u63d0\u4f9b ubuntu-gfortran Ubuntu 16.04LTS + gfortran + Open MPI <code>apt</code>\u306b\u3088\u308b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb ofp (or oak) \u6771\u4eac\u5927\u5b66\u60c5\u5831\u57fa\u76e4\u30bb\u30f3\u30bf\u30fc Oakforest-PACS <code>module</code> \u30b3\u30de\u30f3\u30c9\u3092\u901a\u3058\u3066\u81ea\u52d5\u6307\u5b9a obcx \u6771\u4eac\u5927\u5b66\u60c5\u5831\u57fa\u76e4\u30bb\u30f3\u30bf\u30fc Oakbridge-CX <code>module</code> \u30b3\u30de\u30f3\u30c9\u3092\u901a\u3058\u3066\u81ea\u52d5\u6307\u5b9a bdec-o \u6771\u4eac\u5927\u5b66\u60c5\u5831\u57fa\u76e4\u30bb\u30f3\u30bf\u30fc Wisteria/BDEC-01 (Odyssey) <code>module</code> \u30b3\u30de\u30f3\u30c9\u3092\u901a\u3058\u3066\u81ea\u52d5\u6307\u5b9a mac-m1 macOS + gfortran (Apple Silicon M1/M2 + Homebrew) <code>/opt/homebrew/</code> <p>\u305f\u3068\u3048\u3070<code>mac-gfortran</code>\u306b\u76f8\u5f53\u3059\u308b\u74b0\u5883\u3067\u306f\uff0c</p> <pre><code>make arch=mac-gfortran\n</code></pre> <p>\u3068\u3059\u308b\u3053\u3068\u3067\uff0c\u305d\u306e\u74b0\u5883\u306b\u9069\u3057\u305f\u30b3\u30f3\u30d1\u30a4\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u81ea\u52d5\u7684\u306b\u9078\u629e\u3055\u308c\u308b\uff0e\u307e\u305f\uff0c\u5e7e\u3064\u304b\u306e\u74b0\u5883\u3067\u306f\uff0c</p> <pre><code>make arch=eic debug=true\n</code></pre> <p>\u306e\u3088\u3046\u306b<code>debug=true</code>\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b\u3068\uff0c\u30b3\u30f3\u30d1\u30a4\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3<code>FFLAGS</code>\u304c\u30c7\u30d0\u30c3\u30b0\u306b\u9069\u3057\u305f\u3082\u306e\u306b\u5909\u66f4\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\uff0e\u3053\u308c\u3089\u306e\u5909\u6570\u306f <code>src/shared/makefile.arch</code>\u3068<code>src/shared/makefile-tools.arch</code>\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\uff0e\u65b0\u305f\u306a\u74b0\u5883\u3092\u8ffd\u52a0\u3059\u308b\u306b\u306f\uff0c\u3053\u308c\u3089\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u8a18\u3059\u308b\u306e\u304c\u7c21\u5358\u3067\u3042\u308d\u3046\uff0e</p>"},{"location":"ja/1._SetUp/0103_compile/#netcdf","title":"<code>NetCDF</code>\u306e\u5229\u7528","text":"<p>\u672c\u30b3\u30fc\u30c9\u306e\u901f\u5ea6\u69cb\u9020\u5165\u529b\u306e\u4e00\u90e8\u306b\u306f<code>NetCDF</code>\u5f62\u5f0f\u3092\u63a1\u7528\u3057\u3066\u304a\u308a\uff0c\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u30e2\u30b8\u30e5\u30fc\u30eb\u60c5\u5831\u30d5\u30a1\u30a4\u30eb\u304c\u5fc5\u8981\u3067\u3042\u308b\uff0e \u5177\u4f53\u7684\u306b\u306f\uff0c</p> <ul> <li><code>libnetcdf.*</code>:   <code>NetCDF</code>\u30e9\u30a4\u30d6\u30e9\u30ea\u30d5\u30a1\u30a4\u30eb</li> <li><code>libnetcdff.*</code>:  <code>NetCDF</code> Fortran\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\u30d5\u30a1\u30a4\u30eb\uff08<code>NetCDF</code> ver.4\u4ee5\u964d\uff09</li> <li><code>netcdf.mod</code>:    Fortran\u30e2\u30b8\u30e5\u30fc\u30eb\u60c5\u5831\u30d5\u30a1\u30a4\u30eb</li> </ul> <p>\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u5fc5\u8981\u3068\u306a\u308b\uff0e \u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u62e1\u5f35\u5b50\u306f<code>*.a</code>\uff08static\uff09\u306e\u5834\u5408\u3068<code>*.so</code>\uff08dynamic\uff09\u306e\u5834\u5408\u304c\u3042\u308b\uff0e \u307e\u305f\uff0cFortran90\u306e\u4ed5\u69d8\u306b\u3088\u308a\uff0c<code>NetCDF.mod</code>\u306f\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u3068\u540c\u3058\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u3088\u308a\u4f5c\u6210\u3055\u308c\u3066\u3044\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\uff0e \u7279\u306bLinux\u74b0\u5883\u7b49\u306b\u304a\u3044\u3066\uff0c<code>yum, apt, brew</code>\u7b49\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u306b\u3088\u308a\u5c0e\u5165\u3057\u305f<code>NetCDF</code>\u3067\u306f\uff0c<code>gfortran</code>\u4ee5\u5916\u306e\u30b3\u30f3\u30d1\u30a4\u30e9\u3092\u7528\u3044\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\uff0e\u305d\u306e\u3088\u3046\u306a\u5834\u5408\u306f\uff0c\u5225\u306e\u5834\u6240\u306b\u7528\u306e<code>NetCDF</code>\u3092\u81ea\u529b\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\uff0e</p>"},{"location":"ja/1._SetUp/0103_compile/#_2","title":"\u57cb\u3081\u8fbc\u307f\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8abf\u6574","text":"<p><code>OpenSWPC</code>\u306e\u6319\u52d5\u306f\u539f\u5247\u3068\u3057\u3066\u30d1\u30e9\u30e1\u30fc\u30bf\u30d5\u30a1\u30a4\u30eb\u3067\u5236\u5fa1\u3055\u308c\u308b\u304c\uff0c\u8a08\u7b97\u901f\u5ea6\u306e\u5411\u4e0a\u306e\u305f\u3081\uff0c\u5e7e\u3064\u304b\u306e\u5909\u66f4\u983b\u5ea6\u306e\u4f4e\u3044\u3068\u671f\u5f85\u3055\u308c\u308b\u30d1\u30e9\u30e1\u30bf\u304c\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306b\u57cb\u3081\u8fbc\u307e\u308c\u3066\u3044\u308b\uff0e\u3053\u308c\u3089\u306f\u3044\u305a\u308c\u3082<code>m_global.F90</code>\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\uff0e\u4ee5\u4e0b\u306e\u5024\u3092\u4fee\u6b63\u3057\u305f\u5834\u5408\u306b\u306f\uff0c\u30b3\u30fc\u30c9\u5168\u4f53\u306e\u518d\u30b3\u30f3\u30d1\u30a4\u30eb\uff08<code>make clean; make</code>\uff09\u304c\u5fc5\u8981\u3067\u3042\u308b\uff0e</p> <p>Parameters</p> <code>UC</code> \u8a08\u7b97\u306b\u7528\u3044\u308b\u6df7\u5408\u5ea7\u6a19\u7cfb\uff08\u8ddd\u96e2km, \u5bc6\u5ea6g/cm, \u5730\u9707\u6ce2\u901f\u5ea6km/s\u306a\u3069\u306e\u6163\u7528\u5358\u4f4d\uff09\u3067\u306e\u7d50\u679c\u3092SI\u5358\u4f4d\u306b\u63db\u7b97\u3059\u308b\u5b9a\u6570\uff0e \u8a08\u7b97\u306e\u5358\u4f4d\u7cfb\u3092\u5909\u66f4\u3059\u308b\u5834\u5408\u306b\u306f\u8abf\u6574\u304c\u5fc5\u8981\u3068\u306a\u308b\uff0e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f <code>1e-15</code> (3D) \u3082\u3057\u304f\u306f <code>1e-12</code> (2D) <code>MP</code> \u6df7\u5408\u7cbe\u5ea6\u5dee\u5206\u6cd5\u306e\u7cbe\u5ea6\uff0e<code>DP</code>\u306e\u5834\u5408\uff0c\u5fc5\u8981\u306a\u5909\u6570\u306b\u3064\u3044\u3066\u306f\u500d\u7cbe\u5ea6\u3067\uff0c\u305d\u308c\u4ee5\u5916\u306e\u5909\u6570\u3092\u5358\u7cbe\u5ea6\u3067\u305d\u308c\u305e\u308c\u8a08\u7b97\u3059\u308b\uff0e\u3053\u308c\u3092SP\u306b\u5909\u66f4\u3059\u308b\u3068\uff0c\u8a08\u7b97\u3059\u3079\u3066\u3092\u5358\u7cbe\u5ea6\u3067\u5b9f\u884c\u3059\u308b\u3088\u3046\u306b\u306a\u308b\uff0e\u5358\u7cbe\u5ea6\u8a08\u7b97\u3067\u306f\u7279\u306b\u9707\u6e90\u5468\u8fba\u3067\u6841\u3042\u3075\u308c\u306b\u4f34\u3046\u4e0d\u5b89\u5b9a\u304c\u8d77\u3053\u308b\u5834\u5408\u304c\u3042\u308b\u304c\uff0c\u5fc5\u8981\u3068\u306a\u308b\u30e1\u30e2\u30ea\u91cf\u306f\u7d042/3\u306b\u5c0f\u3055\u304f\u306a\u308a\uff0c\u8a08\u7b97\u3082\u901f\u3044\uff0e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\u500d\u7cbe\u5ea6\u3092\u610f\u5473\u3059\u308b\u30d1\u30e9\u30e1\u30bf<code>DP</code>\uff0e\u5177\u4f53\u7684\u306a\u5024\u306fFortran\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u3088\u3063\u3066\u81ea\u52d5\u7684\u306b\u6c7a\u5b9a\u3055\u308c\u308b\u304c\uff0c\u591a\u304f\u306e\u30b3\u30f3\u30d1\u30a4\u30e9\u3067<code>8</code>\u3092\u53d6\u308b\uff0e <code>NM</code> \u30e1\u30e2\u30ea\u5909\u6570\u3092\u7528\u3044\u3066\u8a08\u7b97\u3059\u308b\u4e00\u822c\u5316Zener\u7c98\u5f3e\u6027\u4f53\u306e\u4e26\u5217\u6570\uff0e1\u3088\u308a\u5927\u304d\u306a\u5024\u306e\u5834\u5408\u306b\u306f\uff0c\u30d1\u30e9\u30e1\u30bf<code>fq_*</code>\u306b\u5fdc\u3058\u3066\u6307\u5b9a\u3055\u308c\u305f\u5468\u6ce2\u6570\u7bc4\u56f2\u306b\u304a\u3044\u3066\u5468\u6ce2\u6570\u4e00\u5b9a\u306eQ\u5024\u3092\u53d6\u308b\u3088\u3046\u306b\u6700\u9069\u5316\u3055\u308c\u308b\uff0e\u4e00\u65b9\uff0c0\u306e\u5834\u5408\u306b\u306f\u5b8c\u5168\u5f3e\u6027\u4f53\u306e\u554f\u984c\u3068\u306a\u308a\uff0c\u5185\u90e8\u6e1b\u8870\u306f\u8003\u616e\u3055\u308c\u306a\u3044\uff0e\u7279\u306b3\u6b21\u5143\u8a08\u7b97\u306b\u304a\u3044\u3066\u306f\uff0c\u8a08\u7b97\u306b\u5fc5\u8981\u306a\u6642\u9593\u3084\u30e1\u30e2\u30ea\u91cf\u304c\u3053\u306e\u30d1\u30e9\u30e1\u30bf\u306b\u3088\u3063\u3066\u5927\u304d\u304f\u5909\u52d5\u3059\u308b\uff0e"},{"location":"ja/1._SetUp/0104_dataset/","title":"\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u6e96\u5099","text":""},{"location":"ja/1._SetUp/0104_dataset/#_2","title":"\u5730\u4e0b\u69cb\u9020\u30e2\u30c7\u30eb","text":"<p>\u5730\u8868\u6d77\u5e95\uff0c\u3042\u308b\u3044\u306f\u901f\u5ea6\u4e0d\u9023\u7d9a\u9762\u3092\u8868\u3059\u8907\u6570\u306e<code>NetCDF</code>\u30d5\u30a1\u30a4\u30eb\u306b\u3088\u3063\u30663\u6b21\u5143\u7684\u306a\u4e0d\u5747\u8cea\u69cb\u9020\u3092\u8868\u73fe\u3059\u308b\uff0e \u305d\u306e\u4e00\u4f8b\u3068\u3057\u3066\uff0c\u5730\u9707\u8abf\u67fb\u7814\u7a76\u63a8\u9032\u672c\u90e8\u3068(Koketsu et al., 2012)\u306b\u3088\u308b\u65e5\u672c\u306e\u5168\u56fd\uff11\u6b21\u5730\u4e0b\u69cb\u9020\u30e2\u30c7\u30eb\uff08Japan Integrated Velocity Structure Model; JIVSM\uff09\u304a\u3088\u3073\u305d\u308c\u3092\u3088\u308a\u5e83\u3044\u9818\u57df\u306b\u62e1\u5f35\u3057\u305fextended JIVSM (eJIVSM)\u30e2\u30c7\u30eb\uff08\u4e0b\u56f3\uff09\u306e\u751f\u6210\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u540c\u68b1\u3055\u308c\u3066\u3044\u308b\uff0e\u3053\u308c\u3089\u306e\u30e2\u30c7\u30eb\u306f\uff0c\u5730\u8868\u30fb\u6d77\u5e95\u5730\u5f62\u304b\u3089\uff0c\u65e5\u672c\u5217\u5cf6\u306b\u6c88\u307f\u8fbc\u3080\u30d7\u30ec\u30fc\u30c8\u306e\u6d77\u6d0b\u6027\u30e2\u30db\u9762\u307e\u3067\u3092\u542b\u3080\u30e2\u30c7\u30eb\u3067\u3042\u308b\uff0e\u3053\u306e\u30e2\u30c7\u30eb\u751f\u6210\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u52d5\u4f5c\u3055\u305b\u308b\u306b\u306fGMT\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\uff0e\u3053\u308c\u3089\u306e\u30e2\u30c7\u30eb\u3092\u4f7f\u3046\u306e\u3067\u306a\u3051\u308c\u3070\uff0c\u672c\u7bc0\u306e\u4f5c\u696d\u306f\u5fc5\u8981\u306a\u3044\uff0e</p> <p>JIVSM/eJIVSM\u306e\u5b9a\u7fa9\u9818\u57df\u3068\u65ad\u9762\u56f3</p> <p> JIVSM\u30e2\u30c7\u30eb\u3068eJIVSM\u30e2\u30c7\u30eb\uff0e\u4e2d\u592e\u5730\u56f3\u3067\u6a19\u9ad8\u5024\u306b\u3088\u308b\u8272\u304c\u5857\u3089\u308c\u305f\u90e8\u5206\u304cJIVSM\u3067\u69cb\u9020\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u9818\u57df\uff0c\u7070\u8272\u90e8\u5206\u304ceJIVSM\u30e2\u30c7\u30eb\u306b\u3088\u3063\u3066\u62e1\u5f35\u3055\u308c\u308b\u672a\u5b9a\u7fa9\u9818\u57df\u3067\u3042\u308b\uff0e\u5730\u56f3\u4e0a\u306e\u9752\u30fb\u8d64\u7dda\u306b\u6cbf\u3063\u305f\u69cb\u9020\u30e2\u30c7\u30eb\u4e0d\u9023\u7d9a\u9762\u306e\u6df1\u3055\u65ad\u9762\u3092\u4e0a\u4e0b\u5de6\u53f3\u306b\u305d\u308c\u305e\u308c\u793a\u3059\uff0e</p> <p>\u307e\u305a\uff0c<code>dataset/vmodel</code>\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\uff0c<code>gen_JIVSM.sh</code>\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u30b3\u30e1\u30f3\u30c8\u306b\u5f93\u3044\uff0c\u5730\u9707\u8abf\u67fb\u7814\u7a76\u63a8\u9032\u672c\u90e8\u304b\u3089\u69cb\u9020\u30e2\u30c7\u30eb\u30d5\u30a1\u30a4\u30eb<code>lp2012nankai-e_str.zip</code>\u304a\u3088\u3073<code>lp2012nankai-w_str.zip</code>\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\uff08\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u305f\u3081\u306e\u30b3\u30de\u30f3\u30c9\u304c\u30b3\u30e1\u30f3\u30c8\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u53c2\u8003\u306b\u3055\u308c\u305f\u3044\uff09\uff0e \u307e\u305f\uff0cJIVSM\u69cb\u9020\u30e2\u30c7\u30eb\u4f5c\u6210\u5f8c\u306b\uff0c\u30e2\u30c7\u30eb\u306b\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u5357\u6771\u30fb\u5317\u897f\u77e9\u5f62\u9818\u57df\u3092\u88dc\u5916\u306b\u3088\u3063\u3066\u57cb\u3081\u3066\u5229\u7528\u3057\u3084\u3059\u304f\u3057\u305feJIVSM\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3059\u308b\uff0e</p> <p>eJIVSM\u3067\u306f\uff0c\u5143\u30c7\u30fc\u30bf\u304c\u5b58\u5728\u3057\u306a\u3044\u9818\u57df\u306e\u5730\u7403\u5185\u90e8\u4e0d\u9023\u7d9a\u9762\u306f\u88dc\u5916\u306b\u3088\u3063\u3066\uff0c\u5730\u8868\u9762\u304a\u3088\u3073\u6d77\u5e95\u9762\u306f\u5225\u306e\u5730\u5f62\u30e2\u30c7\u30eb\u306b\u3088\u3063\u3066\u7f6e\u304d\u63db\u3048\u308b\uff0e\u305d\u3053\u3067\uff0c\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5730\u5f62\u30c7\u30fc\u30bf\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3057\uff0c<code>params.sh</code>\u306b\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3059\u308b\uff0e\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fETOPO1\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\uff0e\u3053\u308c\u3082NOAA\u304b\u3089\u5225\u9014\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066<code>grd</code>\u30d5\u30a1\u30a4\u30eb\u3092\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u914d\u7f6e\u3059\u308b\uff0e\u307e\u305f\uff0c\u88dc\u5916\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u306b\u7528\u3044\u308bFortran\u30b3\u30f3\u30d1\u30a4\u30e9\u540d\u3092<code>FC</code>\u306b\u6307\u5b9a\u3059\u308b\uff0e\u30b0\u30ea\u30c3\u30c9\u9593\u9694<code>dlon, dlat</code>\u306fJIVSM\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u6642\u304b\u3089\u5909\u66f4\u3057\u3066\u306f\u306a\u3089\u306a\u3044\uff0e</p> <p>\u307e\u305f\uff0c\u5fc5\u8981\u306b\u5fdc\u3058\u3066<code>param.sh</code>\u306e\u7def\u5ea6\u30fb\u7d4c\u5ea6\u30b0\u30ea\u30c3\u30c9\u9593\u9694<code>dlon, dlat</code>\uff08\u5358\u4f4d\u306f\u5ea6\uff09\u3092\u4fee\u6b63\u3059\u308b\uff0e\u306a\u304a\uff0c\u3053\u306e\u30b0\u30ea\u30c3\u30c9\u9593\u9694\u306f\u5dee\u5206\u6cd5\u306e\u96e2\u6563\u5316\u9593\u9694\u3068\u306f\u76f4\u63a5\u306f\u95a2\u4fc2\u3057\u306a\u3044\uff0e\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u6642\u306b\u306f\u3053\u306e<code>NetCDF</code>\u30c7\u30fc\u30bf\u304b\u3089\u3055\u3089\u306b\u7a7a\u9593\u88dc\u5b8c\u306b\u3088\u308a\u4e0d\u9023\u7d9a\u9762\u306e\u6df1\u3055\u304c\u63a8\u5b9a\u3055\u308c\u308b\uff0e</p> <p>\u3053\u308c\u3089\u306e\u6e96\u5099\u306e\u3082\u3068\uff0c</p> <pre><code>$ ./gen_JIVSM.sh\n</code></pre> <p>\u3092\u5b9f\u884c\u3059\u308b\u3068\uff0c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea<code>JIVSM</code>\u3068<code>eJIVSM</code>\u4ee5\u4e0b\u306b\u305d\u308c\u305e\u308c23\u500b\u306e<code>NetCDF</code>\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u308b\uff0e\u3053\u308c\u3089\u306fGMT\u306e<code>grd</code>\u30d5\u30a1\u30a4\u30eb\u3067\u3082\u3042\u308a\uff0cGMT\u306e<code>grdimage</code>, <code>grdcontour</code>\u7b49\u3067\u76f4\u63a5\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u308b\uff0e\u30d5\u30a1\u30a4\u30eb\u540d\u306b\u306f\u9023\u756a\u306e\u307b\u304b5\u3064\u306e\u6570\u5b57\u304c\u57cb\u3081\u8fbc\u307e\u308c\u3066\u304a\u308a\uff0c\u305d\u308c\u305e\u308c\u5de6\u304b\u3089\u5bc6\u5ea6\uff08kg/m\uff09, P\u6ce2\u901f\u5ea6\uff08m/s\uff09, S\u6ce2\u901f\u5ea6\uff08m/s\uff09,QP, QS\u306b\u5bfe\u5fdc\u3059\u308b\uff0e \u3053\u308c\u3089\u306e\u7269\u6027\u5024\u306f\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u898f\u5b9a\u3055\u308c\u308b\u4e0d\u9023\u7d9a\u9762\u306e\u4e0b\u306e\u69cb\u9020\u3092\u8868\u3057\u3066\u3044\u308b\uff0e \u307e\u305f\uff0c\u672c\u30b3\u30fc\u30c9\u306e\u5165\u529b\u306b\u7528\u3044\u308b\u69cb\u9020\u30e2\u30c7\u30eb\u30ea\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb<code>jivsm.lst</code>,<code>ejivsm.lst</code>\u304c\u4f5c\u6210\u3055\u308c\u308b\uff0e</p>"},{"location":"ja/1._SetUp/0104_dataset/#_3","title":"\u89b3\u6e2c\u70b9\u30ea\u30b9\u30c8","text":"<p><code>dataset/station</code>\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u9632\u707d\u79d1\u5b66\u6280\u8853\u7814\u7a76\u6240Hi-net\u306b\u3088\u308a\u914d\u5e03\u3055\u308c\u3066\u3044\u308b\u89b3\u6e2c\u70b9\u4e00\u89a7\u304b\u3089\u7528\u306e\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8<code>gen_stlst_hinet.sh</code>\u304c\u3042\u308b\uff0e\u30b9\u30af\u30ea\u30d7\u30c8\u5b9f\u884c\u306e\u305f\u3081\u306b\u306f\uff0c\u89b3\u6e2c\u70b9\u4e00\u89a7\u3092\u3042\u3089\u304b\u3058\u3081\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\uff0c\u540c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u914d\u7f6e\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308b\uff0e</p> <p>\u89b3\u6e2c\u70b9\u30ea\u30b9\u30c8\u306f\u4e3b\u3068\u3057\u3066\u7def\u5ea6\u7d4c\u5ea6\u304b\u3089\u306a\u308b\u5358\u7d14\u306a\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3067\u3042\u308b\uff08\u6b21\u7ae0\u53c2\u7167\uff09\u306e\u3067\uff0c\u5fc5\u305a\u3057\u3082\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u3088\u3063\u3066\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u306f\u306a\u3044\uff0e</p>"},{"location":"ja/1._SetUp/0104_dataset/#_4","title":"\u57cb\u3081\u8fbc\u307f\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8abf\u6574","text":"<p><code>OpenSWPC</code>\u306e\u6319\u52d5\u306f\u539f\u5247\u3068\u3057\u3066\u30d1\u30e9\u30e1\u30fc\u30bf\u30d5\u30a1\u30a4\u30eb\u3067\u5236\u5fa1\u3055\u308c\u308b\u304c\uff0c\u8a08\u7b97\u901f\u5ea6\u306e\u5411\u4e0a\u306e\u305f\u3081\uff0c\u5e7e\u3064\u304b\u306e\u5909\u66f4\u983b\u5ea6\u306e\u4f4e\u3044\u3068\u671f\u5f85\u3055\u308c\u308b\u30d1\u30e9\u30e1\u30bf\u304c\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306b\u57cb\u3081\u8fbc\u307e\u308c\u3066\u3044\u308b\uff0e\u3053\u308c\u3089\u306f\u3044\u305a\u308c\u3082<code>m_global.F90</code>\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\uff0e\u4ee5\u4e0b\u306e\u5024\u3092\u4fee\u6b63\u3057\u305f\u5834\u5408\u306b\u306f\uff0c\u30b3\u30fc\u30c9\u5168\u4f53\u306e\u518d\u30b3\u30f3\u30d1\u30a4\u30eb\uff08<code>make clean; make</code>\uff09\u304c\u5fc5\u8981\u3067\u3042\u308b\uff0e</p> <p>Parameters</p> <code>UC</code> \u8a08\u7b97\u306b\u7528\u3044\u308b\u6df7\u5408\u5ea7\u6a19\u7cfb\uff08\u8ddd\u96e2km, \u5bc6\u5ea6g/cm^3, \u5730\u9707\u6ce2\u901f\u5ea6km/s\u306a\u3069\u306e\u6163\u7528\u5358\u4f4d\uff09\u3067\u306e\u7d50\u679c\u3092SI\u5358\u4f4d\u306b\u63db\u7b97\u3059\u308b\u5b9a\u6570\uff0e \u8a08\u7b97\u306e\u5358\u4f4d\u7cfb\u3092\u5909\u66f4\u3059\u308b\u5834\u5408\u306b\u306f\u8abf\u6574\u304c\u5fc5\u8981\u3068\u306a\u308b\uff0e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f <code>1e-15</code> (3D) \u3082\u3057\u304f\u306f <code>1e-12</code> (2D)\uff0e   <code>MP</code> \u6df7\u5408\u7cbe\u5ea6\u5dee\u5206\u6cd5\u306e\u7cbe\u5ea6\uff0e<code>DP</code>\u306e\u5834\u5408\uff0c\u5fc5\u8981\u306a\u5909\u6570\u306b\u3064\u3044\u3066\u306f\u500d\u7cbe\u5ea6\u3067\uff0c\u305d\u308c\u4ee5\u5916\u306e\u5909\u6570\u3092\u5358\u7cbe\u5ea6\u3067\u305d\u308c\u305e\u308c\u8a08\u7b97\u3059\u308b\uff0e\u3053\u308c\u3092SP\u306b\u5909\u66f4\u3059\u308b\u3068\uff0c\u8a08\u7b97\u3059\u3079\u3066\u3092\u5358\u7cbe\u5ea6\u3067\u5b9f\u884c\u3059\u308b\u3088\u3046\u306b\u306a\u308b\uff0e\u5358\u7cbe\u5ea6\u8a08\u7b97\u3067\u306f\u7279\u306b\u9707\u6e90\u5468\u8fba\u3067\u6841\u3042\u3075\u308c\u306b\u4f34\u3046\u4e0d\u5b89\u5b9a\u304c\u8d77\u3053\u308b\u5834\u5408\u304c\u3042\u308b\u304c\uff0c\u5fc5\u8981\u3068\u306a\u308b\u30e1\u30e2\u30ea\u91cf\u306f\u7d042/3\u306b\u5c0f\u3055\u304f\u306a\u308a\uff0c\u8a08\u7b97\u3082\u901f\u3044\uff0e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\u500d\u7cbe\u5ea6\u3092\u610f\u5473\u3059\u308b\u30d1\u30e9\u30e1\u30bf<code>DP</code>\uff0e\u5177\u4f53\u7684\u306a\u5024\u306fFortran\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u3088\u3063\u3066\u81ea\u52d5\u7684\u306b\u6c7a\u5b9a\u3055\u308c\u308b\u304c\uff0c\u591a\u304f\u306e\u30b3\u30f3\u30d1\u30a4\u30e9\u3067<code>8</code>\u3092\u53d6\u308b\uff0e <code>NM</code> \u30e1\u30e2\u30ea\u5909\u6570\u3092\u7528\u3044\u3066\u8a08\u7b97\u3059\u308b\u4e00\u822c\u5316Zener\u7c98\u5f3e\u6027\u4f53\u306e\u4e26\u5217\u6570\uff0e1\u3088\u308a\u5927\u304d\u306a\u5024\u306e\u5834\u5408\u306b\u306f\uff0c\u30d1\u30e9\u30e1\u30bf<code>fq_*</code>\u306b\u5fdc\u3058\u3066\u6307\u5b9a\u3055\u308c\u305f\u5468\u6ce2\u6570\u7bc4\u56f2\u306b\u304a\u3044\u3066\u5468\u6ce2\u6570\u4e00\u5b9a\u306eQ\u5024\u3092\u53d6\u308b\u3088\u3046\u306b\u6700\u9069\u5316\u3055\u308c\u308b\uff0e\u4e00\u65b9\uff0c0\u306e\u5834\u5408\u306b\u306f\u5b8c\u5168\u5f3e\u6027\u4f53\u306e\u554f\u984c\u3068\u306a\u308a\uff0c\u5185\u90e8\u6e1b\u8870\u306f\u8003\u616e\u3055\u308c\u306a\u3044\uff0e\u7279\u306b3\u6b21\u5143\u8a08\u7b97\u306b\u304a\u3044\u3066\u306f\uff0c\u8a08\u7b97\u306b\u5fc5\u8981\u306a\u6642\u9593\u3084\u30e1\u30e2\u30ea\u91cf\u304c\u3053\u306e\u30d1\u30e9\u30e1\u30bf\u306b\u3088\u3063\u3066\u5927\u304d\u304f\u5909\u52d5\u3059\u308b\uff0e"},{"location":"ja/1._SetUp/0105_parallel/","title":"\u4e26\u5217\u8a08\u7b97\u306e\u5b9f\u884c\u4f8b","text":"<p>\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u306b\u306f\uff0cMPI\u5b9f\u884c\u74b0\u5883\u3092\u7528\u3044\u3066\uff0c</p> <pre><code>$ mpirun -np ${NP} ./bin/swpc_3d.x -i ${input}\n</code></pre> <p>\u306e\u3088\u3046\u306b\u3059\u308b\uff0e\u3053\u3053\u3067<code>${NP}</code>\u306f\u5b9f\u884c\u30d7\u30ed\u30bb\u30b9\u6570\uff0c<code>${input}</code>\u306f\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u3042\u308b\uff0e\u305f\u3060\u3057\uff0c\u5b9f\u884c\u74b0\u5883\u306b\u3088\u3063\u3066\u306f\uff0c<code>mpirun</code>\u30b3\u30de\u30f3\u30c9\u540d\u3084\u305d\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u4e0e\u3048\u65b9\u304c\u7570\u306a\u308b\u5834\u5408\u304c\u3042\u308b\uff0e</p> <p><code>./example/input.inf</code> \u306b2x2=4\u4e26\u5217\u306e\u5747\u8cea\u5a92\u8cea\u4e2d\u306e3\u6b21\u5143\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u30d1\u30e9\u30e1\u30bf\u30d5\u30a1\u30a4\u30eb\u306e\u4f8b\u304c\u3042\u308b\uff0e\u3053\u308c\u3092\u305d\u306e\u307e\u307e\u5b9f\u884c\u3059\u308b\u306b\u306f\uff0c</p> <p><pre><code>$ mpirun -np 4 ./bin/swpc_3d.x -i example/input.inf\n</code></pre> \u3068\u3059\u308b\uff0e</p> <p>\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u6b63\u5e38\u306b\u5b9f\u884c\u3055\u308c\u308b\u3068\uff0c\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u753b\u9762\u51fa\u529b\u304c\u73fe\u308c\u308b\uff0e</p> <pre><code> ------------------------------------------------------------------------------\n  SWPC_3D                                                                     \n ------------------------------------------------------------------------------\n\n  Grid Size               :      384 x    384 x    384\n  MPI Partitioning        :        2 x    2\n  Total Memory Size       :          13.292  [GiB]\n  Node Memory Size        :           3.323  [GiB]\n  Stability  Condition c  :           0.645  (c&lt;1)\n  Wavelength Condition r  :          12.488  (r&gt;5-10)\n  Minimum velocity        :           3.122  [km/s]\n  Maximum velocity        :           7.977  [km/s]\n  Maximum frequency       :           0.500  [Hz]\n\n ------------------------------------------------------------------------------\n\n  it=0000050, 1.024 s/loop, eta 000:16:12, ( 2.94E-05  2.94E-05  1.59E-04 )\n  it=0000100, 1.028 s/loop, eta 000:15:25, ( 1.95E-04  1.95E-04  8.87E-04 )\n  it=0000150, 1.023 s/loop, eta 000:14:29, ( 1.04E-04  1.04E-04  4.87E-04 )\n  it=0000200, 1.014 s/loop, eta 000:13:31, ( 2.62E-05  2.62E-05  4.89E-05 )\n  it=0000250, 1.010 s/loop, eta 000:12:37, ( 1.32E-05  1.32E-05  3.59E-05 )\n  it=0000300, 1.001 s/loop, eta 000:11:40, ( 1.13E-05  1.13E-05  3.16E-05 )\n  it=0000350, 0.996 s/loop, eta 000:10:47, ( 1.26E-05  1.26E-05  2.67E-05 )\n  it=0000400, 0.992 s/loop, eta 000:09:55, ( 1.13E-05  1.13E-05  2.33E-05 )\n  it=0000450, 0.991 s/loop, eta 000:09:05, ( 9.68E-06  9.68E-06  2.07E-05 )\n  it=0000500, 0.987 s/loop, eta 000:08:13, ( 9.22E-06  9.22E-06  1.98E-05 )\n  it=0000550, 0.984 s/loop, eta 000:07:22, ( 8.90E-06  8.90E-06  1.90E-05 )\n  it=0000600, 0.981 s/loop, eta 000:06:32, ( 8.37E-06  8.37E-06  1.78E-05 )\n  it=0000650, 0.978 s/loop, eta 000:05:42, ( 7.78E-06  7.78E-06  1.68E-05 )\n  it=0000700, 0.975 s/loop, eta 000:04:52, ( 7.63E-06  7.63E-06  1.59E-05 )\n  it=0000750, 0.973 s/loop, eta 000:04:03, ( 7.47E-06  7.47E-06  1.53E-05 )\n  it=0000800, 0.972 s/loop, eta 000:03:14, ( 7.01E-06  7.01E-06  1.45E-05 )\n  it=0000850, 0.974 s/loop, eta 000:02:26, ( 6.79E-06  6.79E-06  1.35E-05 )\n  it=0000900, 0.974 s/loop, eta 000:01:37, ( 7.07E-06  7.07E-06  1.28E-05 )\n  it=0000950, 0.973 s/loop, eta 000:00:48, ( 7.38E-06  7.38E-06  1.20E-05 )\n  it=0001000, 0.973 s/loop, eta 000:00:00, ( 7.22E-06  7.22E-06  1.14E-05 )\n\n ------------------------------------------------------------------------------\n\n  Total time             :         972.827 s\n\n ------------------------------------------------------------------------------```\n</code></pre> <p>\uff08\u3053\u306e\u7d50\u679c\u306f <code>example/example.out</code> \u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\uff09</p> <p>\u5b9f\u884c\u958b\u59cb\u6642\u306b\u306f\u30e1\u30e2\u30ea\u4f7f\u7528\u91cf\u3084\u5b89\u5b9a\u6761\u4ef6\uff08CFL\u6761\u4ef6\u304b\u3089\u53d6\u308a\u3046\u308b\u6700\u5927\u306e\u6642\u9593\u523b\u307f\u3068\u5229\u7528\u3057\u305f\u6642\u9593\u523b\u307f\u3068\u306e\u6bd4\uff09\u3084\u6ce2\u9577\u6761\u4ef6\uff08\u6700\u5c0f\u6ce2\u9577\u3068\u7a7a\u9593\u523b\u307f\u3068\u306e\u6bd4\uff09\u306a\u3069\u3092\u8868\u793a\u3059\u308b\uff0e \u5b89\u5b9a\u6761\u4ef6\u306f  \u3067\u3042\u308b\u3053\u3068\u304c\u5fc5\u9808\u3067\u3042\u308a\uff0c\u304b\u3064\u6ce2\u9577\u6761\u4ef6 r&gt;5-10 \u304c\u63a8\u5968\u3055\u308c\u308b\uff0e\u7279\u306b\uff0c\u5b89\u5b9a\u6761\u4ef6\u304c\u6e80\u305f\u3055\u308c\u306a\u3044\u5834\u5408\u306b\u306f\u8a08\u7b97\u306f\u5b9f\u884c\u3055\u308c\u305a\u7570\u5e38\u7d42\u4e86\u3059\u308b\uff0e\u8a08\u7b97\u306e\u5b9f\u884c\u4e2d\u306f\uff0c\u30d1\u30e9\u30e1\u30bf\u30d5\u30a1\u30a4\u30eb\u3067\u6307\u5b9a\u3057\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\uff0c\u5b9a\u671f\u7684\u306b1\u30b9\u30c6\u30c3\u30d7\u3042\u305f\u308a\u306e\u8a08\u7b97\u6240\u8981\u6642\u9593\u30fb\u4e88\u60f3\u6b8b\u308a\u8a08\u7b97\u6642\u9593\u30fb\u73fe\u6642\u70b9\u3067\u306e\u6700\u5927\u901f\u5ea6\u632f\u5e45\u3092\u305d\u308c\u305e\u308c\u8868\u793a\u3059\u308b\uff0e\u51fa\u529b\u7d50\u679c\u306e\u3046\u3061\uff0c\u8a08\u7b97\u6642\u9593\u306b\u95a2\u3059\u308b\u8868\u793a\u306f\u74b0\u5883\u306b\u3088\u3063\u3066\u7570\u306a\u308b\uff0e\u8a08\u7b97\u304c\u6b63\u5e38\u306b\u5b9f\u884c\u3067\u304d\u3066\u3044\u308c\u3070\uff0c\u6700\u5927\u632f\u5e45\uff08\u6700\u5f8c\u306e <code>()</code> \u5185\u306e3\u3064\u306e\u6570\u5b57\uff09\u306f\uff0c\u540c\u3058\u7d50\u679c\u306b\u306a\u308b\u306f\u305a\u3060\uff0e</p> <p>\u306a\u304a\uff0c\u4e0a\u8a18\u306e3\u6b21\u5143\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306b\u306f\u7d0414GB\u306e\u30e1\u30e2\u30ea\u3092\u5fc5\u8981\u3068\u3059\u308b\uff0e\u30e1\u30e2\u30ea\u4e0d\u8db3\u306b\u3088\u308a\u30c6\u30b9\u30c8\u5b9f\u884c\u304c\u56f0\u96e3\u306a\u5834\u5408\u306f\uff0c\u304a\u306a\u3058\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u3092\u3064\u304b\u3063\u3066xz\u65ad\u9762\u306b\u304a\u3051\u308b2\u6b21\u5143P-SV\u6ce2\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u65bd\u3067\u304d\u308b\uff1a</p> <pre><code>$ mpirun -np 2 ./bin/swpc_psv.x -i example/input.inf\n</code></pre> <p>\u540c\u3058\u30d1\u30e9\u30e1\u30bf\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u3063\u3066\u3082\uff0c2\u6b21\u5143\u8a08\u7b97\u306e\u5834\u5408\u306f\u4e26\u5217\u6570\uff08<code>-np</code>\u30aa\u30d7\u30b7\u30e7\u30f3\uff09\u304c\u7570\u306a\u308b\u3053\u3068\u306b\u6ce8\u610f\u3055\u308c\u305f\u3044\uff0e</p> <p>\u3053\u306e\u5834\u5408\u306e\u51fa\u529b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\uff0e\u7d50\u679c\u306e\u898b\u304b\u305f\u306f3\u6b21\u5143\u30b3\u30fc\u30c9\u3068\u307b\u3068\u3093\u3069\u540c\u3058\u3067\uff0c\u6700\u5927\u632f\u5e45\u304c3\u6210\u5206\u304b\u30892\u6210\u5206\u306b\u5909\u308f\u3063\u305f\u3060\u3051\u3060\uff0e</p> <pre><code>------------------------------------------------------------------------------\n  SWPC_PSV                                                                    \n ------------------------------------------------------------------------------\n\n\n  Grid Size               :      384 x    384\n  MPI Partitioning        :               2\n  Total Memory Size       :           0.020  [GiB]\n  Node Memory Size        :           0.010  [GiB]\n  Stability  Condition c  :           0.526  (c&lt;1)\n  Wavelength Condition r  :          12.488  (r&gt;5-10)\n  Minimum velocity        :           3.122  [km/s]\n  Maximum velocity        :           7.977  [km/s]\n  Maximum frequency       :           0.500  [Hz]\n\n ------------------------------------------------------------------------------\n\n  it=0000050, 0.003 s/loop, eta 000:00:02, ( 7.40E-02  2.73E-01 )\n  it=0000100, 0.003 s/loop, eta 000:00:02, ( 8.13E-01  2.01E+00 )\n  it=0000150, 0.003 s/loop, eta 000:00:02, ( 7.71E-01  1.46E+00 )\n  it=0000200, 0.003 s/loop, eta 000:00:02, ( 2.90E-01  2.56E-01 )\n  it=0000250, 0.003 s/loop, eta 000:00:01, ( 2.21E-01  3.03E-01 )\n  it=0000300, 0.003 s/loop, eta 000:00:01, ( 1.90E-01  3.22E-01 )\n  it=0000350, 0.003 s/loop, eta 000:00:01, ( 1.76E-01  3.27E-01 )\n  it=0000400, 0.003 s/loop, eta 000:00:01, ( 1.93E-01  3.23E-01 )\n  it=0000450, 0.003 s/loop, eta 000:00:01, ( 1.92E-01  3.08E-01 )\n  it=0000500, 0.003 s/loop, eta 000:00:01, ( 1.89E-01  3.19E-01 )\n  it=0000550, 0.003 s/loop, eta 000:00:01, ( 1.83E-01  3.33E-01 )\n  it=0000600, 0.003 s/loop, eta 000:00:01, ( 1.75E-01  3.34E-01 )\n  it=0000650, 0.003 s/loop, eta 000:00:00, ( 1.70E-01  3.36E-01 )\n  it=0000700, 0.003 s/loop, eta 000:00:00, ( 1.69E-01  3.37E-01 )\n  it=0000750, 0.003 s/loop, eta 000:00:00, ( 1.73E-01  3.48E-01 )\n  it=0000800, 0.003 s/loop, eta 000:00:00, ( 1.76E-01  3.53E-01 )\n  it=0000850, 0.003 s/loop, eta 000:00:00, ( 1.77E-01  3.45E-01 )\n  it=0000900, 0.003 s/loop, eta 000:00:00, ( 1.81E-01  3.41E-01 )\n  it=0000950, 0.003 s/loop, eta 000:00:00, ( 1.77E-01  3.39E-01 )\n  it=0001000, 0.003 s/loop, eta 000:00:00, ( 1.63E-01  3.36E-01 )\n\n ------------------------------------------------------------------------------\n\n  Total time             :           2.652 s\n\n ------------------------------------------------------------------------------\n</code></pre> <p>\u8a08\u7b97\u901f\u5ea6\u306f\u74b0\u5883\u306b\u4f9d\u5b58\u3059\u308b\u304c\uff0c\u4e00\u822c\u306b3\u6b21\u5143\u8a08\u7b97\u3088\u308a2\u6b21\u5143\u8a08\u7b97\u306e\u307b\u3046\u304c\u306f\u308b\u304b\u306b\u8a08\u7b97\u6642\u9593\u304c\u77ed\u3044\uff0e</p> <p>\u306a\u304a\uff0c\u8a08\u7b97\u7d42\u4e86\u5f8c\u306b <pre><code>Note: The following floating-point exceptions are signalling: IEEE_UNDERFLOW_FLAG\n</code></pre> \u3068\u3044\u3046\u8868\u793a\u304c\u73fe\u308c\u308b\u3053\u3068\u304c\u3042\u308b\u304c\uff0c\u8a08\u7b97\u7d50\u679c\u306b\u306f\u5f71\u97ff\u306a\u3044\uff0e</p>"},{"location":"ja/2._Parameters/0201_description/","title":"\u30d1\u30e9\u30e1\u30bf\u30d5\u30a1\u30a4\u30eb\u306e\u8a18\u6cd5","text":"<p>\u672c\u30b3\u30fc\u30c9\u306e\u6319\u52d5\u306f\u539f\u5247\u3068\u3057\u3066\u4e00\u3064\u306e\u5165\u529b\u30d1\u30e9\u30e1\u30bf\u30d5\u30a1\u30a4\u30eb\u3067\u5236\u5fa1\u3055\u308c\u308b\uff0e \u672c\u7ae0\u3067\u306f\u4e3b\u3068\u3057\u30663\u6b21\u5143\u30b3\u30fc\u30c9\u306e\u5165\u529b\u3092\u8aac\u660e\u3059\u308b\u304c\uff0c2\u6b21\u5143P-SV, SH\u30b3\u30fc\u30c9\u306b\u3064\u3044\u3066\u3082\uff0c \u4e00\u90e8\u5909\u6570\u304c\u4e0d\u8981\u306a\u3060\u3051\u3067\u540c\u3058\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u52d5\u4f5c\u3059\u308b\uff0e</p> <p>1\u884c\u306b1\u5909\u6570\u3092</p> <pre><code>(\u5909\u6570\u540d) = (\u5909\u6570\u306e\u5024)\n</code></pre> <p>\u306e\u5f62\u5f0f\u3067\u8a18\u8ff0\u3059\u308b\uff0e\u5909\u6570\u5024\u306e\u8868\u73fe\u306b\u306fFortran\u306e\u8a18\u6cd5\u3092\u7528\u3044\u308b\uff0e\u305f\u3068\u3048\u3070\u8ad6\u7406\u578b\u306f <code>.true.</code> \u3084 <code>.false.</code>\u3067\u8a18\u8ff0\u3055\u308c\u308b\uff0e</p> <p>\u539f\u5247\u3068\u3057\u3066\u81ea\u7531\u66f8\u5f0f\u3067\u3042\u308a\uff0c\u4e0a\u8a18\u5909\u6570\u884c\u4ee5\u5916\u306b\u306f\u4f55\u3092\u66f8\u3044\u3066\u3042\u3063\u3066\u3082\u3088\u3044\u304c\uff0c\u7279\u306b<code>!</code>\u3068<code>#</code>\u3067\u59cb\u307e\u308b\u884c\u306f \u660e\u793a\u7684\u306b\u30b3\u30e1\u30f3\u30c8\u884c\u3068\u3057\u3066\u8aad\u307f\u3068\u3070\u3055\u308c\u308b\uff0e\u30b3\u30e1\u30f3\u30c8\u306f\u5909\u6570\u3068\u540c\u3058\u884c\u306b\u3042\u3063\u3066\u3082\u826f\u3044\uff0e\u305f\u3068\u3048\u3070</p> <pre><code>nx = 1024   ! number of grids\n</code></pre> <p>\u306e\u3088\u3046\u306a\u8a18\u8ff0\u304c\u53ef\u80fd\u3067\u3042\u308b\uff0e</p> <p>\u5909\u6570\u306e\u9806\u756a\u306f\u554f\u308f\u305a\uff0c\u3069\u306e\u5909\u6570\u304c\u3069\u306e\u884c\u306b\u66f8\u304b\u308c\u3066\u3044\u3066\u3082\u826f\u3044\uff0e \u305f\u3060\u3057\uff0c\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5909\u6570\u304c\u3042\u308b\u5834\u5408\u306b\u306f\uff0c\u30d7\u30ed\u30b0\u30e9\u30e0\u52d5\u4f5c\u306e\u652f\u969c\u306e\u5177\u5408\u306b\u5fdc\u3058\u3066\uff0c\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u304c\u4f7f\u308f\u308c\u308b\u5834\u5408\u3068\u52d5\u4f5c\u3092\u505c\u6b62\u3059\u308b\u5834\u5408\u304c\u3042\u308b\uff0e \u3082\u3057\u540c\u3058\u5909\u6570\u306e\u8a18\u8ff0\u304c\u8907\u6570\u56de\u3042\u308b\u5834\u5408\u306b\u306f\uff0c\u6700\u521d\u306b\u8aad\u307f\u8fbc\u307e\u308c\u305f\u3082\u306e\u304c\u63a1\u7528\u3055\u308c\u308b\uff0e \u5909\u6570\u6307\u5b9a\u306e\u7b49\u53f7\u306e\u4e21\u5074\u306b\u306f\u7a7a\u767d\u304c\u3042\u3063\u3066\u826f\u3044\uff0e\u305f\u3060\u3057\uff0c\u6574\u6570\u3082\u3057\u304f\u306f\u5b9f\u6570\u306e\u30d1\u30e9\u30e1\u30bf\u304c\u8ca0\u306e\u5024\u306e\u5834\u5408\uff0c\u30de\u30a4\u30ca\u30b9\u8a18\u53f7\u3068\u6570\u5b57\u306e\u9593\u306b\u7a7a\u767d\u3092\u7f6e\u304f\u3053\u3068\u306f\u8a31\u3055\u308c\u306a\u3044\uff0e\u307e\u305f\uff0c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u533a\u5207\u308a\u8a18\u53f7\u3092\u542b\u3080\u6587\u5b57\u5217\u5909\u6570\u306f\uff0c\u30b7\u30f3\u30b0\u30eb\u3082\u3057\u304f\u306f\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u62ec\u3063\u3066\u4e0e\u3048\u308b\u5fc5\u8981\u304c\u3042\u308b\uff0e</p> <p>Caution</p> <p>\u52d5\u4f5c\u306b\u5fc5\u9808\u3067\u306f\u306a\u3044\u30d1\u30e9\u30e1\u30bf\u304c\u30d1\u30e9\u30e1\u30bf\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\uff0c\u5229\u7528\u3055\u308c\u305f\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u304c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u306b\u8868\u793a\u3055\u308c\u308b\uff0e</p> <pre><code>[info] key XXXX is not found. \n[info]     Use default value YYYY instead.\n</code></pre> <p>\u3053\u306e\u8a18\u8f09\u3092\u898b\u9003\u3059\u3068\u4e88\u671f\u305b\u306c\u52d5\u4f5c\u306b\u3064\u306a\u304c\u308b\u3053\u3068\u304c\u3042\u308b\uff0e</p>"},{"location":"ja/2._Parameters/0201_description/#_2","title":"\u30d1\u30e9\u30e1\u30bf\u30d5\u30a1\u30a4\u30eb\u306e\u4f8b","text":"<p>\u4ee5\u4e0b\u306b\u30b5\u30f3\u30d7\u30eb\u30d1\u30e9\u30e1\u30bf\u3092\u793a\u3059\uff0e\u4ee5\u964d\u306e\u5404\u7bc0\u3067\uff0c\u6a5f\u80fd\u3054\u3068\u306b\u6319\u52d5\u3068\u30d1\u30e9\u30e1\u30bf\u306e\u89e3\u8aac\u3092\u884c\u3046\uff0e</p> <pre><code>  !! ----------------------------------------------------------------------- !!\n!!\n!!  SWPC input file\n!!\n!! ----------------------------------------------------------------------- !!\n\n\n!! ----------------------------------------------------------------------- !!\n!! Control\n!!\n\ntitle            = 'swpc'           !! exe title: used for output filenames\nodir             = './out'          !! output directory\nntdec_r          = 50               !! screen report timing (1/cycle)\nstrict_mode      = .false.          !! all parameters to be explicitly definied\n\n!! ----------------------------------------------------------------------- !!\n!! Model/Grid Size and Area\n!!\n\nnproc_x          = 2                !! parallelization in x-dir\nnproc_y          = 2                !! parallelization in x-dir\nnx               = 384              !! total grid number in x-dir\nny               = 384              !! total grid number in y-dir\nnz               = 384              !! total grid number in z-dir\nnt               = 1000             !! time step number\n\ndx               = 0.5              !! grid width in x-dir\ndy               = 0.5              !! grid width in y-dir\ndz               = 0.5              !! grid width in z-dir\ndt               = 0.02             !! time step width\n\nvcut             = 1.5              !! minimum velocity\n!- smaller velocities will be increased\n\nxbeg             = -96.0            !! minimum in x-dir\nybeg             = -96.0            !! minimum in y-dir\nzbeg             = -10.0            !! minimum in z-dir\ntbeg             = 0.0              !! start time\n\nclon             = 139.7604         !! center longitude\nclat             = 35.7182          !! center latitude\nphi              = 0.0              !! horizontal coordinate rotation\n!- measured clockwise from the north\n\nfq_min           = 0.02             !! minimum freq. for Q-constant model\nfq_max           = 2.00             !! maximum freq. for Q-constant model\nfq_ref           = 1.0              !! ref. freq. for physical dispersion\n\n!! ----------------------------------------------------------------------- !!\n!! Snapshot Output\n!!\n\nsnp_format       = 'netcdf'         !! snapshot format (netcdf)\n\nxy_ps%sw         = .false.          !! P&amp;S amp. for xy section\nxz_ps%sw         = .true.           !! P&amp;S amp. for xz section\nyz_ps%sw         = .false.          !! P&amp;S amp. for yz section\nfs_ps%sw         = .false.          !! P&amp;S amp. for free surface\nob_ps%sw         = .true.           !! P&amp;S amp. for ocean bottom\n\nxy_v%sw          = .false.          !! 3-comp. velocity for xy section\nxz_v%sw          = .true.           !! 3-comp. velocity for xz section\nyz_v%sw          = .false.          !! 3-comp. velocity for yz section\nfs_v%sw          = .false.          !! 3-comp. velocity for free surface\nob_v%sw          = .true.           !! 3-comp. velocity for ocean bottom\n\nxy_u%sw          = .false.          !! 3-comp. disp. for xy section\nxz_u%sw          = .true.           !! 3-comp. disp. for xz section\nyz_u%sw          = .false.          !! 3-comp. disp. for yz section\nfs_u%sw          = .false.          !! 3-comp. disp. for free surface\nob_u%sw          = .true.           !! 3-comp. disp. for ocean bottom\n\n\nz0_xy            =  7.0             !! depth for xy cross section\nx0_yz            =  0.0             !! x-value for yz cross section\ny0_xz            =  0.0             !! y-value for xz cross section\n\nntdec_s          = 5                !! time decimation of snapshot\n!- (specify 1 for no decimation)\n\nidec             = 2                !! x-decimation for snapshot\njdec             = 2                !! y-decimation for snapshot\nkdec             = 2                !! z-decimation for snapshot\n\n!! ----------------------------------------------------------------------- !!\n!! Waveform Output\n!!\n\nsw_wav_v         = .true.           !! velocity trace output at stations\nsw_wav_u         = .false.          !! displacement trace output at stations\nsw_wav_stress    = .false.           !! stress tensor trace\nsw_wav_strain    = .false.           !! strain tansor trace\nntdec_w          = 5                !! time decimation of waveform output\nst_format        = 'xy'             !! station format: 'xy' or 'll'\nfn_stloc         = './example/stloc.xy'  !! station location file\nwav_format       = 'sac'            !! 'sac' or 'csf' ('sac' recommended)\nwav_calc_dist    = .false.          !! Calculate epicentral distance\n\n!! ----------------------------------------------------------------------- !!\n!! Earthquake Source\n!!\n\n!! Moment tensor source format:\n!!   xymoij / xym0dc / llm0ij / llm0dc / xymwij / xymwdc / llmwij / llmwdc\n!! Body force source format:\n!!   xy or ll\nstf_format       = 'xym0ij'\n\n!! Basis source time function\n!! 'boxcar' / 'triangle' / 'herrmann' / 'kupper' / 'cosine' / 'texp'\nstftype          = 'kupper'\n\nfn_stf           = \"./example/source.dat\"   !! Source grid file name\n\n!! source depth correction\n!! 'asis':use z value, 'bd{i}': i-th boundary (i=0...9)\nsdep_fit         = 'asis'\n\n!! --------------------------------------------------------------------- !!\n!! Body force source mode\n!!\nbf_mode          = .false.\n\n\n!! --------------------------------------------------------------------- !!\n!! Plane wave source mode\n!!\npw_mode          = .false.   !! plane wave input. neglects fn_stf\npw_ztop          = 100.      !! top z-coordinate of the initial plane wave\npw_zlen          = 30.       !! wavelength of the initial plane wave\npw_ps            = 'p'       !! 'p' P-wave 's' S-wave\npw_strike        = 0.0       !! strike direction of plane wave (deg.)\npw_dip           = 0.0       !! dip of plane wave (deg.)\npw_rake          = 0.0       !! rake of plane S-wave polarization (deg.)\n\n!! ----------------------------------------------------------------------- !!\n!! Absorbing Boundary Condition\n!!\n\nabc_type         = 'pml'            !! 'pml' or 'cerjan'\nna               = 20               !! absorbing layer thickness\nstabilize_pml    = .false.           !! avoid low-v layer in PML region\n\n!! ----------------------------------------------------------------------- !!\n!! Velocity model\n!!\n\nvmodel_type      = 'lhm'            !! velocity model type 'uni'/'grd'/'lhm'\nis_ocean         = .true.           !! topography z&lt;0 is covered by ocean\ntopo_flatten     = .false.          !! Force topography variation to zero (formerly is_flatten)\nmunk_profile     = .true.           !! velocity gradient inside the seawater column\nearth_flattening = .false.          !! Earth-flattening tranformation\n\n!! --------------------------------------------------------------------- !!\n!! For uniform velocity model 'uni'\n!!\nvp0              = 5.0              !! P-wave velocity [km/s]\nvs0              = 3.0              !! S-wave velocity [km/s]\nrho0             = 2.7              !! mass density    [g/cm^3]\nqp0              = 200              !! Qp\nqs0              = 200              !! Qs\ntopo0            = 0                !! topography location\n\n!! --------------------------------------------------------------------- !!\n!! For GMT grid file input 'grd' ( requires netcdf library )\n!!\ndir_grd          = '${DATASET}/vmodel/ejivsm/'    !! directory for grd file\nfn_grdlst        = './example/grd.lst'            !! grd file list\nnode_grd         = 0                              !! input MPI node\n\n!! --------------------------------------------------------------------- !!\n!! For layered homogeneous medium model ('lhm')\n!!\nfn_lhm           = 'example/lhm.dat'    !! 1D velocity structure\n\n!! --------------------------------------------------------------------- !!\n!! For random medium models\n!!\ndir_rmed         = './in/'             !! location of random medium file\nfn_grdlst_rmed   = './example/grd.lst' !! grd file list\nrhomin           = 1.0                 !! minimum density threshold\nfn_rmed0         = 'dummy.ns'          !! vel. purturb. on a uniform media\n\n!! ----------------------------------------------------------------------- !!\n!! Checkpoint/Restart\n!!\nis_ckp           = .false.          !! perform checkpoint/restart\nckpdir           = './out/ckp'      !! output directory\nckp_interval     = 1000000          !! interval for checkpoint check\uff081/cycle\uff09\nckp_time         = 1000000.         !! checkpoint time\nckp_seq          = .true.           !! sequential output mode\n\n!! ----------------------------------------------------------------------- !!\n!! Reciprocity Green's Function Mode\n!!\ngreen_mode       = .false.          !! reciprocity Green's function mode\ngreen_stnm       = 'st01'           !! virtual station name from fn_stlst\ngreen_cmp        = 'z'              !! virtual source direction 'x', 'y', 'z'\ngreen_trise      = 1.0              !! rise time\ngreen_bforce     = .false.          !! also calc. body force Green's function\ngreen_maxdist    = 550.             !! horizontal limit of source grid\ngreen_fmt        = 'llz'            !! list file format: 'xyz' or 'llz'\nfn_glst          = 'example/green.lst'   !! Green's function grid point list\n\n!! ----------------------------------------------------------------------- !!\n!! MISC\n!!\n\nstopwatch_mode   = .false.          !! measure computation time at routines\nbenchmark_mode   = .false.          !! benchmark mode\n\nipad             = 0                !! memory padding size for tuning\njpad             = 0                !! memory padding size for tuning\nkpad             = 0                !! memory padding size for tuning\n</code></pre> <p>\u4ee5\u4e0b\u306e\u5404\u7bc0\u3067\u306f\uff0c\u6a5f\u80fd\u3054\u3068\u306b\u30d1\u30e9\u30e1\u30bf\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u8ff0\u3079\u308b\uff0e</p>"},{"location":"ja/2._Parameters/0202_env/","title":"\u52d5\u4f5c\u74b0\u5883\u306e\u5236\u5fa1","text":"<p>\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30bf\u306f\u30b3\u30fc\u30c9\u306e\u52d5\u4f5c\u5168\u4f53\u306b\u5f71\u97ff\u3059\u308b\uff0e</p> <p>Parameters</p> <code>title</code> \u8a08\u7b97\u306e\u30bf\u30a4\u30c8\u30eb\uff0e\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d\u306b\u5229\u7528\u3055\u308c\u308b\uff0e <code>odir</code> \u51fa\u529b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\uff0e\u30d7\u30ed\u30b0\u30e9\u30e0\u5b9f\u884c\u6642\u306e\u5834\u6240\u304b\u3089\u306e\u76f8\u5bfe\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff0e\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306b\u306f\uff0c\u5b9f\u884c\u6642\u306b\u81ea\u52d5\u7684\u306b\u4f5c\u6210\u3055\u308c\u308b\uff0e <code>ntdec_r</code> \u8a08\u7b97\u306e\u7d4c\u904e\u3092\u753b\u9762\u51fa\u529b\u3059\u308b\u969b\u306e\u9593\u5f15\u304d\u9593\u9694\uff0e<code>ntdec_r</code>\u8a08\u7b97\u30b9\u30c6\u30c3\u30d7\u6bce\u306b\uff0c\u9014\u4e2d\u7d4c\u904e\u3068\u3057\u3066\uff0c1\u30b9\u30c6\u30c3\u30d7\u3042\u305f\u308a\u306b\u304b\u304b\u308b\u8a08\u7b97\u6642\u9593\u3068\u8a08\u7b97\u7d42\u4e86\u307e\u3067\u306e\u6240\u8981\u6642\u9593\u898b\u8fbc\u307f\uff0c\u305d\u3057\u30663\u6210\u5206\u5730\u9707\u6ce2\u901f\u5ea6\u8a08\u7b97\u5024\u306e\u6700\u5927\u5024\u3092\u51fa\u529b\u3059\u308b\uff0e\u672c\u30d1\u30e9\u30e1\u30bf\u306f\u4e3b\u306b\u6b63\u5e38\u52d5\u4f5c\u306e\u78ba\u8a8d\u3068\u8a08\u7b97\u6642\u9593\u306e\u8a55\u4fa1\u306e\u305f\u3081\u306b\u7528\u3044\u308b\u3082\u306e\u3067\uff0c\u8a08\u7b97\u7d50\u679c\u306b\u306f\u5f71\u97ff\u3057\u306a\u3044\uff0c\u305f\u3060\u3057\uff0c\u3042\u307e\u308a\u306b\u3082\u8868\u793a\u983b\u5ea6\u304c\u9ad8\u3044\uff08<code>ntdec_r</code>\u304c\u5c0f\u3055\u3044\uff09\u3068\uff0c\u8a08\u7b97\u5b9f\u884c\u6642\u9593\u306e\u5897\u5927\u3092\u62db\u304f\u53ef\u80fd\u6027\u304c\u3042\u308b\uff0e <code>stopwatch_mode</code> \u5404\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3\u3067\u306e\u8a08\u7b97\u6642\u9593\u3092\u72ec\u81ea\u306b\u8a08\u6e2c\u3057\uff0c\u305d\u306e\u7d50\u679c\u3092<code>(odir)/(title).tim</code>\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3059\u308b\uff0e\u4e3b\u3068\u3057\u3066\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u30fb\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u7528\u9014\u306b\u7528\u3044\u308b\uff0eGMT\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308c\u3070\uff0c\u3053\u306e\u7d50\u679c\u306f<code>tools/timvis.gmt?</code>\u306b\u3088\u3063\u3066\u53ef\u8996\u5316\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0e <code>benchmark_mode</code> <code>.true.</code>\u306e\u5834\u5408\uff0c\u5165\u529b\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u95a2\u308f\u3089\u305a\u56fa\u5b9a\u306e\u69cb\u9020\u30fb\u30b0\u30ea\u30c3\u30c9\u9593\u9694\u3067\u52d5\u4f5c\u3055\u305b\u308b\uff0e\u6b63\u5e38\u52d5\u4f5c\u3068\u8a08\u7b97\u901f\u5ea6\u78ba\u8a8d\u306e\u305f\u3081\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3042\u308b\uff0e <code>strict_mode</code> (New in v5.1) <code>.true.</code>\u306e\u5834\u5408\uff0c\u3042\u3089\u3086\u308b\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30bf\u304c\u660e\u793a\u7684\u306b\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\uff0e<code>.false.</code>\uff08\u3042\u308b\u3044\u306f\u6307\u5b9a\u306a\u3057\uff09\u306e\u5834\u5408\u306b\u306f\uff0c\u3044\u304f\u3064\u304b\u306e\u30d1\u30e9\u30e1\u30bf\u306b\u3064\u3044\u3066\u306f\u7121\u6307\u5b9a\u306e\u5834\u5408\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u304c\u8a2d\u5b9a\u3055\u308c\u308b\uff0e\u305d\u306e\u5834\u5408\u306b\u306f\u753b\u9762\u306b\u63a1\u7528\u3057\u305f\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u304c\u8868\u793a\u3055\u308c\u308b\uff0e <code>ipad, jpad, kpad</code> x, y, z\u5404\u65b9\u5411\u306e\u914d\u5217\u78ba\u4fdd\u306e\u6c34\u5897\u3057\u30b5\u30a4\u30ba\uff0e\u8a08\u7b97\u6a5f\u306b\u3088\u3063\u3066\u306f\uff0c\u5b9f\u969b\u306e\u8a08\u7b97\u9818\u57df\u3088\u308a\u3082\u914d\u5217\u306e\u30e1\u30e2\u30ea\u78ba\u4fdd\u9818\u57df\u3092\u5fae\u5999\u306b\u5897\u3084\u3059\u3053\u3068\u3067\uff0c\u8a08\u7b97\u901f\u5ea6\u304c\u6539\u5584\u3059\u308b\u3053\u3068\u304c\u3042\u308b\uff0e\u305f\u3060\u3057\u3053\u308c\u3089\u306f\u3042\u304f\u307e\u3067\u3082\u30e1\u30e2\u30ea\u78ba\u4fdd\u4e0a\u306e\u6c34\u5897\u3057\u3067\u3042\u308a\uff0c\u8a08\u7b97\u7d50\u679c\u306b\u306f\u5f71\u97ff\u3057\u306a\u3044\uff0e <p>\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u30e2\u30fc\u30c9\u306b\u3064\u3044\u3066</p> <p>\u30d0\u30fc\u30b8\u30e7\u30f3 5.0.2 \u307e\u3067\u306f\uff0c<code>example/input.inf</code> \u306e\u30b5\u30f3\u30d7\u30eb\u30d5\u30a1\u30a4\u30eb\u3067\u306f <code>benchmark_mode = .true.</code> \u3068\u3055\u308c\u3066\u3044\u305f\uff0e\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4fee\u6b63\u3057\u3066\u8a08\u7b97\u3057\u3088\u3046\u3068\u3057\u3066\u3082\uff0c<code>benchmark_mode</code>\u306e\u305f\u3081\u901f\u5ea6\u69cb\u9020\u3084\u9707\u6e90\u306e\u5909\u66f4\u306e\u4e00\u5207\u3092\u53d7\u3051\u5165\u308c\u306a\u3044\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u308b\uff0e\u30d0\u30fc\u30b8\u30e7\u30f3 5.1\u304b\u3089\u306f\uff0c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u3053\u306e\u30d1\u30e9\u30e1\u30bf\u306f<code>.false.</code>\u3068\u306a\u3063\u305f\uff0e</p>"},{"location":"ja/2._Parameters/0203_coord/","title":"\u5ea7\u6a19\u7cfb\u3068\u4e26\u5217\u8a08\u7b97","text":"<p><code>OpenSWPC</code> \u306f3\u6b21\u5143\u8a08\u7b97\u306e\u5834\u5408\u306f\u6c34\u5e732\u6b21\u5143\u5206\u5272\u3092\uff0c2\u6b21\u5143\u8a08\u7b97\u306e\u5834\u5408\u306b\u306f\u6c34\u5e731\u6b21\u5143\u5206\u5272\u3092\u7528\u3044\u3066\u4e26\u5217\u8a08\u7b97\u3092\u884c\u3046\uff0e 3\u6b21\u5143\u8a08\u7b97\u306e\u5834\u5408\u306e\u7a7a\u9593MPI\u5206\u5272\u306e\u69d8\u5b50\u3092\u4e0b\u56f3\u306b\u793a\u3059\uff0e2\u6b21\u5143\u8a08\u7b97\u306e\u5834\u5408\u306b\u306f\uff0cXZ (<code>I-K</code>)\u65ad\u9762\u304c\u5229\u7528\u3055\u308c\u308b\uff0e</p> <p>Figure</p> <p> (a) \uff13\u6b21\u5143\u7a7a\u9593\u306e\u30e2\u30c7\u30eb\u5206\u5272\u306e\u6a21\u5f0f\u56f3\uff0e(b) \u96a3\u63a5\u30ce\u30fc\u30c9\u9593\u306e\u901a\u4fe1\u306e\u6a21\u5f0f\u56f3\uff0e\uff08Modified from Maeda et al., 20131\uff09\uff0e</p> <p>\u672c\u30b3\u30fc\u30c9\u306f\uff0c<code>xbeg--xend</code>, <code>ybeg--yend</code>, <code>zbeg--zend</code>\u306e\u9818\u57df\u3092\uff0c\u7a7a\u9593\u523b\u307f<code>dx</code>, <code>dy</code>, <code>dz</code>\u3067\u5404\u65b9\u5411<code>nx</code>, <code>ny</code>, <code>nz</code>\u500b\u306e\u30b0\u30ea\u30c3\u30c9\u306b\u96e2\u6563\u5316\u3059\u308b\uff0e \u65b9\u5411\u306f\u4e0b\u304c\u6b63\u306e\u5ea7\u6a19\u7cfb\u3092\u53d6\u308b\uff0e\u6c34\u9762\u304cz=0\u3067\u3042\u308b\u3053\u3068\u304c\u60f3\u5b9a\u3055\u308c\u3066\u3044\u308b\u305f\u3081\uff0c\u5730\u8868\u5883\u754c\u6761\u4ef6\u3092\u6e80\u305f\u3059\u305f\u3081<code>zbeg</code>\u306f\u8ca0\u306e\u5024\u304b\u3089\u59cb\u3081\u308b\u3053\u3068\u304c\u63a8\u5968\u3055\u308c\u308b\uff0e</p> <p>\u5b9f\u7a7a\u9593\u30e2\u30c7\u30eb\u3067\u306e\u8a08\u7b97\u306e\u5834\u5408\u306b\u306f\uff0c\u4e2d\u5fc3\u7def\u5ea6<code>clon</code>, <code>clat</code>\u3092\u57fa\u6e96\u70b9\u3068\u3057\u3066 Gauss-Kr\u00fcger\u6295\u5f71\uff08Kawase et al., 2011 2\uff09\u306b\u3088\u308a\u8a08\u7b97\u5ea7\u6a19\u7cfb\uff08\u30c7\u30ab\u30eb\u30c8\u5ea7\u6a19\u7cfb\uff09\u306exy\u9762\u3092\u5730\u7406\u5ea7\u6a19\u7cfb\u306b\u95a2\u9023\u3065\u3051\u308b\uff0e\u5177\u4f53\u7684\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u624b\u6cd5\u306b\u3088\u308a\u5730\u7406\u5ea7\u6a19\u3092\u53d6\u5f97\u3059\u308b\uff0e</p> <ol> <li> <p>\u56de\u8ee2\u89d2phi\u3068x,y\u306e\u30d1\u30e9\u30e1\u30bf\u304b\u3089\uff0c\u30c7\u30ab\u30eb\u30c8\u5ea7\u6a19\u7cfb\u306b\u304a\u3051\u308b\u7b49\u9593\u9694\u30b0\u30ea\u30c3\u30c9\u4f4d\u7f6e\u3092\u751f\u6210\u3059\u308b\uff0e</p> </li> <li> <p>1.\u3067\u751f\u6210\u3057\u305f\u30b0\u30ea\u30c3\u30c9\u4e00\u3064\u4e00\u3064\u306e\u4f4d\u7f6e\u3092\uff0c<code>clon</code>, <code>clat</code>\u3092\u4e2d\u5fc3\u4f4d\u7f6e\u3068\u3057\u305fGauss-Kr\u00fcger\u5909\u63db\u306b\u3088\u3063\u3066\u7def\u5ea6\u7d4c\u5ea6\u306b\u5909\u63db\u3059\u308b\uff0e</p> </li> <li> <p>\u5404\u30b0\u30ea\u30c3\u30c9\u4f4d\u7f6e\u306e\u7def\u5ea6\u7d4c\u5ea6\u306b\u304a\u3051\u308b\u6a19\u9ad8\u306a\u3044\u3057\u306f\u5883\u754c\u9762\u6df1\u3055\u3092\uff0c\u5165\u529b\u901f\u5ea6\u69cb\u9020\u30c7\u30fc\u30bf\u304b\u3089\u53cc3\u6b21\u88dc\u9593\u306b\u3088\u3063\u3066\u63a8\u5b9a\u3059\u308b\uff0e</p> </li> </ol> <p>\u9818\u57df\u306e\u6307\u5b9a\u7bc4\u56f2\u304c\u5165\u529b\u69cb\u9020\u30d5\u30a1\u30a4\u30eb\u306e\u5916\u306b\u306f\u307f\u51fa\u3057\u3066\u3057\u307e\u3063\u305f\u5834\u5408\u306b\u306f\uff0c\u69cb\u9020\u30d5\u30a1\u30a4\u30eb\u306e\u6700\u5916\u5074\u30b0\u30ea\u30c3\u30c9\u3067\u306e\u5024\u304c\u88dc\u5916\u3055\u308c\u308b\uff0e</p> <p>Figure</p> <p> \u5730\u7406\u5ea7\u6a19\u7cfb\u3068\u8a08\u7b97\u5ea7\u6a19\u7cfb\uff08\u6c34\u5e73\u65ad\u9762\uff09\u3068\u306e\u95a2\u4fc2\uff0e</p>"},{"location":"ja/2._Parameters/0203_coord/#_2","title":"\u30b9\u30bf\u30ac\u30fc\u30c9\u30b0\u30ea\u30c3\u30c9","text":"<p>\u76f4\u4ea4\u5ea7\u6a19\u7cfbO(xyz)\u3068\u96e2\u6563\u5316\u30b0\u30ea\u30c3\u30c9\u3068\u306e\u9593\u306f\u4e0b\u56f3\u306e\u3088\u3046\u306b\u95a2\u4fc2\u4ed8\u3051\u3089\u308c\u308b\uff0e</p> <p>3\u6b21\u5143\u306e\u30b9\u30bf\u30ac\u30fc\u30c9\u30b0\u30ea\u30c3\u30c9\u914d\u7f6e</p> <p> <code>xbeg=ybeg=zbeg=0</code>\u306e\u5834\u5408\uff0e</p> <p>\u56f3\u306b\u542b\u307e\u308c\u308b\u30b0\u30ea\u30c3\u30c9\u304c\uff0c\u30d7\u30ed\u30b0\u30e9\u30e0\u4e0a\u3067\u306f\u540c\u4e00\u306e\u914d\u5217\u30a4\u30f3\u30c7\u30c3\u30af\u30b9<code>(I, J, K)</code>\u3092\u3082\u3064\uff0e\u3053\u306e\u5358\u4f4d4\u9762\u4f53\u3092\u30dc\u30af\u30bb\u30eb\uff0c\u3068\u547c\u3076\uff0e \u3042\u308bx\u304c\u5c5e\u3059\u308b\u30dc\u30af\u30bb\u30eb\u4f4d\u7f6e\u306f  \\begin{align} I = \\left \\lceil \\frac{ x-x_{\\text{beg}} }{ \\Delta  x } \\right \\rceil,  \\end{align} \u3067\uff0c\u9006\u306b\u30dc\u30af\u30bb\u30eb\u4f4d\u7f6eI\u304c\u4e0e\u3048\u3089\u308c\u305f\u3068\u304d\u306e\u30dc\u30af\u30bb\u30eb\u4e2d\u5fc3\u306e\u5ea7\u6a19\u4f4d\u7f6e\u306f</p> <p>\\begin{align} x = x_{\\text{beg}} + \\left( I - \\frac{1}{2} \\right) \\Delta x \\end{align} \u3067\u305d\u308c\u305e\u308c\u4e0e\u3048\u3089\u308c\u308b\uff0e\u305f\u3060\u3057\\lceil \\cdot \\rceil\u306f\u5929\u4e95\u95a2\u6570\uff0cx_{\\text{beg}}\u306f\u5ea7\u6a19\u7cfb\u306e\u3068\u308b\u6700\u5c0f\u5024\u3067\u3042\u308a\uff0cx= x_{\\text{beg}}\u306f\u30dc\u30af\u30bb\u30ebI=1\u306b\u5c5e\u3059\u308b\u3088\u3046\u306b\u3068\u3089\u308c\u3066\u3044\u308b\uff0e</p> <p>\u7bc4\u56f2 </p> \\begin{align} \\begin{split} x_\\text{beg} + (I-1)\\Delta x &lt; x \\le x_\\text{beg} +  I \\Delta x,  \\\\ y_\\text{beg} + (J-1)\\Delta y &lt; y \\le y_\\text{beg} + J \\Delta y,  \\\\ z_\\text{beg} + (K-1)\\Delta z &lt; z \\le z_\\text{beg} + K \\Delta z  \\end{split} \\end{align} <p>\u3067\u5b9a\u7fa9\u3055\u308c\u308b\u30dc\u30af\u30bb\u30eb\u306e\u4e2d\u5fc3\u306b\u6cd5\u7dda\u5fdc\u529b\u6210\u5206\u304c\uff0c\u8fba\u4e0a\u306b\u526a\u65ad\u5fdc\u529b\u6210\u5206\u304c\uff0c\u305d\u3057\u3066\u30dc\u30af\u30bb\u30eb\u9762\u4e0a\u306b\u901f\u5ea6\u6210\u5206\u304c\u305d\u308c\u305e\u308c\u914d\u7f6e\u3055\u308c\u308b\uff0e</p> <p>\u5bc6\u5ea6\u30fb\u901f\u5ea6\u306a\u3069\u306e\u5a92\u8cea\u5b9a\u6570\u306f\u3059\u3079\u3066\u30dc\u30af\u30bb\u30eb\u4e2d\u5fc3  \\begin{align} x_\\text{beg} + (I-1/2) \\Delta x, \\quad y_\\text{beg} + (J-1/2) \\Delta y, \\quad z_\\text{beg} + (K-1/2) \\Delta z  \\end{align} \u306e\u4f4d\u7f6e\u3067\u4e0e\u3048\u308b\uff0e\u8a08\u7b97\u4e2d\u306b\u9069\u5b9c\u5e73\u5747\u5316\u64cd\u4f5c\u304c\u884c\u308f\u308c\uff0c\u305d\u308c\u305e\u308c\u306e\u30b0\u30ea\u30c3\u30c9\u3067\u306e\u5a92\u8cea\u30d1\u30e9\u30e1\u30bf\u304c\u8a55\u4fa1\u3055\u308c\u308b\uff0e</p>"},{"location":"ja/2._Parameters/0203_coord/#_3","title":"\u5b89\u5b9a\u6761\u4ef6\u3068\u6ce2\u9577\u6761\u4ef6","text":"<p>\u7a7a\u9593\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba \\Delta x, \\Delta y, \\Delta z \u3068\u6642\u9593\u30b9\u30c6\u30c3\u30d7\u9593\u9694 \\Delta t \u306f\uff0c\u5dee\u5206\u6cd5\u306e\u5b89\u5b9a\u6761\u4ef6\u3092\u6e80\u305f\u3055\u306a\u3051\u308c\u3070\u3044\u3051\u306a\u3044\uff0eN_D\u6b21\u5143\u7a7a\u9593\u306e\uff0c\u7a7a\u9593\u5dee\u5206\u6b21\u6570P\u6b21\u306e\u5b89\u5b9a\u6761\u4ef6\u306f</p> <p>\\begin{align}   \\Delta t &lt; \\frac{ 1 }{ V_{\\max} } \\left( \\sum_{i=1}^{N_D} \\frac{1}{\\Delta x_i^2} \\right)^{-1/2} \\left( \\sum_{p=1}^{P/2} C_p\\right) ^{-1} \\end{align} \u306e\u3088\u3046\u306b\u4e0e\u3048\u3089\u308c\u308b\uff0e</p> <p>\u3053\u3053\u3067V_{\\max}%_  \u306f\u5a92\u8cea\u4e2d\u3082\u3063\u3068\u3082\u901f\u3044\u5730\u9707\u6ce2\u901f\u5ea6\uff0cC_p%_\u306f\u5dee\u5206\u6f14\u7b97\u306e\u4fc2\u6570\uff0c\\Delta x_i%_\u306fi\u65b9\u5411\u306e\u7a7a\u9593\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba\u3067\u3042\u308b\uff0e \u7a7a\u95934\u6b21\u306e\u5dee\u5206\u516c\u5f0f\u306e\u5834\u5408\uff0c\u4fc2\u6570C_p\u306fC_1 = 9/8, C_2 = 1/24\u3067\u3042\u308b\uff0e \u305f\u3068\u3048\u3070\uff0c3\u6b21\u5143\u7a7a\u95934\u6b21\u306e\u5dee\u5206\u6cd5\u3067\uff0c\u7a7a\u9593\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba\u304c\u7b49\u65b9\u7684\uff08\\Delta x = \\Delta y =\\Delta z = h\uff09\u306a\u5834\u5408\uff0c\u3053\u306e\u5b89\u5b9a\u6761\u4ef6\u306f</p> \\begin{align}   \\Delta t &lt; \\frac{6}{7} \\dfrac{1}{V_{\\max} \\sqrt{ \\dfrac{1}{\\Delta x^2} + \\dfrac{1}{\\Delta y^2} +\\dfrac{1}{\\Delta z^2}}} = \\frac{6 h}{7 \\sqrt{3} V_{\\max}} \\simeq 0.495 \\frac{h}{V_{\\max}}.  \\end{align} <p>\u306e\u3088\u3046\u306b\u7c21\u7565\u5316\u3055\u308c\u308b\uff0e\u3053\u308c\u306f\uff0c\u76f4\u611f\u7684\u306b\u306f\u300e1\u6642\u9593\u30b9\u30c6\u30c3\u30d7\u306b\u5730\u9707\u6ce2\u304c\u4f1d\u64ad\u3059\u308b\u8ddd\u96e2\u306f\uff0c\u7a7a\u9593\u30b0\u30ea\u30c3\u30c9\u9593\u9694\u3088\u308a\u3082\uff08\u5145\u5206\u306b\uff09\u5c0f\u3055\u3044\u300f\u3053\u3068\u304c\u8981\u8acb\u3055\u308c\u3066\u3044\u308b\u3068\u8003\u3048\u3066\u826f\u3044\uff0e\u3053\u306e\u6761\u4ef6\u304c\u6e80\u305f\u3055\u308c\u306a\u3044\u3068\uff0c\u5dee\u5206\u6cd5\u306b\u3088\u308b\u6642\u9593\u767a\u5c55\u8a08\u7b97\u305d\u306e\u3082\u306e\u304c\u4e0d\u5b89\u5b9a\u306b\u306a\u308a\uff0c\u3059\u3050\u3055\u307e\u767a\u6563\u3057\u3066\u3057\u307e\u3046\uff0e</p> <p>\u5b89\u5b9a\u6761\u4ef6\u306b\u52a0\u3048\uff0c\u5730\u9707\u6ce2\u306e\u6ce2\u9577\u3088\u308a\u3082\u7a7a\u9593\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba\u304c\u5145\u5206\u306b\u5c0f\u3055\u3044\uff081\u6ce2\u9577\u3042\u305f\u308a5-10\u30b0\u30ea\u30c3\u30c9\uff09\u3053\u3068\u3082\u8981\u6c42\u3055\u308c\u308b\uff0e\u3053\u3061\u3089\u306e\u6ce2\u9577\u6761\u4ef6\u306f\u305f\u3068\u3048\u6e80\u305f\u3055\u308c\u306a\u304f\u3066\u3082\u8a08\u7b97\u305d\u306e\u3082\u306e\u306f\u5b9f\u884c\u53ef\u80fd\u3067\u3042\u308b\u304c\uff0c\u6ce2\u9577\u3042\u305f\u308a\u306e\u30b0\u30ea\u30c3\u30c9\u6570\u304c\u8db3\u308a\u306a\u3044\u5834\u5408\u306b\u306f\uff0c\u5730\u9707\u6ce2\u901f\u5ea6\u304c\u6ce2\u9577\uff08\u3042\u308b\u3044\u306f\u5468\u6ce2\u6570\uff09\u306b\u4f9d\u5b58\u3059\u308b\u6570\u5024\u5206\u6563\u73fe\u8c61\u304c\u8d77\u3053\u308b\uff0e\u6570\u5024\u5206\u6563\u306e\u7d50\u679c\uff0c\u5dee\u5206\u6cd5\u306b\u3088\u3063\u3066\u8a08\u7b97\u3055\u308c\u308b\u5730\u9707\u6ce2\u306e\u901f\u5ea6\u306f\u5e38\u306b\u4eee\u5b9a\u3057\u305f\u901f\u5ea6\u3088\u308a\u9045\u304f\u306a\u308b\u305f\u3081\uff0c\u3053\u306e\u4eba\u5de5\u7684\u306a\u5206\u6563\u306b\u3088\u308b\u5f8c\u7d9a\u6ce2\u304c\u73fe\u308c\u3066\u3057\u307e\u3046\uff0e\u6570\u5024\u5206\u6563\u3092\u907f\u3051\u308b\u305f\u3081\u306b\u306f\u7a7a\u9593\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba\u3092\u5c0f\u3055\u304f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u304c\uff0c\u540c\u6642\u306b\uff0c\u5b89\u5b9a\u6761\u4ef6\u3092\u6e80\u305f\u3059\u305f\u3081\u306b\u6642\u9593\u30b9\u30c6\u30c3\u30d7\u9593\u9694\u3082\u5c0f\u3055\u304f\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\uff0e</p> <p>\u3053\u308c\u3089\u5b89\u5b9a\u6761\u4ef6\u3068\u6ce2\u9577\u6761\u4ef6\u306f\uff0c\u5dee\u5206\u6cd5\u30d7\u30ed\u30b0\u30e9\u30e0\u5b9f\u884c\u958b\u59cb\u6642\u306b\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u306b Stability Condition <code>c</code> \u304a\u3088\u3073 Wavelength Condition <code>r</code> \u3068\u3057\u3066\u8868\u793a\u3055\u308c\u308b\uff0e\u305d\u308c\u305e\u308c\uff0c\u5b89\u5b9a\u6761\u4ef6\u3068\u6642\u9593\u523b\u307f\u306e\u6bd4\u304a\u3088\u3073\u69cb\u9020\u4e2d\u306e\u6700\u5c0f\u6ce2\u9577\u3068\u7a7a\u9593\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba\u306e\u6bd4\u3092\u610f\u5473\u3057\u3066\u3044\u308b\uff0e\u524d\u8005\u306f1\u3088\u308a\u5c0f\u3055\u304f\u306a\u3051\u308c\u3070\u8a08\u7b97\u304c\u5b9f\u884c\u3067\u304d\u306a\u3044\uff0e</p> <p>Parameters</p> <code>nproc_x</code>, <code>nproc_y</code> x, y\u65b9\u5411\u306eMPI\u5206\u5272\u6570\uff0e\u5168\u4e26\u5217\u6570\u306f <code>nproc_x * nproc_y</code>\u306b\u306a\u308b\uff0e\u3053\u306e\u5168\u4e26\u5217\u6570\u304c\u5b9f\u884c\u6642\u306b<code>mpirun</code>\u7b49\u3067\u6307\u5b9a\u3055\u308c\u308b\u30d7\u30ed\u30bb\u30b9\u6570\u3068\u4e00\u81f4\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\uff0e\u5206\u5272\u6570\u306f1\u3067\u3082\u826f\u3044\uff0e\u3069\u3061\u3089\u30821\u306e\u5834\u5408\u306b\u306f\u4e8b\u5b9f\u4e0a\u306e\u975e\u4e26\u5217\u8a08\u7b97\u306b\u306a\u308b\uff0e <code>nx</code>, <code>ny</code>, <code>nz</code> \u7a7a\u9593\u6b21\u5143\u5404\u65b9\u5411\u306e\u30b0\u30ea\u30c3\u30c9\u6570\uff0e \u306a\u304a\uff0c\u6c34\u5e73\u65b9\u5411\u306e\u30b0\u30ea\u30c3\u30c9\u6570<code>nx</code>,<code>ny</code>\u306f\u5fc5\u305a\u3057\u3082<code>nproc_x</code>, <code>nproc_y</code>\u306e\u500d\u6570\u3067\u306a\u304f\u3068\u3082\u826f\u3044\uff0e\u4f59\u308a\u304c\u767a\u751f\u3059\u308b\u5834\u5408\u306b\u306f\uff0c\u7aef\u3092\u62c5\u5f53\u3059\u308b\u30ce\u30fc\u30c9\u306e\u30b0\u30ea\u30c3\u30c9\u6570\u3067\u81ea\u52d5\u7684\u306b\u8abf\u7bc0\u3055\u308c\u308b\uff0e <code>dx</code>, <code>dy</code>, <code>dz</code> \u7a7a\u9593\u30b0\u30ea\u30c3\u30c9\u9593\u9694 [km]\uff0e\u5168\u7a7a\u9593\u30b5\u30a4\u30ba\u306f <code>nx * dx</code>\u306a\u3069\u3068\u306a\u308b\uff0e\u5404\u65b9\u5411\u306e\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba\u306f\u7b49\u3057\u304f\u306a\u304f\u3068\u3082\u826f\u3044\uff0e <code>nt</code> \u6642\u9593\u30b0\u30ea\u30c3\u30c9\u6570\uff0e <code>dt</code> \u6642\u9593\u30b0\u30ea\u30c3\u30c9\u9593\u9694 [s]\uff0e\u5168\u6642\u9593\u9577\u306f <code>nt * dt</code>\u3067\u3042\u308b\uff0e <code>xbeg</code>, <code>ybeg</code>, <code>zbeg</code> \u5404\u7a7a\u9593\u65b9\u5411\u306e\u6700\u5c0f\u5024\uff0e\u5730\u56f3\u6295\u5f71\u6cd5\u4e0a\u306f\uff0c\u57fa\u6e96\u7def\u5ea6\u7d4c\u5ea6\u304c\u4e2d\u5fc3\u306b\u306a\u308b\u3088\u3046\u306a\u5024\u3068\u306a\u3063\u3066\u3044\u308b\u306e\u304c\u6700\u3082\u6b6a\u307f\u304c\u5c11\u306a\u3044\uff0e<code>xbeg</code>\u3068<code>ybeg</code>\u304c\u7701\u7565\u3055\u308c\u305f\u5834\u5408\u306b\u306f\uff0c<code>xbeg\u2006=\u2006-\u2006nx\u2006*\u2006dx\u2006/\u20062</code>, <code>ybeg\u2006=\u2006-\u2006ny\u2006*\u2006dy\u2006/\u20062</code> \u3068\u81ea\u52d5\u8a2d\u5b9a\u3055\u308c\u308b\uff0e<code>zbeg</code>\u304c\u7701\u7565\u3055\u308c\u305f\u5834\u5408\u306b\u306f\uff0c<code>K=30</code>\u304c\u5730\u8868\u9762\u3068\u306a\u308b\u3088\u3046\u306b\u81ea\u52d5\u8a2d\u5b9a\u3055\u308c\u308b\uff0e <code>tbeg</code> \u6642\u9593\u306e\u6700\u5c0f\u5024\uff0e\u901a\u5e38\u306f0\u3067\u826f\u3044\u304c\uff0c\u7279\u5b9a\u306e\u6642\u523b\u304b\u3089\u59cb\u3081\u308b\u3053\u3068\u3082\u3067\u304d\u308b\uff0e <code>clon</code>, <code>clat</code> \u5ea7\u6a19\u7cfb\u4e2d\u5fc3\u7d4c\u5ea6\u30fb\u4e2d\u5fc3\u7def\u5ea6\uff08\u5ea6\uff09\uff0e\u672c\u5ea7\u6a19\u4f4d\u7f6e\u3092\u4e2d\u5fc3\u3068\u3057\u305fGauss-Kr\u00fcger\u5909\u63db\u306b\u3088\u3063\u3066\u5ea7\u6a19\u6295\u5f71\u304c\u884c\u308f\u308c\u308b\uff0e <code>phi</code> \u5730\u7406\u5ea7\u6a19\u7cfb\u306b\u5bfe\u3059\u308b\u8a08\u7b97\u5ea7\u6a19\u7cfb\u306e\u56de\u8ee2\u89d2\u5ea6\uff0e<code>phi=0</code>\u306e\u5834\u5408\u306fx\u8ef8\u304c\u5317\uff0cy\u8ef8\u304c\u6771\u3092\u5411\u3044\u3066\u3044\u308b\uff0e\u901a\u5e38\u306f\u30bc\u30ed\u3067\u826f\u3044\u304c\uff0c\u659c\u3081\u306e\u5ea7\u6a19\u7cfb\u3092\u7528\u3044\u308b\u3053\u3068\u3082\u3067\u304d\u308b\uff0e\u305f\u3060\u3057\uff0c<code>phi</code>\u304c\u30bc\u30ed\u3067\u306a\u3044\u5834\u5408\u306b\u306f\uff0c\u51fa\u529b\u6ce2\u5f62\u3084\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306ex,y\u6210\u5206\u3082\u89d2\u5ea6\u304c<code>phi</code>\u3060\u3051\u50be\u3044\u3066\u3044\u308b\u306e\u3067\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3042\u308b\uff0e <ol> <li> <p>Maeda, T., Furumura, T., Noguchi, S., Takemura, S., Sakai, S., Shinohara, M., Iwai, K., &amp; Lee, S.-J. (2013). Seismic and tsunami wave propagation of the 2011 Off the Pacific Coast of Tohoku Earthquake as inferred from the tsunami-coupled finite difference simulation, Bulletin of the Seismological Society of America, 103, 1456\u20131472, doi:10.1785/0120120118. (article link) \u21a9</p> </li> <li> <p>Kawase, K. (2011), A general formula for calculating meridian arc length and its application to coordinate conversion in the Gauss-Kr\u00fcger projection, Bulletin of the Geospatial Information Authority of Japan, 59, 1\u201313. (article link) \u21a9</p> </li> </ol>"},{"location":"ja/2._Parameters/0204_visco/","title":"\u7c98\u5f3e\u6027\u4f53","text":"<p><code>OpenSWPC</code>\u3067\u306f\u7c98\u5f3e\u6027\u4f53\u30e2\u30c7\u30eb\u3068\u3057\u3066Generalized Zener Body (GZB)\u3092\u63a1\u7528\u3057\uff0c\u8907\u6570\u306e\u7570\u306a\u308b\u7de9\u548c\u6642\u9593\u3092\u3082\u3064\u7c98\u5f3e\u6027\u4f53\u8981\u7d20\u3092\u4e26\u5217\u306b\u7e4b\u3050\u3053\u3068\u3067\uff0c\u5e83\u3044\u5468\u6ce2\u6570\u5e2f\u57df\u306b\u304a\u3044\u3066\u4e00\u5b9a\u306e\u5024\u3092\u6301\u3064\u30e2\u30c7\u30eb\u3092\u5b9f\u73fe\u3057\u3066\u3044\u308b\uff0e</p> <p>GZB\u306e\u69cb\u9020\u6a21\u5f0f\u56f3\uff0e</p> <p> \u4e92\u3044\u306b\u30d1\u30e9\u30e1\u30bf\u306e\u7570\u306a\u308bZener Body\uff08\u77e9\u5f62\u5185\uff09\u304c\u8907\u6570\u4e26\u5217\u3067\u7d50\u5408\u3057\u3066\u3044\u308b\uff0e</p> <p>\u3053\u306e\u3053\u3068\u306b\u3088\u308a\uff0c\u5b9f\u4f53\u6ce2\u901f\u5ea6\u306f\u7269\u7406\u5206\u6563\u6027\u3092\u6301\u3064\u3053\u3068\u306b\u306a\u308b\uff08e.g., Aki and Richards, 20021\uff09\uff0e\u305d\u306e\u305f\u3081\uff0c\u69cb\u9020\u30e2\u30c7\u30eb\u304c\u3069\u306e\u5468\u6ce2\u6570\u306b\u304a\u3051\u308b\u5024\u306a\u306e\u304b\u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306e\u57fa\u6e96\u5468\u6ce2\u6570\u3092\u30d1\u30e9\u30e1\u30bf\u3068\u3057\u3066\u4e0e\u3048\u308b\u5fc5\u8981\u304c\u3042\u308b\uff0e</p> <p>Figure</p> <p> Q{}^{-1}\u306e\u5468\u6ce2\u6570\u4f9d\u5b58\u6027\u306e\u4f8b\uff0e<code>nm=3</code>\u306e\u5834\u5408\u306e\u5404\u7c98\u5f3e\u6027\u4f53\u69cb\u6210\u8981\u7d20\u306e\u5468\u6ce2\u6570\u4f9d\u5b58\u6027\uff08\u7834\u7dda\uff09\u3068\u5408\u8a08\u3055\u308c\u305f\u5168\u4f53\u306eQ{}^{-1}\u30e2\u30c7\u30eb\uff08\u5b9f\u7dda\uff09\u306e\u5468\u6ce2\u6570\u7279\u6027\u3092\u793a\u3059\uff0e\u9752\u8272\u306e\u9818\u57df\u304c<code>fq_min</code>\uff08\u5de6\u9752\u7dda\uff09\u3068<code>fq_max</code>\uff08\u53f3\u9752\u7dda\uff09\u3067\u6307\u5b9a\u3055\u308c\u305fQ\u5024\u4e00\u5b9a\u306e\u5468\u6ce2\u6570\u7bc4\u56f2\uff0e</p> <p>\u3053\u306e\u7c98\u5f3e\u6027\u4f53\u306f\uff0c\u5f3e\u6027\u4fc2\u6570\\pi \\equiv \\lambda + \\mu\u3068\\mu\u305d\u308c\u305e\u308c\u306b\u5bfe\u5fdc\u3059\u308b\u7de9\u548c\u95a2\u6570</p> \\begin{align} \\begin{split}     \\psi_\\pi \\left( t \\right)      &amp;=      \\pi_R      \\left(        1 -        \\frac{1}{N_M}        \\sum_{m=1}^{N_M}       \\left( 1 -\\frac{ \\tau_m^{\\epsilon P}}{\\tau_{m}^\\sigma} \\right)       e^{-t/\\tau^\\sigma_m}     \\right)     H(t)     \\\\     \\psi_\\mu \\left( t \\right)      &amp;=      \\mu_R      \\left(        1 -        \\frac{1}{N_M}        \\sum_{m=1}^{N_M}       \\left( 1 -\\frac{ \\tau_m^{\\epsilon S}}{\\tau^\\sigma_m} \\right)       e^{-t/\\tau^\\sigma_m}     \\right)     H(t) \\end{split} \\end{align} <p>\u3092\u6301\u3064\uff0e\u305f\u3060\u3057\u3053\u3053\u3067\uff0c\\pi_R\\equiv \\lambda_R + 2 \\mu_R\u306fP\u6ce2\u306erelaxed modulus, \\mu_R\u306fS\u6ce2\u306erelaxed modulus\u3067\u3042\u308b\uff0e\u307e\u305f\uff0c\\tau_m^{\\epsilon P}\u3068\\tau_m^{\\epsilon S}\u306f\u305d\u308c\u305e\u308cP\u6ce2\u3068S\u6ce2\u306e\u30af\u30ea\u30fc\u30d7\u6642\u9593\uff0c\\tau_m^\\sigma\u306f\u7de9\u548c\u6642\u9593\u3068\u547c\u3070\u308c\u308b\uff0eGZB\u306fZener\u7c98\u5f3e\u6027\u4f53\u3092N_M\u500b\u4e26\u5217\u306b\u63a5\u7d9a\u3057\u305f\u30e2\u30c7\u30eb\u3067\u3042\u308b\uff0e\u7570\u306a\u308b\u7de9\u548c\u6642\u9593\u3092\u3082\u3064\u7c98\u5f3e\u6027\u4f53\u30e2\u30c7\u30eb\u3092\u591a\u6570\u4e26\u5217\u3055\u305b\u308b\u3053\u3068\u306b\u3088\u308a\uff0c\u5e83\u3044\u5468\u6ce2\u6570\u5e2f\u3067\u73fe\u5b9f\u7684\u306a\u6e1b\u8870\u3092\u3082\u3064\u5a92\u8cea\u3092\u8868\u73fe\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0e\u307e\u305f\uff0c\u30af\u30ea\u30fc\u30d7\u6642\u9593\u3092P\u6ce2\u3068S\u6ce2\u3067\u72ec\u7acb\u306b\u9078\u3076\u3053\u3068\u306b\u3088\u308a\uff0c\u72ec\u7acb\u306a\u5185\u90e8\u6e1b\u8870Q_P, Q_S\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0e\u3053\u306e\u30e2\u30c7\u30eb\u306e\u69cb\u6210\u65b9\u7a0b\u5f0f\u306f </p> \\begin{align} \\begin{split}     &amp;\\dot \\sigma_{ii} (t)      =      \\left( \\dot \\psi_\\pi (t)  - 2 \\dot \\psi_\\mu (t)  \\right)     \\ast     \\partial_k v_k(t)      + 2 \\dot \\psi_\\mu(t)  \\ast \\partial_i v_i(t)    \\\\     &amp;\\dot\\sigma_{ij} (t)     =      \\dot \\psi_\\mu(t)      \\ast      \\left( \\partial_i v_j(t)  + \\partial_j v_i(t)  \\right) \\end{split} \\end{align} <p>\u3068\u306a\u308b\uff0e\u69cb\u6210\u65b9\u7a0b\u5f0f\u306b\u7573\u307f\u8fbc\u307f\u304c\u73fe\u308c\u308b\u304c\uff0c\u30e1\u30e2\u30ea\u5909\u6570\u6cd5(Robertsson, 19942)\u3092\u7528\u3044\u308b\u3053\u3068\u3067\u3053\u308c\u3092\u8907\u6570\u306e1\u968e\u306e\u5fae\u5206\u65b9\u7a0b\u5f0f\u306e\u7d44\u306b\u5e30\u7740\u3055\u305b\u3066\u6570\u5024\u8a08\u7b97\u3092\u884c\u3046\uff0e\u307e\u305f\uff0c(Blanch, 19943)\u306e\\tau-method\u306b\u3088\u308a\uff0c\u4ee5\u4e0b\u306b\u8ff0\u3079\u308b\u6700\u5c0f\u9650\u306e\u30d1\u30e9\u30e1\u30bf\u304b\u3089\uff0c\u6307\u5b9a\u5468\u6ce2\u6570\u7bc4\u56f2\u3067Q\u5024\u304c\u3082\u3063\u3068\u3082\u5e73\u5766\u306b\u306a\u308b\u3088\u3046\u306a\u30e2\u30c7\u30eb\u3092\u81ea\u52d5\u7684\u306b\u9078\u629e\u3059\u308b\uff0e</p> <p>Parameters</p> <code>fq_min</code> \u7c98\u5f3e\u6027\u4f53Q\u4e00\u5b9a\u5024\u30e2\u30c7\u30eb\u306e\u6700\u5c0f\u5468\u6ce2\u6570  <code>fq_max</code> \u7c98\u5f3e\u6027\u4f53Q\u4e00\u5b9a\u5024\u30e2\u30c7\u30eb\u306e\u6700\u5927\u5468\u6ce2\u6570    <code>fq_ref</code> \u7c98\u5f3e\u6027\u4f53Q\u4e00\u5b9a\u5024\u30e2\u30c7\u30eb\u306b\u304a\u3044\u3066\u901f\u5ea6\u5024\u304c\u5b9a\u7fa9\u3055\u308c\u308b\u57fa\u6e96\u5468\u6ce2\u6570  <p>\u56f3\u306b\u793a\u3059\u3088\u3046\u306b\uff0c\u30d1\u30e9\u30e1\u30bf<code>fq_min</code>\u3068<code>fq_max</code>\u306e\u9593\u306e\u5468\u6ce2\u6570\u5e2f\u3067\uff0cQ\u5024\u304c\u307b\u307c\u4e00\u5b9a\u306e\u5024\u3092\u3068\u308b\uff0e\u305d\u306e\u5916\u5074\u3067\u306f\uff0c\u5468\u6ce2\u6570\u306e2\u6b21\u3067\u6e1b\u8870\u304c\u5c0f\u3055\u304f\u306a\u308b\uff0e\u3053\u306eQ\u30e2\u30c7\u30eb\u306f\u8907\u6570\u306e\u7c98\u5f3e\u6027\u4f53\uff08\u56f3\u4e2d\u70b9\u7dda\uff09\u306e\u91cd\u306d\u5408\u308f\u305b\u3067\u5b9f\u73fe\u3055\u308c\u308b\uff0e\u305d\u306e\u305f\u3081\uff0c\u3088\u308a\u5e83\u5e2f\u57df\u3067Q\u3092\u7dad\u6301\u3059\u308b\u305f\u3081\u306b\u306f\uff0c\u30e1\u30e2\u30ea\u5909\u6570\u306e\u6570\uff08\u57cb\u3081\u8fbc\u307f\u30d1\u30e9\u30e1\u30bf<code>NM</code>\uff09\u3092\u5897\u3084\u3059\u5fc5\u8981\u304c\u3042\u308b\uff0e\u3057\u304b\u3057\uff0c\u3053\u308c\u306f\u8a08\u7b97\u91cf\u3068\u30e1\u30e2\u30ea\u4f7f\u7528\u91cf\u306e\u5927\u5e45\u306a\u5897\u5927\u3092\u62db\u304f\uff0e\u8a2d\u5b9a\u3057\u305f\u30d1\u30e9\u30e1\u30bf\u4e0b\u3067\u306eQ\u5024\u306e\u5468\u6ce2\u6570\u4f9d\u5b58\u6027\u306f\uff0c\u30d7\u30ed\u30b0\u30e9\u30e0<code>qmodel_tau.x</code>\u3067\u8abf\u3079\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0e</p> <p>\u5e83\u5e2f\u57df\u3067\u5e73\u5766\u306a\u6e1b\u8870\u30e2\u30c7\u30eb\u3092\u63a1\u7528\u3059\u308b\u3068\uff0c\u7269\u7406\u5206\u6563\u6027\u306b\u3088\u308a\u5b9f\u4f53\u6ce2\u306e\u901f\u5ea6\u304c\u5468\u6ce2\u6570\u306b\u4f9d\u5b58\u3059\u308b\u3088\u3046\u306b\u306a\u308b\uff0e\u305d\u3053\u3067\u57fa\u6e96\u5468\u6ce2\u6570<code>fq_ref</code> \u3092\u5b9a\u7fa9\u3057\uff0c\u69cb\u9020\u30e2\u30c7\u30eb\u3067\u5165\u529b\u3055\u308c\u305f\u901f\u5ea6\u306f\u5468\u6ce2\u6570<code>fq_ref</code>\u3067\u306e\u901f\u5ea6\u3067\u3042\u308b\u3053\u3068\u304c\u4eee\u5b9a\u3055\u308c\u308b\uff0e</p> <ol> <li> <p>Aki, K., &amp; Richards, P. G. (2002), Quantitative Seismology, 2nd Edition, University Science Books.\u00a0\u21a9</p> </li> <li> <p>Robertsson, J. O., J. O. Blanch, and W. W. Symes (1994), Viscoelastic finite-difference modeling, Geophysics, 59(9), 1444\u20131456, doi:10.1190/1.1443701.\u00a0\u21a9</p> </li> <li> <p>Blanch, J. O., J. O. Robertsson, and W. W. Symes (1994), Modeling of a constant Q: methodology and algorithm for an efficient and optimally inexpensive viscoelastic technique, Geophysics, 60, 176\u2013184, doi:10.1111/j.1365-246X.2004.02300.x.\u00a0\u21a9</p> </li> </ol>"},{"location":"ja/2._Parameters/0205_output/","title":"\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306e\u8a2d\u5b9a","text":""},{"location":"ja/2._Parameters/0205_output/#_2","title":"\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u5f62\u5f0f","text":"<p>\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u51fa\u529b\u306b\u306f\uff0cFortran\u306eStream I/O\u6a5f\u80fd\u3092\u7528\u3044\u305f\u72ec\u81ea\u5f62\u5f0f\uff08\u4ee5\u4e0bnative\u5f62\u5f0f\uff1b\u65e7\u5f62\u5f0f\u306e\u305f\u3081\u975e\u63a8\u5968\uff09\u306e\u30d0\u30a4\u30ca\u30ea\u30c7\u30fc\u30bf\u3082\u3057\u304f\u306f<code>NetCDF</code>\u5f62\u5f0f\u306e\u30c7\u30fc\u30bf\uff08\u63a8\u5968\uff09\u3092\u9078\u629e\u3067\u304d\u308b\uff0e\u6ce2\u5f62\u51fa\u529b\u306f<code>SAC</code>\u5f62\u5f0f\u3067\u884c\u308f\u308c\u308b\uff0e \u51fa\u529b\u306b\u969b\u3057\u3066\u660e\u793a\u7684\u306a\u30a8\u30f3\u30c7\u30a3\u30a2\u30f3\u5909\u63db\u306f\u884c\u308f\u306a\u3044\u305f\u3081\uff0c\u751f\u6210\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u5b9f\u884c\u74b0\u5883\u306e\u30a8\u30f3\u30c7\u30a3\u30a2\u30f3\u306b\u4f9d\u5b58\u3059\u308b\uff0e \u3057\u304b\u3057\uff0cSAC\u304a\u3088\u3073NetCDF\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u30a8\u30f3\u30c7\u30a3\u30a2\u30f3\u306b\u4f9d\u5b58\u305b\u305a\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u3080\u3053\u3068\u304c\u3067\u304d\u308b\u305f\u3081\uff0c\u3053\u308c\u3089\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u4f7f\u3063\u3066\u3044\u308b\u9650\u308a\uff0c\u30a8\u30f3\u30c7\u30a3\u30a2\u30f3\u306b\u3064\u3044\u3066\u610f\u8b58\u3059\u308b\u5fc5\u8981\u306f\u307b\u3068\u3093\u3069\u7121\u3044\uff0e</p> <p>\u72ec\u81ea\u5f62\u5f0f\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306f\uff0c\u958b\u767a\u306e\u90fd\u5408\u3067\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5fae\u7d30\u306a\u5909\u66f4\u304c\u306a\u3055\u308c\u308b\u3053\u3068\u304c\u3042\u308b\uff0e \u5f8c\u65b9\u4e92\u63db\u6027\u306f\u78ba\u4fdd\u3055\u308c\u3066\u3044\u308b\u304c\uff0c\u540c\u3058\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30b3\u30fc\u30c9\u306b\u540c\u68b1\u3055\u308c\u3066\u3044\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u7d4c\u7531\u3067\u30c7\u30fc\u30bf\u3092\u8aad\u3080\u306e\u304c\u78ba\u5b9f\u3067\u3042\u308b\uff0e</p> <p>\u6ce2\u5f62\u51fa\u529b\u306eSAC\u30d5\u30a1\u30a4\u30eb\u306b\u306f\uff0cSAC\u3067\u5fc5\u9808\u3068\u3055\u308c\u308b\u6a19\u6e96\u7684\u306a\u30d8\u30c3\u30c0\u306e\u4ed6\uff0c\u4ee5\u4e0b\u306e\u8868\u306e\u30d8\u30c3\u30c0\u304c\u4ed8\u52a0\u3055\u308c\u308b\uff0e \u6ce2\u5f62\u8a18\u9332\u306e\u5358\u4f4d\u306f\uff0c<code>SAC</code>\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u6a19\u6e96\u306b\u5f93\u3044\uff0c\u901f\u5ea6\u306fnm/s, \u5909\u4f4d\u306fnm \u304c\u63a1\u7528\u3055\u308c\u3066\u3044\u308b\uff0e</p> <p>\u306a\u304a\uff0c\u6ce2\u5f62\u30fb\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3068\u3082\u6c34\u5e73\u6210\u5206\u306e\u65b9\u5411\u306f\u8a08\u7b97\u5ea7\u6a19\u7cfb\u306e, y, z\u306b\u6e96\u305a\u308b\uff0e<code>phi=0</code>\u3067\u3042\u308c\u3070x, y\u306f\u305d\u308c\u305e\u308c\u5317\u30fb\u6771\u3067\u3042\u308b\u304c\uff0c\u8a08\u7b97\u5ea7\u6a19\u7cfb\u3092\u56de\u8ee2\u3057\u3066\u3044\u308b\u5834\u5408\u306b\u306f\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3042\u308b\uff0e\u3053\u306e\u5ea7\u6a19\u7cfb\u306e\u56de\u8ee2\u89d2\u306f\u51fa\u529b<code>SAC</code>\u30d5\u30a1\u30a4\u30eb\u30d8\u30c3\u30c0\u306ecmpaz\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u305f\u3081\uff0c<code>SAC</code>\u4e0a\u3067\u5bb9\u6613\u306b\u5317\u30fb\u6771\u3092\u6b63\u306b\u3059\u308b\u65b9\u5411\u306b\u5909\u63db\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0e\u307e\u305f\uff0c\u6ce2\u5f62\u51fa\u529b\u306e\u925b\u76f4\u6210\u5206\u306b\u3064\u3044\u3066\u306f\uff0c\u6163\u4f8b\u306b\u5f93\u3044\u4e0a\u304c\u6b63\u306b\u306a\u308b\u3088\u3046\u306b\u53cd\u8ee2\u3055\u308c\u3066\u3044\u308b\uff0e\u4e00\u65b9\uff0c\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306e\u901f\u5ea6\u51fa\u529b\u306ez\u6210\u5206\u306f\u8a08\u7b97\u5ea7\u6a19\u7cfb\uff08\u925b\u76f4\u4e0b\u65b9\u304c\u6b63\uff09\u306e\u307e\u307e\u3067\u3042\u308b\uff0e</p>"},{"location":"ja/2._Parameters/0205_output/#_3","title":"\u6ce2\u5f62\u30d5\u30a1\u30a4\u30eb\u306e\u30d8\u30c3\u30c0","text":"header name description <code>kevnm</code> <code>title</code> <code>evlo</code>, <code>evla</code>, <code>evdp</code> \u9707\u6e90\u30ea\u30b9\u30c8\u306e1\u884c\u76ee\u306e\u9707\u6e90\u4f4d\u7f6e\uff0e\u9707\u6e90\u4f4d\u7f6e\u304c\u30c7\u30ab\u30eb\u30c8\u5ea7\u6a19\u7cfb\u3067\u4e0e\u3048\u3089\u308c\u305f\u5834\u5408\u306b\u306f\u30d1\u30e9\u30e1\u30bf<code>clon</code>\u3068<code>clat</code>\u3092\u3082\u3068\u306b\u7def\u5ea6\u7d4c\u5ea6\u5909\u63db\u3059\u308b\uff0e <code>o</code> \u9707\u6e90\u30ea\u30b9\u30c81\u884c\u76ee\u306e\u9707\u6e90\u7834\u58ca\u958b\u59cb\u6642\u9593\uff0e <code>kzdate</code>, <code>kztime</code> \u30d7\u30ed\u30b0\u30e9\u30e0\u5b9f\u884c\u958b\u59cb\u65e5\u6642 <code>b</code> <code>tbeg</code> <code>delta</code> <code>ntdec_w * dt</code> <code>mag</code> \u9707\u6e90\u30e2\u30fc\u30e1\u30f3\u30c8\u304b\u3089\u63db\u7b97\u3055\u308c\u308bM_W <code>user0</code>, .., <code>user5</code> \u9707\u6e90\u30ea\u30b9\u30c81\u884c\u76ee\u306e m_{xx}, m_{yy}, m_{zz}, m_{yz}, m_{xz}, m_{xy} <code>user6</code>, <code>user7</code>, <code>user8</code> <code>clon</code>, <code>clat</code>, <code>phi</code> <code>kstnm</code> <code>stnm</code> <code>stlo</code>, <code>stla</code>, <code>stdp</code> \u89b3\u6e2c\u70b9\u4f4d\u7f6e\uff0e\u89b3\u6e2c\u70b9\u304c<code>xy</code>\u3067\u4e0e\u3048\u3089\u308c\u305f\u5834\u5408\u306b\u306f\u7def\u5ea6\u7d4c\u5ea6\u306b\u5909\u63db\u306e\u4e0a\u51fa\u529b\u3055\u308c\u308b\uff0e <code>kcmpnm</code> \u901f\u5ea6\u306e\u5834\u5408<code>Vx, Vy, Vz</code>, \u5909\u4f4d\u306e\u5834\u5408<code>Ux, Uy, Uz</code> <code>cmpinc</code>,<code>cmpaz</code> <code>x, y</code>\u306e\u65b9\u5411\u306b\u5fdc\u3058\u305f\u89b3\u6e2c\u70b9\u6975\u6027\u65b9\u5411 <code>idep</code> SAC\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5f93\u3044\uff0c\u901f\u5ea6\u6ce2\u5f62\u3067\u306f7, \u5909\u4f4d\u3067\u306f6\u304c\u683c\u7d0d\u3055\u308c\u308b <p>Native\u5f62\u5f0f\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u306f\uff0c\u30d8\u30c3\u30c0\u60c5\u5831\uff0c\u69cb\u9020\uff08\u5730\u8868\u3067\u3042\u308c\u3070\u5730\u5f62\uff0c\u65ad\u9762\u3067\u3042\u308c\u3070\u901f\u5ea6\u69cb\u9020\uff09\uff0c\u7a7a\u9593\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306e\u9806\u306b\u30c7\u30fc\u30bf\u304c\u683c\u7d0d\u3055\u308c\u308b\uff0e</p>"},{"location":"ja/2._Parameters/0205_output/#_4","title":"\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306e\u30d8\u30c3\u30c0","text":"var name type description <code>bintype</code> character(8) <code>\"STREAMIO\"</code>\u306b\u56fa\u5b9a <code>codetype</code> character(8) \u30b3\u30fc\u30c9\u7a2e\u5225\u306b\u3088\u308a<code>\"SWPC_3D\"</code> or <code>\"SWPC_PV\"</code> or <code>\"SWPC_SH\"</code> <code>hdrver</code> integer \u30d8\u30c3\u30c0\u30d0\u30fc\u30b8\u30e7\u30f3\uff0e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3088\u308a\u30d8\u30c3\u30c0\u5185\u5bb9\u304c\u7570\u306a\u308b\u53ef\u80fd\u6027\u3042\u308a\uff0e <code>title</code> character(80) \u5b9f\u884c\u540d\uff0e <code>exedate</code> integer \u5b9f\u884c\u65e5\u6642\uff0ePOSIX TIME\u3067\u4e0e\u3048\u308b\uff0e <code>coordinate</code> character(2) \u65ad\u9762\u6210\u5206\uff0e<code>'xy'</code>, <code>'xz'</code>, <code>'fs'</code>, <code>'ob'</code>\u306a\u3069\uff0e <code>datatype</code> character(2) \u30c7\u30fc\u30bf\u7a2e\u5225\uff0e<code>'ps'</code> or <code>'v2'</code> or <code>'v3'</code> <code>ns1,ns2</code> integer \u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u5404\u8fba\u306e\u30c7\u30fc\u30bf\u6570 <code>beg1,beg2</code> real \u5404\u8fba\u306e\u59cb\u70b9\u5ea7\u6a19\u5024 <code>ds1,ds2</code> real \u30b0\u30ea\u30c3\u30c9\u9593\u9694 <code>dt</code> real \u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306e\u6642\u9593\u9593\u9694 <code>na1,na2</code> real \u5438\u53ce\u5883\u754c\u9818\u57df\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u30b0\u30ea\u30c3\u30c9\u6570 <code>nmed</code> integer \u5a92\u8cea\u30c7\u30fc\u30bf\u306e\u500b\u6570 <code>nsnp</code> integer 1\u6642\u9593\u30b9\u30c6\u30c3\u30d7\u3042\u305f\u308a\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u679a\u6570 <code>clon,clat</code> real \u5ea7\u6a19\u4e2d\u5fc3\u7def\u5ea6\u7d4c\u5ea6 <code>v1,v2,v3</code> real \u4e88\u5099\uff0e\u672c\u30b3\u30fc\u30c9\u3067\u306f\u5229\u7528\u3057\u306a\u3044\uff0e <p>SAC \u30d8\u30c3\u30c0\u306e\u5909\u66f4</p> <p>SAC \u30d8\u30c3\u30c0\u306e\u3046\u3061\uff0c<code>evdp</code> \u306f\u5f93\u6765\u306f m \u5358\u4f4d\u3067\u3042\u3063\u305f\u304c\uff0cOpenSWPC Version 5.0 \u4ee5\u964d\u306f km \u306e\u5358\u4f4d\u3092\u53d6\u308b\u3088\u3046\u306b\u5909\u66f4\u3055\u308c\u305f\uff0e</p> <p>\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3068\u3057\u3066<code>NetCDF</code>\u5f62\u5f0f\u3092\u7528\u3044\u305f\u5834\u5408\u3082\uff0c\u3053\u306e\u8868\u306b\u76f8\u5f53\u3059\u308b global attributes \u304c\u8a2d\u5b9a\u3055\u308c\u308b\uff0e\u305d\u306e\u307b\u304b\u306f<code>NetCDF</code>\u306eCOARDS\u898f\u7d04 \u304a\u3088\u3073\u4e00\u90e8CF\u62e1\u5f35\u306b\u5f93\u3046\uff0e\u3053\u306e\u898f\u7d04\u306b\u5f93\u3063\u3066\u3044\u308b\u3053\u3068\u306b\u3088\u308a\uff0c<code>OpenSWPC</code>\u306b\u3088\u308a\u51fa\u529b\u3055\u308c\u305f<code>NetCDF</code>\u30d5\u30a1\u30a4\u30eb\u306f\uff0c\u540c\u5f62\u5f0f\u3092\u8aad\u307f\u8fbc\u3081\u308b\u591a\u304f\u306e\u79d1\u5b66\u7684\u53ef\u8996\u5316\u30c4\u30fc\u30eb\uff08\u305f\u3068\u3048\u3070ParaView\uff0cPanoply\u3084GMT\u306a\u3069\uff09\u3067\u305d\u306e\u307e\u307e\u8aad\u307f\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0e</p>"},{"location":"ja/2._Parameters/0205_output/#_5","title":"\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u51fa\u529b","text":"<p>3\u6b21\u5143\u7a7a\u9593\u306e\u3046\u3061\uff0c<code>xy</code>, <code>yz</code>, <code>xz</code>\u305d\u308c\u305e\u308c\u306e\u65b9\u5411\u306e\u6c34\u5e73\u65ad\u9762\u3068\u5730\u8868\u9762\uff08<code>fs</code>\uff09\u30fb\u6d77\u5e95\u9762\uff08<code>ob</code>\uff09\u306b\u6cbf\u3063\u305f\u9762\u306e\u6ce2\u52d5\u5834\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3092\u51fa\u529b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0e \u51fa\u529b\u53ef\u80fd\u306a\u306e\u306f\u901f\u5ea6\u632f\u5e45\uff08<code>v</code>\uff09, \u5909\u4f4d\u632f\u5e45\uff08<code>u</code>\uff09\u304a\u3088\u3073\u901f\u5ea6\u632f\u5e45\u306e\u767a\u6563\u3068\u56de\u8ee2\uff08<code>ps</code>\uff09\u306e3\u7a2e\u985e\u3067\u3042\u308b\uff0e</p> <p>\u3059\u3079\u3066\u306e\u6642\u9593\u30b9\u30c6\u30c3\u30d7\u306b\u3059\u3079\u3066\u306e\u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\u306e\u306f\u30c7\u30fc\u30bf\u5bb9\u91cf\u3068\u5165\u51fa\u529b\u6642\u9593\u304b\u3089\u73fe\u5b9f\u7684\u3067\u306f\u306a\u3044\u305f\u3081\uff0c\u6642\u9593\u3068\u7a7a\u9593\u306e\u4e21\u65b9\u306b\u9593\u5f15\u304d\u8981\u7d20\u3092\u5c0e\u5165\u3057\u3066\u3044\u308b\uff0e \u6642\u9593\u306b\u3064\u3044\u3066\u306f\u7a4d\u5206\u958b\u59cb\u6642\u9593\u3092\u59cb\u70b9\u3068\u3057\u3066\uff0c<code>ntdec_s</code>\u30b9\u30c6\u30c3\u30d7\u6bce\u306b\u51fa\u529b\u3092\u884c\u3046\uff0e\u7a7a\u9593\u306b\u3064\u3044\u3066\u306f\uff0c\u6307\u5b9a\u3055\u308c\u305fx, y, z\u65b9\u5411\u306e\u9593\u5f15\u304d\u9593\u9694<code>idec</code>, <code>jdec</code>, <code>kdec</code>\u306b\u3088\u308a\u9593\u5f15\u304d\u304c\u884c\u308f\u308c\u308b\uff08\u4e0b\u56f3\uff09</p> <p>\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u9593\u5f15\u304d\u306e\u6a21\u5f0f\u56f3</p> <p> \u4e38\u5370\u304ci\u65b9\u5411\u306e\u5ea7\u6a19\u30b0\u30ea\u30c3\u30c9\u3067\uff0c\u70b9\u7dda\u304cMPI\u306e\u30c9\u30e1\u30a4\u30f3\u5883\u754c\u3092\u793a\u3059\uff0e\u9593\u5f15\u304d\u8981\u7d20\u306fidec=3\u306e\u5834\u5408\u3092\u793a\u3057\u3066\u3044\u308b\uff0e\u9752\u8272\u306b\u5857\u308a\u3064\u3076\u3055\u308c\u305f\u30b0\u30ea\u30c3\u30c9\u304b\u3089\u306e\u30c7\u30fc\u30bf\u304c\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3068\u3057\u3066\u51fa\u529b\u3055\u308c\u308b\uff0e</p> <p>\u3053\u306e\u3068\u304d\uff0c\u5404MPI\u30ce\u30fc\u30c9\u5185\u3067\u51fa\u529b\u3055\u308c\u308b\u30b0\u30ea\u30c3\u30c9\u70b9\u6570\u306f\u4e00\u5b9a\u3068\u306f\u9650\u3089\u306a\u3044\uff08\u4e00\u5b9a\u3068\u306a\u308b\u3088\u3046\u306b\u51fa\u529b\u9593\u9694\u3084\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba\u3092\u8abf\u6574\u3059\u308b\u5fc5\u8981\u306f\u7121\u3044\uff09\uff0e \u30c7\u30fc\u30bf\u306f\u3059\u3079\u3066\u7279\u5b9a\u306e\u30ce\u30fc\u30c9\u306b\u96c6\u7d04\u3055\u308c\u3066\uff0c<code>snp_format</code>\u30d1\u30e9\u30e1\u30bf\u306e\u5024\u306b\u3088\u308a\uff0c\u72ec\u81ea\u5f62\u5f0f\uff08<code>native</code>\uff09\u3082\u3057\u304f\u306f<code>NetCDF</code>\u5f62\u5f0f\u306e\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u51fa\u529b\u3055\u308c\u308b\uff0e\u30c7\u30fc\u30bf\u51fa\u529b\u306b\u4f34\u3046\u8ca0\u8377\u3092\u5206\u6563\u3059\u308b\u305f\u3081\uff0c\u51fa\u529b\u3092\u884c\u3046\u30ce\u30fc\u30c9\u306f\u6b21\u8868\u306e\u3088\u3046\u306b\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u7a2e\u5225\u6bce\u306b\u7570\u306a\u3063\u3066\u3044\u308b\uff0e</p> section type node yz PS 0 xz PS <code>mod(1, nproc)</code> xy PS <code>mod(2, nproc)</code> fs PS <code>mod(3, nproc)</code> ob PS <code>mod(4, nproc)</code> yz V <code>mod(5, nproc)</code> xz V <code>mod(6, nproc)</code> xy V <code>mod(7, nproc)</code> fs V <code>mod(8, nproc)</code> ob V <code>mod(9, nproc)</code> yz U <code>mod(10, nproc)</code> xz U <code>mod(11, nproc)</code> xy U <code>mod(12, nproc)</code> fs U <code>mod(13, nproc)</code> ob U <code>mod(14, nproc)</code> <p>\u5165\u529b\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u306f\u5404\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u65ad\u9762\u306e\u51fa\u529b\u306e\u6709\u7121\u3084\u9593\u5f15\u304d\u8981\u7d20\u3092\u5236\u5fa1\u3059\u308b\uff0e\u306a\u304a\uff0c2\u6b21\u5143SH\u8a08\u7b97\u3067\u306f1\u6210\u5206\u3057\u304b\u306a\u3044\u305f\u3081P\u6ce2S\u6ce2\u51fa\u529b\u306f\u751f\u6210\u3055\u308c\u306a\u3044\uff0e</p> <p>Parameters</p> <code>snp_format</code> \u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u51fa\u529b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\uff0e<code>\"native\"</code>\uff08Fortran\u72ec\u81ea\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\uff0c\u975e\u63a8\u5968\uff09\u3082\u3057\u304f\u306f <code>\"netcdf\"</code>\uff08<code>NetCDF</code>\u5f62\u5f0f\uff0e\u63a8\u5968\uff09\u306e\u3044\u305a\u308c\u304b\u3092\u6307\u5b9a\u3059\u308b\uff0e  <code>xy_ps%sw</code>, <code>xz_ps%sw</code>, <code>yz_ps%sw</code>, <code>fs_ps%sw</code>, <code>ob_ps%sw</code> \u5404\u65ad\u9762\u3067\u306ePS\u632f\u5e45\uff08\\text{div}(\\mathbf{v}), \\text{rot}(\\mathbf{v})\uff09\u306e\u51fa\u529b\u30b9\u30a4\u30c3\u30c1\uff0e                                                         <code>xy_v3%sw</code>, <code>xz_v3%sw</code>, <code>yz_v3%sw</code>, <code>fs_v3%sw</code>, <code>ob_v3%sw</code> \u5404\u65ad\u9762\u3067\u306e3\u6210\u5206\u901f\u5ea6\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306e\u51fa\u529b\u30b9\u30a4\u30c3\u30c1\uff0e <code>xy_u3%sw</code>, <code>xz_u3%sw</code>, <code>yz_u3%sw</code>, <code>fs_u3%sw</code>, <code>ob_u3%sw</code> \u5404\u65ad\u9762\u3067\u306e3\u6210\u5206\u5909\u4f4d\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306e\u51fa\u529b\u30b9\u30a4\u30c3\u30c1\uff0e <code>z0_xy</code> xy\u65ad\u9762\u3092\u51fa\u529b\u3059\u308b\u6df1\u3055 (km) <code>x0_yz</code> yz\u65ad\u9762\u3092\u51fa\u529b\u3059\u308bx\u5ea7\u6a19\u4f4d\u7f6e (km) <code>y0_xz</code> xz\u65ad\u9762\u3092\u51fa\u529b\u3059\u308by\u5ea7\u6a19\u4f4d\u7f6e (km) <code>ntdec_s</code> \u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u51fa\u529b\u306e\u6642\u9593\u9593\u5f15\u304d\u8981\u7d20\uff0e\u8a08\u7b97\u6642\u9593\u30b9\u30c6\u30c3\u30d7<code>ntdec_s</code>\u56de\u306b1\u5ea6\u51fa\u529b\u3055\u308c\u308b\uff0e <code>idec</code>, <code>jdec</code>, <code>kdec</code> \u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u51fa\u529b\u306ex, y, z\u65b9\u5411\u306e\u7a7a\u9593\u9593\u5f15\u304d\u8981\u7d20\uff0e"},{"location":"ja/2._Parameters/0205_output/#_6","title":"\u5730\u9707\u6ce2\u5f62\u51fa\u529b","text":"<p>\u6ce2\u5f62\u51fa\u529b\u30aa\u30d7\u30b7\u30e7\u30f3\u304c<code>sw_wav_v=.true.</code>\u3082\u3057\u304f\u306f<code>sw_wav_u=.true.</code>\u306e\u5834\u5408\uff0c\u89b3\u6e2c\u70b9\u306b\u304a\u3051\u308b\u901f\u5ea6\u3084\u5909\u4f4d\u306e\u6642\u7cfb\u5217\u3092<code>SAC</code>\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u6ce2\u5f62\u3068\u3057\u3066\u51fa\u529b\u3059\u308b\uff0e \u5909\u4f4d\u8a08\u7b97\u306e\u305f\u3081\u306e\u6642\u9593\u7a4d\u5206\u306f\u51fa\u529b\u6642\u306e\u6642\u9593\u9593\u5f15\u304d\u3092\u884c\u3046\u524d\u306b\u5b9f\u884c\u3055\u308c\u308b\u305f\u3081\uff0c\u6642\u9593\u9593\u5f15\u304d\u5f8c\u306e\u901f\u5ea6\u6ce2\u5f62\u3092\u7a4d\u5206\u3059\u308b\u3088\u308a\u3082\u9ad8\u7cbe\u5ea6\u3067\u3042\u308b\uff0e \u8a08\u7b97\u4e2d\u306f\u5730\u9707\u6ce2\u5f62\u306f\u30e1\u30e2\u30ea\u4e0a\u306b\u4fdd\u6301\u3055\u308c\uff0c\u8a08\u7b97\u7d42\u4e86\u6642\u306b\u307e\u3068\u3081\u3066\u51fa\u529b\u3055\u308c\u308b\uff0e\u8a08\u7b97\u3092\u4e2d\u65ad\u3057\u305f\u5834\u5408\u306b\u306f\u6ce2\u5f62\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\uff0e</p> <p>\u89b3\u6e2c\u70b9\u4f4d\u7f6e\u306f\u8a08\u7b97\u5ea7\u6a19\u7cfb(<code>xy</code>)\u304b\u5730\u7406\u5ea7\u6a19\u7cfb(<code>ll</code>)\u304b\u3044\u305a\u308c\u304b\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\uff08\u4e0b\u8868\uff09\u3067\u4e0e\u3048\u308b\uff0e</p> Type Format <code>'xy'</code> <code>x      y     z   name   zsw</code> <code>'ll'</code> <code>lon    lat   z   name   zsw</code> <p>\u8907\u6570\u306e\u89b3\u6e2c\u70b9\u306b\u304a\u3051\u308b\u51fa\u529b\u304c\u5fc5\u8981\u306a\u5834\u5408\u306f\uff0c\u89b3\u6e2c\u70b9\u4f4d\u7f6e\u30d5\u30a1\u30a4\u30eb\u306b\u6539\u884c\u533a\u5207\u308a\u89b3\u6e2c\u70b9\u3092\u52a0\u3048\u3066\u3044\u3051\u3070\u3088\u3044\uff0e\u305f\u3060\u3057\uff0c<code>\u2019xy\u2019</code>\u3068<code>\u2019ll\u2019</code>\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u6df7\u305c\u308b\u3053\u3068\u306f\u3067\u304d\u306a\u3044\uff0e\u89b3\u6e2c\u70b9\u6570\u306f\u81ea\u52d5\u7684\u306b\u30ab\u30a6\u30f3\u30c8\u3055\u308c\uff0c\u305d\u306e\u3046\u3061\u8a08\u7b97\u30e2\u30c7\u30eb\u5185\u306b\u3042\u308b\u89b3\u6e2c\u70b9\u306e\u307f\u304c\u51fa\u529b\u3055\u308c\u308b\uff0e`</p> <p>\u89b3\u6e2c\u70b9\u306e\u6df1\u3055\u306f\uff0c\u5165\u529b<code>zsw</code>\u306b\u3088\u3063\u3066\u6b21\u306e\u8868\u306e\u3088\u3046\u306b\u5909\u5316\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0e \u5730\u8868\u3084\u6d77\u5e95\u306e\u5f62\u72b6\u306f\u30b0\u30ea\u30c3\u30c9\u306b\u6cbf\u3063\u305f\u968e\u6bb5\u72b6\u306b\u96e2\u6563\u5316\u3055\u308c\u308b\u305f\u3081\uff0c\u89b3\u6e2c\u70b9\u306e\u6df1\u3055\u304b\u3089\u76f4\u63a5\u5909\u63db\u3059\u308b\uff08<code>zsw=\u2019dep\u2019</code>\uff09\u3068\uff0c\u89b3\u6e2c\u70b9\u304c\u610f\u56f3\u305b\u305a\u306b\u7a7a\u4e2d\u306b\u98db\u3073\u51fa\u3057\uff0c\u610f\u56f3\u3057\u305f\u7d50\u679c\u304c\u5f97\u3089\u308c\u306a\u3044\u5834\u5408\u304c\u3042\u308b\uff0e \u6d77\u5e95\u306e\u89b3\u6e2c\u70b9\u306e\u5834\u5408\u306b\u306f\uff0c\u6ce2\u5f62\u51fa\u529b\u306e\u4f4d\u7f6e\u304c\u6d77\u5e95\u306e\u56fa\u4f53\u5074\u306b\u3042\u308b\u304b\u6d77\u4e2d\u5074\u306b\u3042\u308b\u304b\u306b\u3088\u3063\u3066\uff0c\u305d\u306e\u6c34\u5e73\u52d5\u632f\u5e45\u304c\u5927\u304d\u304f\u7570\u306a\u308b\uff0e</p> <p>\u305d\u3053\u3067\uff0c<code>zsw</code>\u306e\u5024\u306e\u6307\u5b9a\u306b\u3088\u308a\uff0c\u6d77\u9762\u4e0a\u306e\u89b3\u6e2c\u70b9\u3084\u6d77\u5e95\uff0c\u306a\u3089\u3073\u306b\u6d77\u5e95\u306e\u5e95\u306e\u89b3\u6e2c\u70b9\u3092\u305d\u308c\u305e\u308c\u6a21\u64ec\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0e \u7279\u6bb5\u306e\u4e8b\u60c5\u304c\u7121\u3044\u9650\u308a\uff0c<code>zsw = \u2019obb\u2019</code>\u3068\u3057\u3066\u304a\u304f\u306e\u304c\u826f\u3044\uff0e</p> <code>zsw</code> \u89b3\u6e2c\u70b9\u6df1\u3055 <code>\u2019dep\u2019</code> \u4e0e\u3048\u3089\u308c\u305fzst\u304b\u3089\u8a08\u7b97 <code>\u2019fsb\u2019</code> \u5730\u8868\u30fb\u6d77\u9762\u30b0\u30ea\u30c3\u30c9\u306e\u4e00\u3064\u4e0b <code>\u2019obb\u2019</code> \u5730\u8868\u30fb\u6d77\u5e95\u30b0\u30ea\u30c3\u30c9\u306e\u4e00\u3064\u4e0b <code>\u2019oba\u2019</code> \u5730\u8868\u30fb\u6d77\u9762\u30b0\u30ea\u30c3\u30c9\u306e\u4e00\u3064\u4e0a <code>\u2019bdi\u2019 (i=0, \\cdots, 9)</code> \u901f\u5ea6\u69cb\u9020\u30e2\u30c7\u30eb\u3067\u5b9a\u7fa9\u3055\u308c\u308b<code>i</code>\u756a\u76ee\u306e\u5185\u90e8\u5883\u754c <p>Parameters</p> <code>sw_wav_v</code>, <code>sw_wav_u</code> \u901f\u5ea6(v)\u30fb\u5909\u4f4d(u)\u6ce2\u5f62\u306e\u51fa\u529b\u30b9\u30a4\u30c3\u30c1\uff0e <code>ntdec_w</code> \u6ce2\u5f62\u51fa\u529b\u306e\u6642\u9593\u9593\u5f15\u304d\u9593\u9694\uff0e1\u3067\u5168\u6642\u9593\u30b9\u30c6\u30c3\u30d7\u306e\u8a18\u9332\u3092\u51fa\u529b\u3059\u308b\uff0e <code>st_format</code> \u89b3\u6e2c\u70b9\u4f4d\u7f6e\u30d5\u30a1\u30a4\u30eb\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\uff0e'xy'\u306a\u3089\u8a08\u7b97\u5ea7\u6a19\uff0c'll'\u306a\u3089\u5730\u7406\u5ea7\u6a19\u30e2\u30fc\u30c9\uff0e <code>fn_stloc</code> \u89b3\u6e2c\u70b9\u30d5\u30a1\u30a4\u30eb\u540d\uff0e <code>wav_format</code> \u6ce2\u5f62\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\uff0e\u901a\u5e38\u306f<code>\u2019sac\u2019</code>"},{"location":"ja/2._Parameters/0205_output/#_7","title":"\u3072\u305a\u307f\u30fb\u5fdc\u529b\u6ce2\u5f62\u51fa\u529b","text":"<p>\u901f\u5ea6\u3084\u5909\u4f4d\u6ce2\u5f62\u3068\u540c\u69d8\u306b\uff0c<code>sw_wav_strain = .true.</code> \u3068\u3059\u308b\u3053\u3068\u3067\u3072\u305a\u307f\u6ce2\u5f62\u3092\uff0c<code>sw_wav_stress = .true.</code>\u3068\u3059\u308b\u3053\u3068\u3067\u5fdc\u529b\u6ce2\u5f62\u3092\uff0c\u305d\u308c\u305e\u308cSAC\u5f62\u5f0f\u306e\u6642\u7cfb\u5217\u30c7\u30fc\u30bf\u3068\u3057\u3066\u51fa\u529b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff08Experimental; new in version 5.0)\uff0e\u89b3\u6e2c\u70b9\u4f4d\u7f6e\u306e\u6307\u5b9a\u306f\u901f\u5ea6\u30fb\u5909\u4f4d\u3068\u540c\u3058\u3067\u3042\u308b\uff0e\u51fa\u529b\u5358\u4f4d\u306f\u6b6a\u306f\u7121\u6b21\u5143\uff0c\u5fdc\u529b\u306f[Pa]\u3067\u3042\u308b\uff0e</p>"},{"location":"ja/2._Parameters/0205_output/#csf-format","title":"CSF format","text":"<p>\u6ce2\u5f62\u51fa\u529b\u306f\u539f\u5247\u3068\u3057\u3066<code>SAC</code>\u5f62\u5f0f\u3067\u3042\u308b\u304c\uff0c\u30b7\u30b9\u30c6\u30e0\u304c\u3042\u307e\u308a\u306b\u3082\u5927\u91cf\u306e\u6ce2\u5f62\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3059\u308b\u3053\u3068\u306b\u8010\u3048\u3089\u308c\u306a\u3044\u30b1\u30fc\u30b9\u304c\u3042\u308b\uff0e\u307e\u305f\uff0c\u5927\u91cf\u306e\u5c0f\u30b5\u30a4\u30ba\u30d5\u30a1\u30a4\u30eb\u306f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u901a\u3058\u305f\u30c7\u30fc\u30bf\u306e\u8ee2\u9001\u306b\u3082\u4e0d\u5411\u304d\u3067\u3042\u308b\uff0e\u305d\u3053\u3067\uff0cVersion 3.0\u4ee5\u964d\u3067\u306f\u30d1\u30e9\u30e1\u30bf<code>wav_format = \u2019csf\u2019</code>\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\uff0c<code>SAC</code>\u30d5\u30a1\u30a4\u30eb\u3092\u8907\u6570\u89b3\u6e2c\u70b9\u30fb\u6210\u5206\u306b\u3064\u3044\u3066\u5358\u4e00\u30d5\u30a1\u30a4\u30eb\u306b\u7d50\u5408\u3057\u305fcsf\u30d5\u30a1\u30a4\u30eb\uff08\u72ec\u81ea\u5f62\u5f0f\uff09\u306e\u51fa\u529b\u3092\u9078\u629e\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\uff0e</p> <p>csf\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306f\uff0cSAC\u5f62\u5f0f\u306e\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u3092\u5358\u7d14\u7d50\u5408\u3057\u305f\u3082\u306e\u306e\u5148\u982d\u306b3\u3064\u306e4\u30d0\u30a4\u30c8\u5b9f\u6570\u3092\u30d8\u30c3\u30c0\u3068\u3057\u3066\u4ed8\u52a0\u3057\u305f\u3060\u3051\u306e\u5358\u7d14\u306a\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u3042\u308b\uff0e\u30d8\u30c3\u30c0\u306f\u4ee5\u4e0b\u306e\u69cb\u6210\u8981\u7d20\u304b\u3089\u306a\u308b\uff0e</p> <p>CSF header format</p> <code>identifier</code> 4\u6587\u5b57 'CSFD' <code>ntrace</code> \u30d5\u30a1\u30a4\u30eb\u5185\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u6ce2\u5f62\u306e\u6570 <code>npts</code> \u4e00\u3064\u4e00\u3064\u306e\u6ce2\u5f62\u306e\u6642\u9593\u30b5\u30f3\u30d7\u30eb\u6570 <p>\u30d5\u30a1\u30a4\u30eb\u306b\u542b\u307e\u308c\u308b\u6ce2\u5f62\u306e\u30b5\u30f3\u30d7\u30eb\u6570\u306f\u3059\u3079\u3066\u7b49\u3057\u3044\u3053\u3068\u304c\u4eee\u5b9a\u3055\u308c\u3066\u3044\u308b\uff0ecsf\u51fa\u529b\u304c\u9078\u629e\u3055\u308c\u305f\u5834\u5408\uff0c\u4e26\u5217\u8a08\u7b97\u306e\u30ce\u30fc\u30c9\u6bce\u306b\uff0c\u305d\u306e\u30ce\u30fc\u30c9\u306b\u542b\u307e\u308c\u308b\u89b3\u6e2c\u70b9\u306e\u540c\u3058\u6210\u5206\u306e\u6ce2\u5f62\u304c\u4e00\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u307e\u3068\u3081\u3089\u308c\u3066\u51fa\u529b\u3055\u308c\u308b\uff0e</p> <p>\u5927\u91cf\u306e\u6ce2\u5f62\u51fa\u529b</p> <p>\u5927\u898f\u6a21\u30b9\u30fc\u30d1\u30fc\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30b7\u30b9\u30c6\u30e0\u306b\u304a\u3044\u3066\u306f\uff0c\u4e26\u5217\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0lustre\u304c\u63a1\u7528\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u3042\u308b\uff08\u305f\u3068\u3048\u3070\u6771\u4eac\u5927\u5b66Oakforest\u306a\u3069\uff09\uff0eLustre\u306f\u5c0f\u3055\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u591a\u6570\u6271\u3046\u3053\u3068\u3092\u3084\u3084\u82e6\u624b\u306b\u3057\u3066\u304a\u308a\uff0cSAC\u5f62\u5f0f\u3067\u5927\u91cf\u306e\u6ce2\u5f62\u3092\u51fa\u529b\u3059\u308b\u3068\uff0c\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u843d\u3061\u308b\u3053\u3068\u304c\u3042\u308b\uff0e\u305d\u306e\u3088\u3046\u306a\u5834\u5408\u306b\u306f\uff0cCSF\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u3088\u3046\u306a\u7d50\u5408\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304c\u4fbf\u5229\u3067\u3042\u308b\uff0e</p>"},{"location":"ja/2._Parameters/0205_output/#_8","title":"\u8ddd\u96e2\u4fdd\u5b58\u30e2\u30fc\u30c9","text":"<p><code>OpenSWPC</code>\u306f\u89b3\u6e2c\u70b9\u4f4d\u7f6e\u3092<code>stlo</code>\uff0c<code>stla</code>\u306eSAC\u30d8\u30c3\u30c0\u3092\u901a\u3058\u3066\u4fdd\u5b58\u3059\u308b\u304c\uff0c<code>xy</code>\u5ea7\u6a19\u7cfb\u3067\u89b3\u6e2c\u70b9\u4f4d\u7f6e\u3092\u4e0e\u3048\u3066\u304b\u3064\u6975\u7aef\u306b\u9577\u8ddd\u96e2\u306e\u6e2c\u7dda\u3067\u306e\u8a08\u7b97\u306e\u5834\u5408\uff0c\u7def\u5ea6\u7d4c\u5ea6\u5909\u63db\uff08\u5730\u56f3\u6295\u5f71\uff09\u306b\u3088\u308b\u8aa4\u5dee\u304c\u7121\u8996\u3067\u304d\u306a\u3044\uff0e\u305d\u306e\u3088\u3046\u306a\u5834\u5408\u306b\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\u3068\uff0c\u8ddd\u96e2\u3092<code>SAC</code>\u30d8\u30c3\u30c0\u306e <code>dist</code> \u306b\u4fdd\u5b58\u3057\uff0c\u304b\u3064\u305d\u308c\u3092<code>SAC</code>\u306b\u4e0a\u66f8\u304d\u3055\u305b\u306a\u3044\u3088\u3046\u306b\u3067\u304d\u308b\uff0e</p> <p>Parameters</p> <code>wav_calc_dist</code> <code>.true.</code>\u306e\u3068\u304d\u9707\u592e\u8ddd\u96e2\u3092SAC\u30c7\u30fc\u30bf\u306b\u4fdd\u5b58\u3059\u308b\uff0e"},{"location":"ja/2._Parameters/0205_output/#_9","title":"\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d","text":"<p>\u8a08\u7b97\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u51fa\u529b\u3055\u308c\u308b\uff0e</p> <ul> <li>\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8 \u2006\u2006\u2006 <code>(odir)/(title).(section).(type).(ext)</code></li> <li>\u6ce2\u5f62(SAC) \u2006\u2006\u2006<code>(odir)/wav/(title).(stnm).(component).sac</code></li> <li> <p>\u6ce2\u5f62(CSF)   <code>(odir)/wav/(title).(node-ID).(component).csf</code></p> </li> <li> <p>\u8a08\u7b97\u6642\u9593 \u2006\u2006<code>(odir)/wav/(title).tim</code></p> </li> </ul> <p>\u3053\u3053\u3067\uff0c<code>(section)</code>\u306f\u51fa\u529b\u65ad\u9762\u3092\u8868\u30592\u6587\u5b57\u3067\uff0c\u7279\u5b9a\u4f4d\u7f6e\u306e\u65ad\u9762\u3067\u3042\u308c\u3070<code>xy</code>,<code>yz</code>\u306a\u3069\u3068\u8868\u3059\uff0e \u5730\u8868\u9762\u3068\u6d77\u5e95\u306f\u305d\u308c\u305e\u308c<code>fs</code>\uff08Free Surface\uff09\u306a\u3089\u3073\u306b<code>ob</code>\uff08Ocean Bottom\uff09\u3067\u8868\u3055\u308c\u308b\uff0e <code>(type)</code>\u306f\u901f\u5ea6\u632f\u5e45\u304bP\u6ce2\u30fbS\u6ce2\uff08div, rot\uff09\u304b\u306b\u3088\u3063\u3066<code>v</code>\u3082\u3057\u304f\u306f<code>ps</code>\u3092\u53d6\u308b\uff0e <code>(component)</code>\u306f\u901f\u5ea6\u304b\u5909\u4f4d\u304b\u306b\u5fdc\u3058\u3066<code>Vx</code>, <code>Vy</code>, <code>Vz</code>\u3042\u308b\u3044\u306f<code>Ux</code>, <code>Uy</code>, <code>Uz</code>\u3092\u53d6\u308b\uff0e \u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306e\u62e1\u5f35\u5b50<code>(ext)</code>\u306fNetCDF\u5f62\u5f0f\u3067<code>nc</code>\uff0cnative\u5f62\u5f0f\u3067<code>snp</code>\u3067\u3042\u308b\uff0e</p>"},{"location":"ja/2._Parameters/0206_vmodel/","title":"\u901f\u5ea6\u69cb\u9020\u306e\u6307\u5b9a","text":""},{"location":"ja/2._Parameters/0206_vmodel/#_2","title":"\u69cb\u9020\u30e2\u30c7\u30eb\u306e\u9078\u629e","text":"<p><code>OpenSWPC</code>\u306e\u5165\u529b\u901f\u5ea6\u69cb\u9020\u306f\u5c64\u69cb\u9020\u30e2\u30c7\u30eb\u3092\u57fa\u672c\u3068\u3057\u3066\u3044\u308b\uff0e\u4e00\u3064\u4e00\u3064\u306e\u5c64\u306f\uff0c\u6df1\u3055\uff08\u3082\u3057\u304f\u306f\u9ad8\u3055\uff09\u306e\u5909\u5316\u3092\u6301\u3064--y\uff08\u3082\u3057\u304f\u306f\u7def\u5ea6\u7d4c\u5ea6\uff09\u306e\u9762\u3067\u3042\u308a\uff0c\u3053\u308c\u3092\u5730\u9707\u6ce2\u901f\u5ea6\u30fb\u5bc6\u5ea6\u306a\u3089\u3073\u306b\u5185\u90e8\u6e1b\u8870\u306e\u7b49\u5024\u9762\u3068\u3057\u3066\u53d6\u308a\u6271\u3046\uff0e \u5909\u6570<code>vmodel_type</code>\u306e\u8a2d\u5b9a\u306b\u3088\u3063\u3066\u4e00\u69d8\u69cb\u9020\uff0c\u6c34\u5e73\u6210\u5c64\u69cb\u9020\uff0c\u3042\u308b\u3044\u306f<code>NetCDF</code>\u30d0\u30a4\u30ca\u30ea\u5165\u529b\u7a2e\u5225\u3092\u9078\u629e\u3067\u304d\u308b\uff0e c</p> <p>Parameters</p> <code>vmodel_type</code> <p>\u901f\u5ea6\u69cb\u9020\u30e2\u30c7\u30eb\u30bf\u30a4\u30d7\u306e\u6307\u5b9a\uff0e\u4ee5\u4e0b\u306e\u3044\u305a\u308c\u304b\u3092\u9078\u629e\u3059\u308b\uff0e</p> <code>\u2019uni\u2019</code> <p>\u4e00\u69d8\u5747\u8cea\u69cb\u9020\uff0e\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30bf\u3082\u6307\u5b9a\u3059\u308b\u3053\u3068\uff0e</p> <ul> <li><code>vp0</code> : \u4e00\u69d8\u69cb\u9020\u306eP\u6ce2\u901f\u5ea6</li> <li><code>vs0</code> : \u4e00\u69d8\u69cb\u9020\u306eS\u6ce2\u901f\u5ea6</li> <li><code>rho0</code> : \u4e00\u69d8\u69cb\u9020\u306e\u8cea\u91cf\u5bc6\u5ea6</li> <li><code>qp0</code>  :  \u4e00\u69d8\u69cb\u9020\u306e QP</li> <li><code>qs0</code>  :  \u4e00\u69d8\u69cb\u9020\u306e QS</li> <li><code>topo0</code> : \u4e00\u69d8\u69cb\u9020\u306e\u5730\u8868\u9762\u6df1\u3055\uff0e<code>0</code>\u4ee5\u4e0a\u306e\u5834\u5408\u306b\u306fz=0\u304b\u3089<code>topo0</code>\u307e\u3067\u6d77\u6c34\u3067\u6e80\u305f\u3055\u308c\u308b\uff0e</li> </ul> <code>\u2019lhm\u2019</code> <p>\u6c34\u5e73\u6210\u5c64\u69cb\u9020\uff08Layered Homogeneous Medium)\uff0e\u5883\u754c\u9762\u6df1\u3055\u3068\u7269\u6027\u5024\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u5225\u9014\u6307\u5b9a\u3059\u308b\uff0e</p> <ul> <li><code>fn_lhm</code>: \u6210\u5c64\u69cb\u9020\u6307\u5b9a\u30d5\u30a1\u30a4\u30eb\uff0e1\u884c\u306b\u5c64\u306e\u6df1\u3055\u30fb\u5bc6\u5ea6\u30fbP\u6ce2\u901f\u5ea6\u30fbS\u6ce2\u901f\u5ea6\u30fbQP\u30fbQS\u3092\u7a7a\u767d\u533a\u5207\u308a\u3067\u8a18\u5165\u3059\u308b\uff0e<code>#</code>\u306f\u30b3\u30e1\u30f3\u30c8\u884c\u3068\u3057\u3066\u6271\u308f\u308c\u308b\uff0e\u6307\u5b9a\u3055\u308c\u305f\u6df1\u3055\u4ee5\u6df1\u306e\u69cb\u9020\u304c\u305d\u306e\u884c\u306e\u7269\u6027\u5024\u3067\u6e80\u305f\u3055\u308c\u308b\uff0e\u4ee5\u4e0b\u306e\u4f8b\u3092\u53c2\u7167\u306e\u3053\u3068\uff0e</li> </ul> <pre><code># depth  rho(g/cm^3)  vp(km/s)   vs(km/s)     Qp      Qs\n# -------------------------------------------------------\n0        2.300      5.50      3.14     600     300\n3        2.400      6.00      3.55     600     300\n18        2.800      6.70      3.83     600     300\n33        3.200      7.80      4.46     600     300\n100        3.300      8.00      4.57     600     300\n225        3.400      8.40      4.80     600     300\n325        3.500      8.60      4.91     600     300\n425        3.700      9.30      5.31     600     300\n</code></pre> <code>\u2019grd\u2019</code> <p><code>NetCDF</code> \u30d5\u30a1\u30a4\u30eb\u7fa4\u3088\u308b\u69cb\u9020\u5165\u529b\uff0e\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5\u30aa\u30d7\u30b7\u30e7\u30f3<code>-D_NETCDF</code>\u306e\u6307\u5b9a\u304c\u5fc5\u8981\u3067\u3042\u308b\uff0e\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30bf\u3082\u6307\u5b9a\u3059\u308b\u3053\u3068\uff0e</p> <ul> <li> <p><code>dir_grd</code>: grd\u30d5\u30a1\u30a4\u30eb\u683c\u7d0d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff0e</p> </li> <li> <p><code>fn_grdslt</code>: grd\u30d5\u30a1\u30a4\u30eb\u540d\u3068\u7269\u6027\u5024\u306e\u30ea\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\uff0e\u4ee5\u4e0b\u306e\u4f8b\u3092\u53c2\u7167\uff0e\u5404\u5c64\u6bce\u306b\uff0c\u7269\u6027\u5024\uff08\u5bc6\u5ea6\u30fb\u5730\u9707\u6ce2\u901f\u5ea6\u30fbQ\u5024\uff09\u3092\u6307\u5b9a\u3059\u308b\uff0e\u307e\u305f\uff0c<code>sw</code>\u3067\u7279\u5b9a\u306e\u5883\u754c\u9762\u306egrd\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0e\u3053\u306e<code>sw</code>\u9707\u6e90\u306e\u6df1\u3055\u3092\u30d7\u30ec\u30fc\u30c8\u5883\u754c\u306b\u4e00\u81f4\u3055\u305b\u308b\uff08\u30aa\u30d7\u30b7\u30e7\u30f3<code>sdep_fit</code>\uff09\u969b\u306b\u7528\u3044\u3089\u308c\u308b\uff0e\u6700\u4e0a\u9762\u306f\u5730\u8868\u9762\u3068\u3057\u3066\u53d6\u308a\u6271\u308f\u308c\u308b\uff0e\u305d\u308c\u3088\u308a\u4e0a\u5c64\u306b\u3064\u3044\u3066\u306f\uff0cz\\le 0\u306f\u6d77\u6c34\u5c64\uff0c\u305d\u308c\u4ee5\u5916\u306f\u7a7a\u6c17\u3068\u3057\u3066\u6271\u308f\u308c\u308b\uff0e</p> </li> </ul> <pre><code># grd filename          rho    vp    vs    QP   QS  sw\n# -------------------------------------------------------\n'eJIVSM_01_TAB_.grd'   1.80  1.70  0.35   119    70  0 'eJIVSM_02_BSM_.grd'   1.95  1.80  0.50   170   100  0 'eJIVSM_03_BSM_.grd'   2.00  2.00  0.60   204   120  0 'eJIVSM_04_BSM_.grd'   2.05  2.10  0.70   238   140  0 'eJIVSM_05_BSM_.grd'   2.07  2.20  0.80   272   160  0 'eJIVSM_06_BSM_.grd'   2.10  2.30  0.90   306   180  0 'eJIVSM_07_BSM_.grd'   2.15  2.40  1.00   340   200  0 'eJIVSM_08_BSM_.grd'   2.20  2.70  1.30   442   260  0 'eJIVSM_09_BSM_.grd'   2.25  3.00  1.50   510   300  0 'eJIVSM_10_BSM_.grd'   2.30  3.20  1.70   578   340  0 'eJIVSM_11_BSM_.grd'   2.35  3.50  2.00   680   400  0 'eJIVSM_12_BSM_.grd'   2.45  4.20  2.40   680   400  0 'eJIVSM_13_BSM_.grd'   2.60  5.00  2.90   680   400  0 'eJIVSM_14_BSM_.grd'   2.65  5.50  3.20   680   400  0 'eJIVSM_15_UPC_.grd'   2.70  5.80  3.40   680   400  0 'eJIVSM_16_LWC_.grd'   2.80  6.40  3.80   680   400  0 'eJIVSM_17_CTM_.grd'   3.20  7.50  4.50   850   500  0 'eJIVSM_18_PH2_.grd'   2.40  5.00  2.90   340   200  1 'eJIVSM_19_PH3_.grd'   2.90  6.80  4.00   510   300  0 'eJIVSM_20_PHM_.grd'   3.20  8.00  4.70   850   500  0 'eJIVSM_21_PA2_.grd'   2.60  5.40  2.80   340   200  2 'eJIVSM_22_PA3_.grd'   2.80  6.50  3.50   510   300  0 'eJIVSM_23_PAM_.grd'   3.40  8.10  4.60   850   500  0 </code></pre> <ul> <li> <p><code>node_grd</code>: \u30c7\u30fc\u30bf\u8aad\u307f\u8fbc\u307f\u62c5\u5f53\u30ce\u30fc\u30c9\uff0e\u3059\u3079\u3066\u306e\u5c64\u69cb\u9020\u30d5\u30a1\u30a4\u30eb\u306f\u3053\u3053\u3067\u6307\u5b9a\u3055\u308c\u305f\u30ce\u30fc\u30c9\u304b\u3089\u8aad\u307f\u8fbc\u307e\u308c\uff0cMPI\u306b\u3088\u3063\u3066\u5168\u30ce\u30fc\u30c9\u306b\u30c7\u30fc\u30bf\u8ee2\u9001\u3055\u308c\u308b\uff0e</p> </li> <li> <p><code>is_ocean</code> : \u6d77\u6c34\u30e2\u30fc\u30c9\uff0e<code>.true.</code>\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09\u306e\u5834\u5408z=0\u3088\u308a\u5730\u8868\u9762\u307e\u3067\u306f\u6d77\u6c34\u3067\u6e80\u305f\u3055\u308c\u308b\uff0e<code>.false.</code>\u306e\u5834\u5408\u306b\u306f\u6d77\u5e95\u9762\u306e\u4e0a\u306f\u3059\u3079\u3066\u7a7a\u6c17\u3068\u306a\u308a\uff0c\u6d77\u5e95\u304c\u81ea\u7531\u8868\u9762\u3068\u3057\u3066\u53d6\u308a\u6271\u308f\u308c\u308b\uff0e</p> </li> <li> <p><code>topo_flatten</code> : \u5730\u5f62\u5909\u5316\u3092\u5f37\u5236\u7684\u306b\u5e73\u5766\u306b\u3059\u308b\uff0e\u305d\u306e\u5206\u5730\u4e0b\u69cb\u9020\u3082\u30aa\u30d5\u30bb\u30c3\u30c8\u3055\u308c\u308b\uff0e</p> </li> </ul> <p><code>topo_flatten</code> \u540d\u79f0\u5909\u66f4\u306e\u6ce8\u610f</p> <p>\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306fVersion 5.1\u307e\u3067\u306f <code>is_flatten</code> \u3067\u3042\u3063\u305f\u304c\uff0cVersion 5.2\u3067\u5b9f\u88c5\u3055\u308c\u305f <code>earth_flattening</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u306e\u6df7\u540c\u3092\u907f\u3051\u308b\u305f\u3081\u540d\u524d\u304c\u5909\u66f4\u3055\u308c\u305f\uff0e</p> <code>\u2019user\u2019</code> <code>src/swpc_*/m_vmodel_user.F90</code> \u5185\u306e\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3\u3067\u30e6\u30fc\u30b6\u30fc\u304c\u5b9a\u7fa9\u3059\u308b\u901f\u5ea6\u69cb\u9020\u304c\u8aad\u307f\u8fbc\u307e\u308c\u308b\uff0e\u3053\u306eF90\u30d5\u30a1\u30a4\u30eb\u3092\u5909\u66f4\u3057\u305f\u5834\u5408\u306b\u306f\u518d\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u5fc5\u8981\u3068\u306a\u308b\uff0e\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3\u306e\u5f15\u6570\u306b\u3064\u3044\u3066\u306f\u30d5\u30a1\u30a4\u30eb\u5185\u30b3\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u306e\u3053\u3068\uff0e <code>vcut</code> \u30ab\u30c3\u30c8\u30aa\u30d5\u901f\u5ea6\uff0e<code>\u2019lhm\u2019</code>\u306a\u3089\u3073\u306b<code>\u2019grd\u2019</code>\u69cb\u9020\u3067\uff0c\u3053\u306e\u5024\u3088\u308a\u3082\u5c0f\u3055\u306a\u901f\u5ea6\u5024\u304c\u4e0e\u3048\u3089\u308c\u305f\u5834\u5408\u306b\u306f\uff0c\u305d\u308c\u3092\u5f37\u5236\u7684\u306b<code>vcut</code>\u306b\u7f6e\u304d\u63db\u3048\u308b\uff0e\u4f4e\u901f\u5ea6\u57df\u3092\u6392\u9664\u3057\u3066\u6ce2\u9577\u3068\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba\u306e\u6bd4\u3092\u4e00\u5b9a\u4ee5\u4e0a\u306b\u4fdd\u3064\u305f\u3081\u306b\u7528\u3044\u3089\u308c\u308b\uff0e\u3053\u306e\u5024\u304c0\u306e\u5834\u5408\u306b\u306f\u7f6e\u304d\u63db\u3048\u306f\u5b9f\u65bd\u3055\u308c\u306a\u3044\uff0e\u307e\u305f\uff0c\u6d77\u6c34\u5c64\uff08\\mu=0\uff09\u306e\u901f\u5ea6\u306b\u306f\u9069\u7528\u3055\u308c\u306a\u3044\uff0e <code>munk_profile</code> (new in version 5.2) <code>.true.</code> \u306e\u3068\u304d\uff0c\u6d77\u6c34\u5c64\u4e2d\u306b\u6975\u5c0f\u5024\u3092\u6301\u3064Munk's profile\u304c\u9069\u7528\u3055\u308c\u308b\uff0e<code>.false.</code>\u3067\u3042\u308c\u3070\u4e00\u5b9a\u5024\u304c\u7528\u3044\u3089\u308c\u308b\uff0e\u6b21\u7bc0\u306e\u8aac\u660e\u3092\u53c2\u7167\u306e\u3053\u3068\uff0e <code>earth_flattening</code> (new in version 5.2) <code>.true.</code>\u306e\u3068\u304dEarth-flattening tranformation (e.g., Aki and Richards, Box 9.2) \u306b\u3088\u308a\uff0c\u30c7\u30ab\u30eb\u30c8\u5ea7\u6a19\u7cfb\u3092\u7403\u6bbb\u69cb\u9020\u306b\u5bfe\u5fdc\u3059\u308b\u6df1\u3055\u3068\u901f\u5ea6\u306e\u975e\u7dda\u5f62\u5909\u63db\u3092\u884c\u3046\uff0e\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u9577\u8ddd\u96e2\uff08~500 km\u4ee5\u4e0a\uff09\u3084\u6df1\u767a\u5730\u9707\u306e\u5230\u9054\u6642\u523b\u306e\u6b63\u78ba\u306a\u518d\u73fe\u306b\u7279\u306b\u6709\u7528\u3067\u3042\u308b\uff0e\u305f\u3060\u3057\uff0cP-SV\u30683D\u69cb\u9020\u3067\u306f\u3053\u306e\u5909\u63db\u306f\u53b3\u5bc6\u3067\u306f\u306a\u3044\u3053\u3068\u306b\u6ce8\u610f\uff0e <p>Warning</p> <p>Version 5.2\u306b\u304a\u3051\u308b<code>earth_flattening</code>\u30e2\u30fc\u30c9\u306e\u5b9f\u88c5\u306f\u307e\u3060\u8a66\u9a13\u6bb5\u968e\u3067\u3042\u308b\uff0e\u5229\u7528\u306b\u306f\u5341\u5206\u6ce8\u610f\u3059\u308b\u3053\u3068\uff0e</p>"},{"location":"ja/2._Parameters/0206_vmodel/#_3","title":"\u7a7a\u6c17\u304a\u3088\u3073\u6d77\u6c34\u5c64\u306e\u53d6\u308a\u6271\u3044","text":"<p><code>OpenSWPC</code> \u3067\u306f\uff0c\u7a7a\u6c17\u5c64\u306f\u5bc6\u5ea6 \\rho=0.001 [g/cm{}^3]\uff0c\u5730\u9707\u6ce2\u901f\u5ea6V_P=V_S=0 [km/s]\uff0c\u5185\u90e8\u6e1b\u8870Q_P = Q_S = 10^{10}\u3092\u305d\u308c\u305e\u308c\u4eee\u5b9a\u3057\u3066\u3044\u308b\uff0e \u7a7a\u6c17\u5c64\u306f\u4e8b\u5b9f\u4e0a\u771f\u7a7a\u3068\u3057\u3066\u6271\u3048\u308b\u307b\u3069\u306b\u5c0f\u3055\u306a\u5bc6\u5ea6\u3092\u6301\u3061\uff0c\u304b\u3064\u5730\u9707\u6ce2\u901f\u5ea6\u304c0\u3067\u3042\u308b\u305f\u3081\uff0c\u7a7a\u4e2d\u97f3\u6ce2\u306f\u4f1d\u64ad\u3057\u306a\u3044\uff0e \u5f93\u3063\u3066\uff0c\u7a7a\u6c17\u5c64\u4e2d\u306eQ\u5024\u306f\u7d50\u679c\u306b\u5f71\u97ff\u3057\u306a\u3044\uff0e \u305f\u3060\u3057\uff0c\u8a08\u7b97\u30b3\u30fc\u30c9\u4e2d\u306b\u5bc6\u5ea6\u306e\u9006\u6570\u3092\u6c42\u3081\u308b\u6f14\u7b97\u304c\u3042\u308b\u305f\u3081\uff0c\u7a7a\u6c17\u5c64\u306e\u5bc6\u5ea6\u306f\u30bc\u30ed\u306b\u3057\u3066\u306f\u306a\u3089\u306a\u3044\uff0e</p> <p>\u6d77\u6c34\u5c64\u3067\u306f\\rho=1.0 [g/cm{}^3], V_S=0.0 [km/s], Q_P = Q_S = 10^6\u3092\u7528\u3044\u3066\u3044\u308b\uff0e \u6d77\u4e2d\u97f3\u6ce2\u306e\u6e1b\u8870\u306f\u975e\u5e38\u306b\u5c0f\u3055\u3044\u3053\u3068\u304c\u77e5\u3089\u308c\u3066\u304a\u308a\uff0c\u4e8b\u5b9f\u4e0a\u7121\u6e1b\u8870\u306b\u306a\u308b\u3088\u3046\u306aQ\u5024\u3092\u5c0e\u5165\u3057\u3066\u3044\u308b\uff0e \u307e\u305f\uff0cP\u6ce2\u901f\u5ea6\u306fV_P=1.5 [km/s] \u3067\u3042\u308b\u304c\uff0cVersion 5.2 \u4ee5\u964d\u3067\u306f <code>munk_profile = .true.</code> \u306b\u3059\u308b\u3053\u3068\u306b\u3088\u308a\uff0c\u4ee5\u4e0b\u306e\u5f0f\u3067\u5b9a\u307e\u308b Munk's profile \u3092\u7528\u3044\u308b\u3053\u3068\u3082\u3067\u304d\u308b\uff0e</p> \\begin{align*} &amp;V_P(z) = 1.5 \\times \\left[ 1.0 + 0.00737 \\left( z_b - 1 + e^{-zb} \\right) \\right] \\text{[m/s]}\\\\ &amp;z_b = 2(z-1.3) /1.3 \\end{align*} <p>\u305f\u3060\u3057z\u306e\u5358\u4f4d\u306f[km]\u3067\u3042\u308b\uff0e\u3053\u306e\u69cb\u9020\u306f\u6c34\u6df11,300 m\u306bSOFAR\u30c1\u30e3\u30cd\u30eb\u306b\u8a72\u5f53\u3059\u308b\u6975\u5c0f\u3092\u6301\u3064\uff0e\u3053\u306e\u30d1\u30e9\u30e1\u30bf\u304c<code>.false.</code>\u306e\u5834\u5408\u306b\u306fV_P = 1.5 [km/s]\u306e\u4e00\u69d8\u306a\u5024\u304c\u7528\u3044\u3089\u308c\u308b\uff0e</p> <p>\u5730\u8868\u306a\u3089\u3073\u306b\u6d77\u5e95\u9762\u3067\u306f\uff0c\u5dee\u5206\u5f0f\u30922\u6b21\u7cbe\u5ea6\u5909\u66f4\u3059\u308b\u5883\u754c\u6761\u4ef6\u304c\u9069\u7528\u3055\u308c\u308b\uff08e.g., Okamoto and Takenaka, 20051; Maeda and Furumura, 20032\uff09\uff0e\u6d77\u5e95\u306a\u3089\u3073\u306b\u5730\u8868\u306e\u5883\u754c\u306f\uff0c\\mu\u3068\\lambda\u304c\u6709\u9650\u306e\u5024\u304b\u30890\u306b\u306a\u308b\uff0c\u3068\u3044\u3046\u6761\u4ef6\u3092\u7528\u3044\u3066\u81ea\u52d5\u7684\u306b\u62bd\u51fa\u3055\u308c\u308b\uff0e</p>"},{"location":"ja/2._Parameters/0206_vmodel/#_4","title":"\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u306e\u91cd\u7573","text":"<p>\u901f\u5ea6\u69cb\u9020<code>\u2019uni\u2019</code>, <code>\u2019lhm\u2019</code>, <code>\u2019grd\u2019</code>\u305d\u308c\u305e\u308c\u306b\u5bfe\u3057\u3066\uff0c\u5e73\u5747\u901f\u5ea6\u3092\u6210\u5c64\u69cb\u9020\u3067\u3042\u305f\u3048\uff0c\u305d\u308c\u306b\u5225\u9014\u751f\u6210\u3057\u305f\u30e9\u30f3\u30c0\u30e0\u306a\u77ed\u6ce2\u9577\u901f\u5ea6\u3086\u3089\u304e\u3092\u91cd\u7573\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0e\u30e9\u30f3\u30c0\u30e0\u306a\u901f\u5ea6\u3086\u3089\u304e\\xi\u3092\u4e8b\u524d\u306b\u751f\u6210\u3057\u3066\u304a\u304d\uff0c\u5225\u9014\u5b9a\u7fa9\u3055\u308c\u308b\u5e73\u5747\u7684\u901f\u5ea6\u69cb\u9020V_{P0}, V_{S0}, \\rho_0\u306b\u5bfe\u3057\u3066\uff0c  \\begin{align}   V_P = V_{P0} \\left( 1 + \\xi \\right) , \\, V_S = V_{S0} \\left( 1 + \\xi \\right) , \\,   \\rho = \\rho_0 \\left( 1 + \\nu \\xi \\right) \\end{align} \u306e\u3088\u3046\u306b\u3086\u3089\u304e\u3092\u4e0e\u3048\u308b\uff0e\u305f\u3060\u3057\uff0c\u3053\u3053\u3067\u306f\\nu=0.8\u3068\u3059\u308bBirch\u5247\u3092\u63a1\u7528\u3057\u3066\u3044\u308b\uff08Sato et al., 20123\uff09.</p> <p>\u901f\u5ea6\u69cb\u9020\u306e\u6307\u5b9a\u6cd5\u306f\uff0c\u80cc\u666f\u3068\u306a\u308b\u5e73\u5747\u901f\u5ea6\u30e2\u30c7\u30eb\u306b\u5fdc\u3058\u3066\uff0c<code>vmodel_type=\u2019uni_rmed\u2019</code>, <code>\u2019lhm_rmed\u2019</code>, <code>\u2019grd_rmed\u2019</code>\u306e3\u7a2e\u985e\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\uff0e\u307e\u305f\uff0c\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u306e\u751f\u6210\u306e\u305f\u3081\u306b\u5225\u30c4\u30fc\u30eb \u304c\u63d0\u4f9b\u3055\u308c\u308b\uff0e</p> <p>\u4ee5\u4e0b\u3067\u89e3\u8aac\u3059\u308b3\u30e2\u30c7\u30eb\u306b\u5171\u901a\u306e\u30d1\u30e9\u30e1\u30bf\u3068\u3057\u3066\uff0c\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30bf\u3092\u7528\u3044\u308b\uff0e</p> <p>Parameters</p> <code>dir_rmed</code> \u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u30c7\u30fc\u30bf\u683c\u7d0d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea <p>\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u306f3\u6b21\u5143\u3082\u3057\u304f\u306f2\u6b21\u5143\u306e<code>NetCDF</code>\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u4e0e\u3048\u3089\u308c\uff0c\u30b0\u30ea\u30c3\u30c9\u6bce\u306e\u901f\u5ea6\u3086\u3089\u304e\u7387\\xi(I,J,K)\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\uff0e\u4e26\u5217\u8a08\u7b97\u306e\u305f\u3081\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u5272\u3059\u308b\u5fc5\u8981\u306f\u7121\u304f\uff0c\u8a08\u7b97\u306e\u5404\u30ce\u30fc\u30c9\u304c\uff0c\u81ea\u30ce\u30fc\u30c9\u306e\u8a08\u7b97\u62c5\u5f53\u9818\u57df\u306e<code>(i,j,k)</code>\u7bc4\u56f2\u306b\u76f8\u5f53\u3059\u308b\u30c7\u30fc\u30bf\u3092\u81ea\u52d5\u7684\u306b\u62bd\u51fa\u3059\u308b\uff0e\u8a08\u7b97\u30b5\u30a4\u30ba<code>Nx,Ny,Nz</code>\u304c\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u30d5\u30a1\u30a4\u30eb\u306e\u6b21\u5143\u9577\u3088\u308a\u3082\u5927\u304d\u3044\u5834\u5408\u306b\u306f\uff0c\u5468\u671f\u7684\u5883\u754c\u6761\u4ef6\u306b\u3088\u3063\u3066\u540c\u3058\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u3092\u7e70\u308a\u8fd4\u3057\u3066\u30e2\u30c7\u30eb\u9818\u57df\u5168\u4f53\u3092\u57cb\u3081\u308b\uff0e\u5b9f\u884c\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\uff0c\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u306e\u7a7a\u9593\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba\u3068\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba\u304c\u4e00\u81f4\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3057\u306a\u3044\uff0e\u8a08\u7b97\u306e\u7a7a\u9593\u683c\u5b50\u30b5\u30a4\u30ba\u3092\u5909\u66f4\u3057\u305f\u5834\u5408\uff0c\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u3082\u4f5c\u6210\u3057\u76f4\u3059\u5fc5\u8981\u304c\u3042\u308b\uff0e \u306a\u304a\uff0c2\u6b21\u5143\u8a08\u7b97\u306e\u30b3\u30fc\u30c9\u306b3\u6b21\u5143\u306e\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u30d0\u30a4\u30ca\u30ea\u3092\u7528\u3044\u308b\u3053\u3068\u306f\u53ef\u80fd\u3067\u3042\u308b\uff08\u305d\u306e\u5834\u5408<code>k=1</code>\u306e\u65ad\u9762\u304c\u5229\u7528\u3055\u308c\u308b\uff09\u304c\uff0c\u305d\u306e\u9006\u306f\u8a31\u3055\u308c\u306a\u3044\uff0e</p>"},{"location":"ja/2._Parameters/0206_vmodel/#_5","title":"\u4e00\u69d8\u5747\u8cea\uff0b\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea","text":"<p><code>vmodel=uni_rmed</code>\u3092\u7528\u3044\u308b\uff0e<code>vmodel=\u2019uni\u2019</code>\u306e\u30d1\u30e9\u30e1\u30bf\u306b\u52a0\u3048\u3066\uff0c\u4ee5\u4e0b\u304c\u5fc5\u8981\u3068\u306a\u308b\uff0e</p> <p>Parameters</p> <code>fn_rmed0</code> \u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u30d5\u30a1\u30a4\u30eb\u540d <p>\u3053\u306e\u30e2\u30c7\u30eb\u3067\u306f\uff0c\u5e73\u5747\u901f\u5ea6\u306b<code>fn_rmed0</code>\u3067\u4e0e\u3048\u3089\u308c\u305f\u3086\u3089\u304e\u3092\u91cd\u7573\u3055\u305b\u308b\uff0e\u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306b\u306f\u3086\u3089\u304e\u304c0\u3067\u3042\u308b\u3068\u898b\u306a\u3059\uff0e</p>"},{"location":"ja/2._Parameters/0206_vmodel/#_6","title":"\u6c34\u5e73\u6210\u5c64\uff0b\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea","text":"<p><code>vmodel=lhm_rmed</code>\u3067\u306f\uff0c<code>vmodel=\u2019lhm\u2019</code>\u306e\u6210\u5c64\u69cb\u9020\u306e\u5404\u5c64\u306b\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u3092\u91cd\u7573\u3055\u305b\u308b\uff0e\u305d\u306e\u969b\uff0c\u5404\u5c64\u306b\u7570\u306a\u308b\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u3092\u91cd\u7573\u3055\u305b\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3042\u308b\uff0e\u3053\u306e\u30e2\u30c7\u30eb\u3067\u306f\uff0c<code>fn_lhm</code>\u306e\u304b\u308f\u308a\u306b\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30bf\u3092\u7528\u3044\u308b\uff1a</p> <p>Parameters</p> <code>fn_lhm_rmed</code> \u69cb\u9020\u30ea\u30b9\u30c8 <p>\u69cb\u9020\u30ea\u30b9\u30c8\u306f<code>fn_lhm</code>\u306b\u6e96\u3058\u305f\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u53d6\u308b\u304c\uff0c\u305d\u306e\u6700\u53f3\u6b04\u306b\uff0c\u4ee5\u4e0b\u306e\u4f8b\u306e\u3088\u3046\u306b\u5404\u5c64\u306e\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u8a18\u8f09\u3059\u308b\uff0e</p> <pre><code># depth  rho(g/cm^3)  vp(km/s)   vs(km/s)     Qp      Qs     fn_rmed\n# ----------------------------------------------------------------------\n0        2.300      5.50      3.14     600     300     rmedia1.nc\n3        2.400      6.00      3.55     600     300     rmedia1.nc\n18        2.800      6.70      3.83     600     300     rmedia2.nc\n33        3.200      7.80      4.46     600     300     rmedia2.nc\n100        3.300      8.00      4.57     600     300     -\n225        3.400      8.40      4.80     600     300     -\n325        3.500      8.60      4.91     600     300     -\n425        3.700      9.30      5.31     600     300     -\n</code></pre> <p>\u3053\u306e\u4f8b\u3067\u306f\uff0c0 km\u30683 km\u306e\u5c64\u306b<code>rmedia1.nc</code>, 18 km\u306833 km\u306e\u5c64\u306b<code>rmedia2.nc</code>\u3092\u914d\u7f6e\u3059\u308b\uff0e\u305d\u308c\u3088\u308a\u6df1\u3044\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u30c0\u30df\u30fc\u6587\u5b57<code>\"-\"</code>\u304c\u66f8\u304b\u308c\u3066\u3044\u308b\uff0e\u8a72\u5f53\u3059\u308b\u540d\u524d\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3057\u306a\u3051\u308c\u3070\uff0c\u3053\u308c\u3089\u306e\u9818\u57df\u306b\u306f\u901f\u5ea6\u3086\u3089\u304e\u306f\u91cd\u7573\u3055\u308c\u306a\u3044\uff0e \u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u30d5\u30a1\u30a4\u30eb\u306f<code>dir_rmed</code>\u304b\u3089\u63a2\u3055\u308c\u308b\uff0e \u30d1\u30e9\u30e1\u30bf<code>dir_rmed</code>\u3092\u7528\u3044\u305a\u306b<code>fn_lhm</code>\u306e\u6b04\u306b\u76f4\u63a5\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u3092\u66f8\u3044\u3066\u3082\u304b\u307e\u308f\u306a\u3044\u304c\uff0c\u305d\u306e\u5834\u5408\u306f\u304b\u306a\u3089\u305a\u30d5\u30a1\u30a4\u30eb\u540d\u5168\u4f53\u3092\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u62ec\u308b\u3053\u3068\uff0e \u3086\u3089\u304e\u4e0e\u3048\u306a\u3044\u5834\u5408\u306b\u3082\uff0c\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u30d5\u30a1\u30a4\u30eb\u306e\u6b04\u306b\u306f\u4f55\u3089\u304b\u306e\u6587\u5b57\u304c\u66f8\u304b\u308c\u3066\u3044\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\uff0e\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u6b04\u304c\u7a7a\u767d\u3060\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\uff0e</p>"},{"location":"ja/2._Parameters/0206_vmodel/#3","title":"3\u6b21\u5143\u30e9\u30f3\u30c0\u30e0\u4e0d\u5747\u8cea\u69cb\u9020","text":"<p><code>vmodel=grd_rmed</code>\u3067\u306f\uff0c<code>vmodel=\u2019grd\u2019</code>\u306e\u6210\u5c64\u69cb\u9020\u306e\u5404\u5c64\u306b\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u3092\u91cd\u7573\u3055\u305b\u308b\uff0e\u5404\u5c64\u306b\u7570\u306a\u308b\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u3092\u91cd\u7573\u3055\u305b\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3042\u308a\uff0c\u304b\u3064\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u306ek\uff08\u925b\u76f4\uff09\u65b9\u5411\u306e\u57fa\u6e96\u4f4d\u7f6e\u3092\u4efb\u610f\u306e\u5c64\u5883\u754c\u306b\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3042\u308b\uff0e \u3053\u306e\u30e2\u30c7\u30eb\u3067\u306f\uff0c<code>fn_grd</code>\u306e\u304b\u308f\u308a\u306b\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30bf\u3092\u7528\u3044\u308b\uff0e</p> <p>Parameters</p> <code>fn_grdlst_rmed</code> \u69cb\u9020\u30ea\u30b9\u30c8 <p>\u69cb\u9020\u30ea\u30b9\u30c8\u306f<code>fn_grdlst</code>\u306b\u6e96\u3058\u305f\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u53d6\u308b\u304c\uff0c\u4ee5\u4e0b\u306e\u4f8b\u306e\u3088\u3046\u306b\uff0c\u53f3\u6b04\u306b\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u30d5\u30a1\u30a4\u30eb\u540d\u3068\u57fa\u6e96\u5c64\u306e\u756a\u53f7\u3092\u8a18\u8ff0\u3059\u308b\uff0e</p> <pre><code># grd filename          rho    vp    vs   QP   QS  sw  fn_rmed      ref\n# -----------------------------------------------------------------------\n'eJIVSM_01_TAB_.grd'   1.80  1.70  0.35   119    70  0 'rmed3d_1.nc' 0\n'eJIVSM_02_BSM_.grd'   1.95  1.80  0.50   170   100  0 'rmed3d_1.nc' 0\n'eJIVSM_03_BSM_.grd'   2.00  2.00  0.60   204   120  0 'rmed3d_1.nc' 0\n'eJIVSM_04_BSM_.grd'   2.05  2.10  0.70   238   140  0 'rmed3d_1.nc' 0\n'eJIVSM_05_BSM_.grd'   2.07  2.20  0.80   272   160  0 'rmed3d_1.nc' 0\n'eJIVSM_06_BSM_.grd'   2.10  2.30  0.90   306   180  0 'rmed3d_1.nc' 0\n'eJIVSM_07_BSM_.grd'   2.15  2.40  1.00   340   200  0 'rmed3d_1.nc' 0\n'eJIVSM_08_BSM_.grd'   2.20  2.70  1.30   442   260  0 'rmed3d_1.nc' 0\n'eJIVSM_09_BSM_.grd'   2.25  3.00  1.50   510   300  0 'rmed3d_1.nc' 0\n'eJIVSM_10_BSM_.grd'   2.30  3.20  1.70   578   340  0 'rmed3d_1.nc' 0\n'eJIVSM_11_BSM_.grd'   2.35  3.50  2.00   680   400  0 'rmed3d_1.nc' 0\n'eJIVSM_12_BSM_.grd'   2.45  4.20  2.40   680   400  0 'rmed3d_1.nc' 0\n'eJIVSM_13_BSM_.grd'   2.60  5.00  2.90   680   400  0 'rmed3d_1.nc' 0\n'eJIVSM_14_BSM_.grd'   2.65  5.50  3.20   680   400  0 'rmed3d_1.nc' 0\n'eJIVSM_15_UPC_.grd'   2.70  5.80  3.40   680   400  0 'rmed3d_1.nc' 0\n'eJIVSM_16_LWC_.grd'   2.80  6.40  3.80   680   400  0 'rmed3d_3.nc' 0\n'eJIVSM_17_CTM_.grd'   3.20  7.50  4.50   850   500  0 'rmed3d_3.nc' 0\n'eJIVSM_18_PH2_.grd'   2.40  5.00  2.90   340   200  1 'rmed3d_2.nc' 18\n'eJIVSM_19_PH3_.grd'   2.90  6.80  4.00   510   300  0 'rmed3d_2.nc' 18\n'eJIVSM_20_PHM_.grd'   3.20  8.00  4.70   850   500  0 'rmed3d_3.nc' 18\n'eJIVSM_21_PA2_.grd'   2.60  5.40  2.80   340   200  2 'rmed3d_2.nc' 21\n'eJIVSM_22_PA3_.grd'   2.80  6.50  3.50   510   300  0 'rmed3d_2.nc' 21\n'eJIVSM_23_PAM_.grd'   3.40  8.10  4.60   850   500  0 'rmed3d_3.nc' 21\n</code></pre> <p>\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u8a18\u8f09\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f<code>lhm_rmed</code>\u306e\u5834\u5408\u3068\u540c\u69d8\u3067\u3042\u308b\uff0e</p> <p>\u6700\u53f3\u6b04\u306e\u6570\u5b57\u3067\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u5c64\u306e\u925b\u76f4\u65b9\u5411\u306e\u57fa\u6e96\u3068\u306a\u308b\u9762\u3092\u6307\u5b9a\u3059\u308b\uff0e \u3053\u306e\u5024\u304c0\u3067\u3042\u308c\u3070\uff0c<code>uni_rmed</code>\u3084<code>lhm_rmed</code>\u306a\u3069\u3068\u540c\u69d8\u306b\u30e2\u30c7\u30eb\u306e\u925b\u76f4\u65b9\u5411\u306e\u30b0\u30ea\u30c3\u30c9\u4f4d\u7f6e\u306e\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u304c\u305d\u306e\u307e\u307e\u7528\u3044\u3089\u308c\u308b\uff0e\u3053\u3053\u306b\u975e\u30bc\u30ed\u306e\u5024<code>NR</code>\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\uff0c<code>NR</code>\u756a\u76ee\u306e\u5c64\u306e\u4e0a\u9762\u4f4d\u7f6e\u304b\u3089\u306e\u76f8\u5bfe\u30b0\u30ea\u30c3\u30c9\u4f4d\u7f6e\u306e\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u304c\u7528\u3044\u3089\u308c\u308b\u3088\u3046\u306b\u306a\u308b\uff0e\u305f\u3068\u3048\u3070\u4e0a\u8a18\u306e\u4f8b\u3067\u306f\uff0c\u7b2c18\u5c64\u304b\u308920\u5c64\u307e\u3067\u306f18\u5c64\u76ee\u304c\uff0c21\u304b\u308923\u5c64\u306f21\u5c64\u306e\u305d\u308c\u305e\u308c\u30d7\u30ec\u30fc\u30c8\u4e0a\u9762\u304c\u57fa\u6e96\u5024\u306b\u306a\u3063\u3066\u3044\u308b\uff0e\u3053\u308c\u306b\u3088\u308a\uff0c\u30d7\u30ec\u30fc\u30c8\u5185\u306e\u4e0d\u5747\u8cea\u69cb\u9020\u306f\u6c34\u5e73\u9762\u3067\u306f\u306a\u304f\uff0c\u30d7\u30ec\u30fc\u30c8\u6b63\u9762\u306b\u6cbf\u3063\u305f\u659c\u3081\u306e\u3086\u3089\u304e\u69cb\u9020\u3092\u5c0e\u5165\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0e</p>"},{"location":"ja/2._Parameters/0206_vmodel/#_7","title":"\u901f\u5ea6\u3086\u3089\u304e\u306e\u6253\u3061\u5207\u308a","text":"<p>\u901f\u5ea6\u3086\u3089\u304e\u306e\u30d1\u30e9\u30e1\u30bf\\epsilon\u304c\u5927\u304d\u304f\u306a\u308b\u3068\uff0c\u5c40\u6240\u7684\u306b\u975e\u5e38\u306b\u5730\u9707\u6ce2\u901f\u5ea6\u304c\u5927\u304d\u304f\u3042\u308b\u3044\u306f\u5c0f\u3055\u304f\u306a\u308a\uff0c\u4ee5\u4e0b\u306e3\u30b1\u30fc\u30b9\u3067\u8a08\u7b97\u304c\u4e0d\u53ef\u80fd\u306b\u306a\u308b\u3053\u3068\u304c\u3042\u308b\uff0e</p> <ol> <li> <p>\\xi&gt;0\u306e\u5834\u5408\u306bV=(1+\\xi)V_0\u304c\u5dee\u5206\u6cd5\u306e\u5b89\u5b9a\u6761\u4ef6\u304b\u3089\u8a31\u5bb9\u3055\u308c\u308b\u6700\u5927\u901f\u5ea6\u3092\u8d85\u3048\u308b\uff0e</p> </li> <li> <p>\\xi&lt;-1.0\u306e\u5834\u5408\uff0c\u5730\u9707\u6ce2\u901f\u5ea6\u304c\u7269\u7406\u7684\u306b\u3042\u308a\u3048\u306a\u3044\u8ca0\u306e\u5024\u3092\u53d6\u308b\uff0e</p> </li> <li> <p>\\xi&lt;-1.25\u306e\u5834\u5408\uff0c\u5bc6\u5ea6\u304c\u7269\u7406\u7684\u306b\u3042\u308a\u3048\u306a\u3044\u8ca0\u306e\u5024\u3092\u53d6\u308b\uff0e</p> </li> </ol> <p>\u305d\u3053\u3067\uff0c<code>OpenSWPC</code>\u3067\u306f\uff0c\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u3092\u9802\u4e0a\u3055\u305b\u305f\u7d50\u679c\u306e\u901f\u5ea6\u3092 <code>vcut</code>\\le v \\le 0.95 \\times v_\\text{max} \u306b\u5236\u9650\u3059\u308b\uff0e\u3053\u3053\u3067<code>vcut</code>\u306f\u4f4e\u901f\u5ea6\u6253\u3061\u5207\u308a\u306e\u305f\u3081\u306e\u5165\u529b\u30d1\u30e9\u30e1\u30bf\uff0cv_\\text{max}\u306f\u5b89\u5b9a\u6761\u4ef6\u304b\u3089\u8a31\u5bb9\u3055\u308c\u308b\u6700\u5927\u901f\u5ea6\uff08\u81ea\u52d5\u7684\u306b\u8a08\u7b97\uff09\u3067\u3042\u308b\uff0e\u3055\u3089\u306b\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30bf\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\uff0c\u5bc6\u5ea6\u304c\u8ca0\u306b\u306a\u308b\u3053\u3068\u3092\u9632\u6b62\u3057\u3066\u3044\u308b\uff0e</p> <p>Parameters</p> <code>rhomin</code> \u6700\u4f4e\u5bc6\u5ea6\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u306f1.0 g/cm{}^3\uff09 <ol> <li> <p>Okamoto, T., and H. Takenaka (2005). Fluid-solid boundary implementation in the velocity-stress finite- difference method, Zisin 2, 57, 355\u2013364, doi:10.4294/zisin1948.57.3_355. (in Japanese with English Abstract) (article link) \u21a9</p> </li> <li> <p>Maeda, T., and T. Furumura (2013), FDM simulation of seismic waves, ocean acoustic waves, and tsunamis based on tsunami-coupled equations of motion, Pure Appl. Geophys., 170(1-2), 109\u2013127, doi:10.1007/s00024-011-0430-z. (article link) \u21a9</p> </li> <li> <p>Sato, H., M. C. Fehler, and T. Maeda (2012), Seismic Wave Propagation and Scattering in the Heterogeneous Earth: Second Edition, Springer Berlin Heidelberg, Berlin, Heidelberg, doi:10.1007/978-3-642-23029-5.\u00a0\u21a9</p> </li> </ol>"},{"location":"ja/2._Parameters/0207_source/","title":"\u9707\u6e90\u306e\u6307\u5b9a","text":""},{"location":"ja/2._Parameters/0207_source/#_2","title":"\u30e2\u30fc\u30e1\u30f3\u30c8\u6642\u9593\u95a2\u6570","text":"<p>\u3053\u3053\u3067\u306f\u672c\u30b3\u30fc\u30c9\u3067\u5229\u7528\u53ef\u80fd\u306a\u30e2\u30fc\u30e1\u30f3\u30c8\u6642\u9593\u95a2\u6570\uff08\u9707\u6e90\u6642\u9593\u95a2\u6570\uff09\u3068\u305d\u306e\u30b9\u30da\u30af\u30c8\u30eb\u3092\u6574\u7406\u3059\u308b\uff0e\u4ee5\u4e0b\u306e\u30e2\u30fc\u30e1\u30f3\u30c8\u6642\u9593\u95a2\u6570\u306f\uff0c\u3059\u3079\u3066\u7d99\u7d9a\u6642\u9593\uff08\u3082\u3057\u304f\u306f\u7279\u5fb4\u7684\u6642\u9593\uff09T_R\u3092\u3082\u3061\uff0c\u7dcf\u30e2\u30fc\u30e1\u30f3\u30c8\u304c1\u306b\u898f\u683c\u5316\u3055\u308c\u3066\u3044\u308b\uff0e</p> <p><code>OpenSWPC</code>\u3067\u306f\uff0c\u30d1\u30e9\u30e1\u30bf <code>stftype</code>\u306e\u9078\u629e\u306b\u3088\u308a\uff0c\u4ee5\u4e0b\u306e\u9707\u6e90\u6642\u9593\u95a2\u6570\u304c\u9078\u629e\u3067\u304d\u308b\uff0e</p> <ul> <li>Box-car function (<code>boxcar</code>)</li> </ul> \\begin{align}    \\dot{m}^ R \\left(t\\right) &amp;=     \\frac{1}{T_R}    &amp; \\begin{array}{r} ( 0 \\le t \\le T_R) \\\\ \\end{array} \\end{align} <ul> <li>Triangle function (<code>triangle</code>)</li> </ul> \\begin{align} \\dot{m}^ T \\left(t\\right)  =  \\begin{cases} 4t/T_R^2 &amp; ( 0 \\le t \\le T_R/2 ) \\\\ -4(t-T_R)/T_R^2 &amp; ( T_R/2 &lt; t \\le T_R ) \\end{cases} \\end{align} <ul> <li>Herrmann function (<code>herrmann</code>)</li> </ul> \\begin{align} \\dot{m}^ H \\left(t\\right) = \\begin{cases} 16 t^2 / T_R^3 &amp; ( 0 \\le t \\le T_R/4  ) \\\\ -2 ( 8 t^2 - 8 t T_R + T_R^2 ) / T_R^3  &amp; ( T_R/4 &lt; t \\le 3T_R/4  ) \\\\ 16 \\left( t - T_R \\right)^2 / T_R^3 &amp;  (3T_R/4 &lt; t \\le T_R  ) \\end{cases} \\end{align} <ul> <li>Cosine function (<code>cosine</code>)</li> </ul> \\begin{align} \\dot{m}^ C \\left(t\\right) = \\frac{1}{T_R} \\left[ 1 - \\cos \\left(\\frac{2 \\pi t}{T_R} \\right) \\right] \\quad ( 0 \\le t \\le T_R)  \\end{align} <ul> <li>K\u00fcpper wavelet (<code>kupper</code>)</li> </ul> \\begin{align}   \\dot{m}^K \\left( t \\right ) &amp;=    \\frac{3 \\pi}{4 T_R} \\sin^3\\left( \\frac{\\pi t}{T_R} \\right)    \\quad ( 0 \\le t \\le T_R)  \\end{align} <ul> <li>t-exp type function (<code>texp</code>)</li> </ul> \\begin{align}   \\dot{m}^{E} \\left( t \\right) &amp;= \\frac{(2 \\pi)^2 t}{T_R^2} \\exp\\left[ - \\frac{ 2 \\pi t}{T_R}\\right]   \\quad ( 0 \\le t )  \\end{align} <p>\u305d\u308c\u305e\u308c\u306e\u9707\u6e90\u6642\u9593\u95a2\u6570\u5f62\u72b6\u3068\u305d\u306e\u632f\u5e45\u30b9\u30da\u30af\u30c8\u30eb\u3092\u4e0b\u56f3\u306b\u793a\u3059\uff0e</p> <p>\u9707\u6e90\u6642\u9593\u95a2\u6570</p> <p> \u9707\u6e90\u6642\u9593\u95a2\u6570 \\dot{m}(t)\uff08\u5de6\uff09\u3068\u305d\u306e\u632f\u5e45\u30b9\u30da\u30af\u30c8\u30eb\uff08\u53f3\uff09\uff0e</p> <p>\u30e2\u30fc\u30e1\u30f3\u30c8\u6642\u9593\u95a2\u6570\u306e\u30b9\u30da\u30af\u30c8\u30eb\u306f\uff0cf\\gg 1/T_R \u306e\u6761\u4ef6\u4e0b\u3067\uff0c\u305d\u308c\u305e\u308c f^{-1} \u304b\u3089 f^{-4} \u306e\u30ed\u30fc\u30eb\u30aa\u30d5\u3092\u6301\u3064\uff0e \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u6570\u5024\u5206\u6563\u3092\u8d77\u3053\u3055\u306a\u3044\u305f\u3081\u306b\u306f\uff0c\u5bfe\u8c61\u5468\u6ce2\u6570\u5e2f\u306e\u4e0a\u9650\u3067\u5145\u5206\u306b\u9707\u6e90\u306e\u30b9\u30da\u30af\u30c8\u30eb\u304c\u5c0f\u3055\u304f\u306a\u3063\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\uff0e \u305d\u306e\u3088\u3046\u306a\u6761\u4ef6\u3092\u6e80\u305f\u3059\u6700\u5927\u5468\u6ce2\u6570\u3068\u3057\u3066\uff0c\u3053\u3053\u3067\u306ff_\\text{max}=2/T_R\uff08\u56f3\u4e2d\u8d64\u70b9\u7dda\uff09\u3092\u63a1\u7528\u3059\u308b\uff0e \u3053\u306ef_\\text{max}\u4ee5\u4e0b\u306e\u5468\u6ce2\u6570\u3067\u306f\u5206\u6563\u3092\u8d77\u3053\u3055\u306a\u3044\u3088\u3046\u306b\u30e2\u30c7\u30eb\u30d1\u30e9\u30e1\u30bf\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308c\u3070\u3088\u3044\uff0e \u4e00\u65b9\uff0c\u30b9\u30da\u30af\u30c8\u30eb\u306e\u5fdc\u7b54\u304c\u307b\u307c\u4e00\u5b9a\u306b\u306a\u308b\uff0c\u3064\u307e\u308a\u9707\u6e90\u6642\u9593\u95a2\u6570\u304c\u30c7\u30eb\u30bf\u95a2\u6570\u3068\u898b\u306a\u305b\u308b\u306e\u306f\u6982\u306df \\le 1/(2 T_R)\uff08\u56f3\u4e2d\u9752\u70b9\u7dda\uff09\u3067\u3042\u308b\uff0e</p>"},{"location":"ja/2._Parameters/0207_source/#_3","title":"\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u9707\u6e90","text":"<p>\u9707\u6e90\u30e1\u30ab\u30cb\u30ba\u30e0\u306f6\u6210\u5206\u306e\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\uff0c\u3082\u3057\u304f\u306f\u30c0\u30d6\u30eb\u30ab\u30c3\u30d7\u30eb\u9707\u6e90\u3092\u7279\u5fb4\u4ed8\u3051\u308b<code>strike</code>, <code>dip</code>, <code>rake</code>\u306e3\u3064\u306e\u89d2\u5ea6\u3067\u4e0e\u3048\u3089\u308c\u308b\uff0e\u307e\u305f\uff0c\u9707\u6e90\u4f4d\u7f6e\u3092\u8a08\u7b97\u5ea7\u6a19\u7cfb\u3082\u3057\u304f\u306f\u5730\u7406\u5ea7\u6a19\u7cfb\u3067\u3082\u4e0e\u3048\u3089\u308c\u308b\uff0e\u3055\u3089\u306b\uff0c\u9707\u6e90\u306e\u5927\u304d\u3055\u3092\u8868\u3059\u65b9\u6cd5\u306b\u5730\u9707\u30e2\u30fc\u30e1\u30f3\u30c8M_0\uff0c\u30e2\u30fc\u30e1\u30f3\u30c8\u30de\u30b0\u30cb\u30c1\u30e5\u30fc\u30c9M_W\uff0c\u3059\u3079\u308a\u91cfD\u3068\u65ad\u5c64\u9762\u7a4dS\u306e3\u901a\u308a\u304c\u3042\u308b\uff0e\u3053\u308c\u3089\u306e\u7d44\u307f\u5408\u308f\u305b\u306b\u3088\u308a\uff0c\u3042\u308f\u305b\u306610\u7a2e\u985e\u306e\u9707\u6e90\u30e1\u30ab\u30cb\u30ba\u30e0\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304c\u3042\u308b\uff0e</p> <p>\u9707\u6e90\u306f\u30e2\u30fc\u30e1\u30f3\u30c8\u6642\u9593\u95a2\u6570\u3092\u7528\u3044\u3066\u5fdc\u529b\u964d\u4e0b\u3068\u3057\u3066\u4e0e\u3048\u3089\u308c\u308b\uff0e\u8981\u7d20\u30e2\u30fc\u30e1\u30f3\u30c8\u6642\u9593\u95a2\u6570\u306f\u4e0a\u8ff0\u306e6\u7a2e\u985e\u304b\u3089\u9078\u3073\uff0c\u95a2\u6570\u540d\u3092\u30d1\u30e9\u30e1\u30bf\u3068\u3057\u3066\u4e0e\u3048\u308b\uff0e\u3069\u306e\u95a2\u6570\u3067\u3042\u3063\u3066\u3082\uff0c\u9707\u6e90\u306e\u7834\u58ca\u958b\u59cb\u6642\u9593T_0\u3068\u7d99\u7d9a\u6642\u9593T_R\uff0c\u306a\u3089\u3073\u306b\u5168\u30e2\u30fc\u30e1\u30f3\u30c8\uff08\u30e2\u30fc\u30e1\u30f3\u30c8\u6642\u9593\u95a2\u6570\u306e\u6642\u9593\u7a4d\u5206\u5024\uff09M_0\u304c\u30d1\u30e9\u30e1\u30bf\u3068\u3057\u3066\u4e0e\u3048\u3089\u308c\u308b\uff0e</p> <p><code>OpenSWPC</code>\u306f\u8907\u6570\u306e\u70b9\u9707\u6e90\u3092\u7528\u3044\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0e\u9707\u6e90\u30d5\u30a1\u30a4\u30eb\u306b\u8907\u6570\u884c\u306e\u9707\u6e90\u8981\u7d20\u304c\u3042\u308c\u3070\uff0c\u305d\u308c\u3089\u3059\u3079\u3066\u306e\u8981\u7d20\uff08\u306e\u3046\u3061\u8a08\u7b97\u30e2\u30c7\u30eb\u9818\u57df\u5185\u306b\u3042\u308b\u70b9\uff09\u304b\u3089\u5730\u9707\u52d5\u3092\u653e\u5c04\u3055\u305b\u308b\uff0e\u9707\u6e90\u4f4d\u7f6e\u3068\u7834\u58ca\u958b\u59cb\u6642\u523b\u7b49\u3092\u5c11\u3057\u305a\u3064\u305a\u3089\u3059\u3053\u3068\u306b\u3088\u308a\uff0c\u64ec\u4f3c\u7684\u306b\u6709\u9650\u65ad\u5c64\u9762\u304b\u3089\u306e\u7834\u58ca\u3092\u518d\u73fe\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3042\u308b\uff0e \u306a\u304a\uff0c\u9707\u6e90\u30d5\u30a1\u30a4\u30eb\u306f\uff0c\u305d\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u95a2\u308f\u3089\u305a\u3059\u3079\u3066<code>#</code>\u304b\u3089\u59cb\u307e\u308b\u884c\u306f\u30b3\u30e1\u30f3\u30c8\u884c\u3068\u898b\u306a\u3055\u308c\u308b\uff0e</p> <p>\u7279\u6b8a\u306a\u6761\u4ef6\u3068\u3057\u3066\uff0c\u30d1\u30e9\u30e1\u30bf<code>sdep_fit</code>\u306b\u3088\u308a\uff0c\u9707\u6e90\u4f4d\u7f6e\u3092\u901f\u5ea6\u69cb\u9020\u30e2\u30c7\u30eb\u306e\u30d7\u30ec\u30fc\u30c8\u5883\u754c\u4e0a\u306b\u7f6e\u304f\u3053\u3068\u304c\u53ef\u80fd\u3067\u3042\u308b\uff0e\u3053\u306e\u5834\u5408\u306f\uff0c\u9707\u6e90\u30d5\u30a1\u30a4\u30eb\u306e\u6df1\u3055\u6307\u5b9a\u306f\u7121\u8996\u3055\u308c\u308b\uff0e\u3053\u306e\u5834\u5408\uff0c\u69cb\u9020\u30e2\u30c7\u30eb\u306e\u6307\u5b9a\u3067\u8a72\u5f53\u3059\u308b\u756a\u53f7\u306e\u5c64\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u5fc5\u8981\u3067\u3042\u308b\uff0e</p> <p>Parameters</p> <code>stf_format</code> <p>\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u306e\u8868\u73fe\u306e\u7a2e\u5225\uff0e\u4ee5\u4e0b10\u7a2e\u985e\u304b\u3089\u9078\u3076\uff0e</p> <ul> <li> <p><code>'xym0ij'</code> :  x, y, z, T_0, T_R, M_0, m_{xx}, m_{yy},  m_{zz},  m_{yz}, m_{xz}, m_{xy} </p> </li> <li> <p><code>'xym0dc'</code>  :  x, y, z, T_0, T_R, M_0,  strike, dip, rake  </p> </li> <li> <p><code>'llm0ij'</code>   : lon, lat, z, T_0, T_R, M_0, m_{xx}, m_{yy},  m_{zz}, m_{yz}, m_{xz}, m_{xy} </p> </li> <li> <p><code>'llm0dc'</code>  :  lon, lat, z, T_0, T_R, M_0, strike, dip, rake  </p> </li> <li> <p><code>'xymwij'</code>   :  x, y, z, T_0, T_R, M_W,  m_{xx}, m_{yy}, m_{zz}, m_{yz}, m_{xz}, m_{xy} </p> </li> <li> <p><code>'xymwdc'</code> :  x, y, z, T_0, T_R, M_W, strike, dip, rake  </p> </li> <li> <p><code>'llmwij'</code>  : lon, lat, z, T_0, T_R, M_W, m_{xx}, m_{yy}, m_{zz}, m_{yz},  m_{xz},  m_{xy} </p> </li> <li> <p><code>'llmwdc'</code>  : lon, lat, z, T_0, T_R, M_W, strike, dip, rake</p> </li> <li> <p><code>'lldsdc'</code> : lon, lat, z, T_0, T_R, D, S, strike, dip, rake</p> </li> <li> <p><code>'xydsdc'</code> : x, y, z, T_0, T_R, D, S, strike, dip, rake</p> </li> <li> <p><code>'psmeca'</code> : lon, lat, z, M_{rr}, M_{tt}, M_{ff}, M_{rt}, M_{rf}, M_{tf}, iexp \u00a0 (new in v5.2)</p> </li> </ul> <p>\u305d\u308c\u305e\u308c\u306e\u91cf\u306e\u5358\u4f4d\u306f\uff0cx, y, z\u306f[km]\uff0cM_0 \u3068m_{ij} \u306f [Nm], T_0, T_R\u306f [s], \u89d2\u5ea6\u5909\u6570\u306f\u3059\u3079\u3066 [degree]\uff0c\u3059\u3079\u308a\u91cfD\u306f [m]\uff0c\u9762\u7a4dS\u306f[m{}^2]\u304c\u305d\u308c\u305e\u308c\u4eee\u5b9a\u3055\u308c\u3066\u3044\u308b\uff0e</p> <code>stftype</code> \u8981\u7d20\u9707\u6e90\u6642\u9593\u95a2\u6570\uff08\u30e2\u30fc\u30e1\u30f3\u30c8\u6642\u9593\u95a2\u6570\uff09\u306e\u7a2e\u985e\uff0e<code>'boxcar'</code>\uff08\u7bb1\u5f62\u95a2\u6570\uff09, <code>'triangle'</code>\uff08\u4e09\u89d2\u5f62\uff09, <code>'herrmann'</code>\uff08Herrmann\u95a2\u6570\uff09,<code>'kupper'</code>\uff08Kupper wavelet\uff09, <code>'cosine'</code> \uff08\\cos\u95a2\u6570\uff09, <code>'texp'</code>\uff08t \\exp\u95a2\u6570\uff09\u304b\u3089\u9078\u629e\u3059\u308b\uff0e <code>fn_stf</code> \u9707\u6e90\u60c5\u5831\u30d5\u30a1\u30a4\u30eb\uff0e\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u4e2d\u306b<code>stf_format</code>\u3067\u6307\u5b9a\u3055\u308c\u305f\u66f8\u5f0f\u3067\u9707\u6e90\u60c5\u5831\u3092\u8a18\u8f09\u3059\u308b\uff0e <code>sdep_fit</code> \u9707\u6e90\u306e\u6df1\u3055\u3092\u5f37\u5236\u7684\u306b\u5883\u754c\u306b\u5408\u308f\u305b\u308b\u304b\u3069\u3046\u304b\u306e\u6307\u5b9a\uff0e <code>'asis'</code>: \u306a\u306b\u3082\u3057\u306a\u3044\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09<code>'bd{i}'</code> (i=1,2,\\cdots9): <code>i</code>\u756a\u76ee\u306e\u5883\u754c\u306b\u5408\u308f\u305b\u308b\uff0e"},{"location":"ja/2._Parameters/0207_source/#_4","title":"\u5730\u9707\u306e\u5927\u304d\u3055\u306e\u6307\u5b9a","text":"<p>\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u6210\u5206\u3092\u76f4\u63a5\u4e0e\u3048\u308b\u5834\u5408\u306b\u306f\uff0c\u5730\u9707\u30e2\u30fc\u30e1\u30f3\u30c8M_0\u3042\u308b\u3044\u306f\u30e2\u30fc\u30e1\u30f3\u30c8\u30de\u30b0\u30cb\u30c1\u30e5\u30fc\u30c9M_W\u306e\u6307\u5b9a\u3068\uff0c\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u6210\u5206\u306e\u3042\u3044\u3060\u306b\uff0c\u5927\u304d\u3055\u306b\u95a2\u3059\u308b\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5\u304c\u3042\u308b\uff0e\u305f\u3068\u3048\u3070\uff0c\u4ee5\u4e0b\u306e2\u3064\u306e\u6307\u5b9a\u306f\u5b8c\u5168\u306b\u7b49\u4fa1\u3067\u3042\u308b\uff1a</p> M_0 m_{xx} m_{yy} m_{zz} m_{yz} m_{xz} m_{xy} <code>1e15</code> <code>1.0</code> <code>1.0</code> <code>1.0</code> <code>0.0</code> <code>0.0</code> <code>0.0</code> <code>1.0</code> <code>1e15</code> <code>1e15</code> <code>1e15</code> <code>0.0</code> <code>0.0</code> <code>0.0</code> <p>\u5165\u529b\u3055\u308c\u305f\u30d1\u30e9\u30e1\u30bf\u306b\u57fa\u3065\u304d\uff0c\u6700\u7d42\u7684\u306a\u5730\u9707\u30e2\u30fc\u30e1\u30f3\u30c8\\overline{M}_0\u306f\uff0c</p>      \\overline{M}_0 =\\times \\frac{ M_0 }{\\sqrt{2}} \\sqrt{m_{xx}^2 +m_{yy}^2 +m_{zz}^2 + 2(m_{yz}^2+m_{xz}^2+m_{xy}^2)}  <p>\u306b\u3088\u308a\u5b9a\u307e\u308b\uff0e\u3082\u3057\u8907\u6570\u306e\u70b9\u9707\u6e90\u304c\u6307\u5b9a\u3055\u308c\u308b\u5834\u5408\u306b\u306f\u4e0a\u5f0f\u306e\u3059\u3079\u3066\u306e\u5929\u9707\u6e90\u8981\u7d20\u306b\u3064\u3044\u3066\u306e\u548c\u304c\u5168\u5730\u9707\u30e2\u30fc\u30e1\u30f3\u30c8\u3068\u306a\u308b\uff0e2\u6b21\u5143P-SV, SH\u8a08\u7b97\u306e\u5834\u5408\u306b\u306f\uff0c\u305d\u308c\u305e\u308c\u306e\u65ad\u9762\u3067\u6709\u52b9\u306a\u6210\u5206\u306e\u307f\u304c\u8a55\u4fa1\u3055\u308c\u308b\uff0e\u3053\u306e\u3088\u3046\u306b\u5927\u304d\u3055\u304c\u5206\u96e2\u3067\u304d\u308b\u8a18\u6cd5\u3092\u63a1\u7528\u3057\u3066\u3044\u308b\u305f\u3081\uff0c\u901a\u5e38\u306f\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u6210\u5206\u306f</p>   \\sqrt{m_{xx}^2 +m_{yy}^2 +m_{zz}^2 + 2(m_{yz}^2+m_{xz}^2+m_{xy}^2)} = 1  <p>\u3068\u898f\u683c\u5316\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u6697\u306b\u671f\u5f85\u3055\u308c\u3066\u3044\u308b\uff0e\u304b\u306a\u3089\u305a\u3057\u3082\u305d\u3046\u3059\u308b\u5fc5\u8981\u306f\u306a\u3044\u304c\uff0c\u3053\u306e\u898f\u683c\u5316\u304c\u3055\u308c\u3066\u3044\u306a\u3044\u3068\uff0c\u30d1\u30e9\u30e1\u30bf\u3068\u3057\u3066\u5165\u529b\u3057\u305fM_W\u3084M_0\u3068\u5b9f\u969b\u306b\u8a08\u7b97\u3055\u308c\u308b\u5730\u9707\u306e\u5927\u304d\u3055\u304c\u7570\u306a\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\uff0e</p>"},{"location":"ja/2._Parameters/0207_source/#psmeca","title":"<code>psmeca</code> \u6307\u5b9a","text":"<p>GMT \u306e<code>psmeca -Sm</code> \u3084globalcmt\u3067\u6a19\u6e96\u7684\u306b\u4f7f\u308f\u308c\u3066\u3044\u308b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u9707\u6e90\u3092\u6307\u5b9a\u3059\u308b\uff0e\u6307\u5b9a\u3055\u308c\u308b\u306e\u306f\u9707\u6e90\u306e\u7def\u5ea6\u7d4c\u5ea6\u6df1\u3055\u306a\u3089\u3073\u306b\u6975\u5ea7\u6a19\u7cfb\u306b\u304a\u3051\u308b\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\uff08M_{rr}, M_{tt}, M_{ff}, M_{rt}, M_{rf}, M_{tf} \u306e\u9806\uff09\u3068\u5730\u9707\u30e2\u30fc\u30e1\u30f3\u30c8\u306e\u6307\u6570\u90e8\uff08\u6574\u6570\uff09\u3067\u3042\u308b\uff0e\u6307\u6570\u90e8\u306f\u6163\u4f8b\u306b\u5f93\u3044 dyn-cm \u5358\u4f4d\u3067\u4e0e\u3048\u3089\u308c\u308b\u3053\u3068\u306b\u6ce8\u610f\u3055\u308c\u305f\u3044\uff0e\u3053\u308c\u3089\u306e\u30d1\u30e9\u30e1\u30bf\u304cOpenSWPC\u5185\u90e8\u3067\u76f4\u4ea4\u5ea7\u6a19\u7cfb\u306b\u304a\u3051\u308b\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u306b\u5909\u63db\u3055\u308c\u3066\u8a08\u7b97\u306b\u7528\u3044\u3089\u308c\u308b\uff0e\u9707\u6e90\u306b\u304a\u3051\u308b\u7834\u58ca\u958b\u59cb\u6642\u9593T_0\u306f0\uff0c\u30e9\u30a4\u30ba\u30bf\u30a4\u30e0T_R\u306f Ekstr\u00f6m et al. (2012)[^Ekstr\u00f6m2012] \u306b\u57fa\u3065\u304d\uff0c\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0</p>   T_R = 2 \\times 1.05 \\times 10^{-8} \\times M_0^{1/3}  <p>\u306b\u3088\u3063\u3066\u5b9a\u3081\u308b\uff0e\u305f\u3060\u3057\u3053\u3053\u3067\u3082M_0\u306fdyn-cm\u5358\u4f4d\u306e\u5024\u3067\u3042\u308b\uff0e</p> <p>\u306a\u304a\uff0c\u672c\u6307\u5b9a\u306f version 5.2 \u304b\u3089\u6709\u52b9\u3068\u306a\u308b\uff0e</p> <p>\u6c34\u5e73\u56de\u8ee2\u306b\u95a2\u3059\u308b\u6ce8\u610f</p> <p>Version 5.2 \u73fe\u5728\uff0c\u30d1\u30e9\u30e1\u30bf <code>phi</code>\\neq0\u306e\u3068\u304d\uff0c\u9707\u6e90\u30e1\u30ab\u30cb\u30ba\u30e0\u3092 strike, dip, rake \u3067\u4e0e\u3048\u305f\u3068\u304d\u3068\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u3067\u4e0e\u3048\u305f\u3068\u304d\u3067\uff0c\u30e1\u30ab\u30cb\u30ba\u30e0\u306e\u56de\u8ee2\u306e\u6319\u52d5\u304c\u7570\u306a\u308b\uff0e</p> <p>\u524d\u8005 strike, dip, rake \u3067\u4e0e\u3048\u305f\u3068\u304d\u306b\u306f\uff0c<code>phi</code> \u306e\u5024\u306b\u95a2\u308f\u3089\u305a strike \u306f\u5317\u304b\u3089\u6e2c\u3063\u305f\u3082\u306e\u3068\u3057\u3066\u8a08\u7b97\u3055\u308c\u308b\uff0e\u4e00\u65b9\uff0c\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u306f\u3042\u304f\u307e\u3067\u3082\u56de\u8ee2\u5f8c\u306ex, y\u5ea7\u6a19\u306b\u5bfe\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u4eee\u5b9a\u3055\u308c\u308b\uff0e\u3064\u307e\u308a\uff0c\u30ab\u30bf\u30ed\u30b0\u304b\u3089\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u6210\u5206\u3092\u5229\u7528\u3057\uff0c\u304b\u3064\u5ea7\u6a19\u7cfb\u3092\u6c34\u5e73\u56de\u8ee2\u3057\u3066\u8a08\u7b97\u3059\u308b\u3068\u304d\u306b\u306f\uff0c\u30e6\u30fc\u30b6\u30fc\u304c\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u306e\u56de\u8ee2\u8a08\u7b97\u3092\u81ea\u3089\u884c\u3063\u3066\u30d1\u30e9\u30e1\u30bf\u3068\u3057\u3066\u4e0e\u3048\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\uff0e</p> <p>\u3053\u308c\u3089\u306e\u6319\u52d5\u304c\u7cfb\u7d71\u7684\u3067\u306a\u3044\u3053\u3068\u306f\u958b\u767a\u8005\u3082\u8a8d\u8b58\u3057\u3066\u304a\u308a\uff0c\u5c06\u6765\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u6319\u52d5\u304c\u5909\u66f4\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\uff0e</p>"},{"location":"ja/2._Parameters/0207_source/#_5","title":"\u5b9f\u4f53\u529b\u30e2\u30fc\u30c9","text":"<p>\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u9707\u6e90\u306b\u4ee3\u308f\u308a\uff0c\u5b9f\u4f53\u529b\u3092\u9707\u6e90\u3068\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\uff0e \u3053\u306e\u5834\u5408\uff0cm_{ij}\u306e\u304b\u308f\u308a\u306bf_x, f_y, f_z\u306e\u529b\u6e90\u3092\u76f4\u63a5\u6307\u5b9a\u3059\u308b\uff0e \u5b9f\u4f53\u529b\u306f\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u9707\u6e90\u3068\u540c\u69d8\u306e\u30d9\u30eb\u578b\u306e\u9707\u6e90\u6642\u9593\u95a2\u6570\u3092\u7528\u3044\u3066\u8a08\u7b97\u3055\u308c\u308b\uff0e \u4efb\u610f\u500b\u306e\u70b9\u9707\u6e90\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u304c\uff0c \u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u306b\u3088\u308b\u9707\u6e90\u3068\u5b9f\u4f53\u529b\u306b\u3088\u308b\u9707\u6e90\u304b\u3089\u306e\u540c\u6642\u8f3b\u5c04\u306f\uff0c\u4e00\u5ea6\u306e\u5b9f\u884c\u3067\u306f\u8a08\u7b97\u3067\u304d\u306a\u3044\uff0e</p> <p>Parameters</p> <code>bf_mode</code> \u5b9f\u4f53\u6ce2\u30e2\u30fc\u30c9\u306eON/OFF\u3092\u8a2d\u5b9a\u3059\u308b\uff0e<code>.true.</code>\u3067ON\u306b\u306a\u308b\uff0e <code>stf_format</code> <p>\u9707\u6e90\u30d5\u30a1\u30a4\u30eb\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\uff08\u4e0b\u8a18\u53c2\u7167\uff09\uff0e\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u9707\u6e90\u3068\u306f\u8a18\u6cd5\u304c\u7570\u306a\u308b\u306e\u3067\u6ce8\u610f\uff0e</p> <ul> <li> <p><code>'xy'</code>:    x,    y,     z,   T_0 ,  T_R ,  f_x,   f_y,   f_z</p> </li> <li> <p><code>'ll'</code>:   lon,    lat ,  z,   T_0,   T_R ,  f_x,   f_y ,  f_z</p> </li> </ul> <code>stftype</code> \u8981\u7d20\u9707\u6e90\u6642\u9593\u95a2\u6570\uff08\u30e2\u30fc\u30e1\u30f3\u30c8\u6642\u9593\u95a2\u6570\uff09\u306e\u7a2e\u985e\uff0e\u6307\u5b9a\u6cd5\u306f\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u9707\u6e90\u306b\u540c\u3058\uff0e <code>fn_stf</code> \u9707\u6e90\u60c5\u5831\u30d5\u30a1\u30a4\u30eb\uff0e\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u3068\u306f\u8a18\u6cd5\u304c\u7570\u306a\u308b\u306e\u3067\u6ce8\u610f\uff0e <code>sdep_fit</code> \u9707\u6e90\u306e\u6df1\u3055\u3092\u5f37\u5236\u7684\u306b\u5883\u754c\u306b\u5408\u308f\u305b\u308b\u304b\u3069\u3046\u304b\u306e\u6307\u5b9a\uff0e <code>'asis'</code>: \u306a\u306b\u3082\u3057\u306a\u3044\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09<code>'bd{i}'</code> (i=1,2,\\cdots9): <code>i</code>\u756a\u76ee\u306e\u5883\u754c\u306b\u5408\u308f\u305b\u308b\uff0e"},{"location":"ja/2._Parameters/0207_source/#_6","title":"\u5e73\u9762\u6ce2\u30e2\u30fc\u30c9","text":"<p>\u9707\u6e90\u304b\u3089\u306e\u8f3b\u5c04\u306e\u4ee3\u308f\u308a\u306b\uff0c\u4e0b\u65b9\u304b\u3089\u5e73\u9762\u6ce2\u3092\u5165\u5c04\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0e \u5e73\u9762\u6ce2\u5165\u5c04\u306f\uff0c\u30e2\u30c7\u30eb\u6df1\u90e8\u306b\u3042\u3089\u304b\u3058\u3081\u4e0a\u65b9\u306b\u5411\u304b\u3046\u6ce2\u52d5\u65b9\u7a0b\u5f0f\u306e\u89e3\u3092\u521d\u671f\u6761\u4ef6\u3068\u3057\u3066\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u5b9f\u73fe\u3059\u308b\uff0e \u521d\u671f\u6761\u4ef6\u306f\u5ea7\u6a19\u539f\u70b9\u306b\u304a\u3051\u308b\u521d\u671f\u6df1\u3055\uff08<code>pw_ztop</code>\uff09\uff0c\u5e73\u9762\u6ce2\u521d\u671f\u6761\u4ef6\u306e\u7279\u5fb4\u7684\u9577\u3055\uff08<code>pw_zlen</code>\uff09\u3068\uff0c\u521d\u671f\u6761\u4ef6\u306e\u6700\u4e0a\u7aef\u306e\u5e73\u9762\u5f62\u72b6\u3092\u6307\u5b9a\u3059\u308b\u89d2\u5ea6\u30d1\u30e9\u30e1\u30bf\uff08<code>pw_strike, pw_dip</code>\uff09\u304a\u3088\u3073\uff0cS\u6ce2\u306e\u5834\u5408\u306b\u306f\u5e73\u9762\u5185\u306e\u632f\u52d5\u6975\u6027\u65b9\u5411\u30d1\u30e9\u30e1\u30bf\uff08<code>pw_rake</code>\uff09\u3092\u8981\u3059\u308b\uff0e\u3053\u308c\u3089\u306e\u89d2\u5ea6\u30d1\u30e9\u30e1\u30bf\u306f\uff0cAki and Richards (20021)\u306b\u3088\u308b\u65ad\u5c64\u9762\u6307\u5b9a\u306estrike, dip, rake\u306e\u89d2\u5ea6\u5b9a\u7fa9\u306b\u6e96\u305a\u308b\uff0e3\u6b21\u5143\u306e\u5834\u5408\uff0c<code>pw_strike=0</code>\u3067y\u8ef8\uff08\u901a\u5e38\u306f\u6771\uff09\u306b\u89d2\u5ea6<code>pw_dip</code>\u3067\u50be\u304d\u4e0b\u304c\u308b\u3088\u3046\u306a\u5e73\u9762\u3068\u306a\u308b\uff0e<code>pw_rake=0</code>{}^\\circ\u3082\u3057\u304f\u306f<code>pw_rake=180</code>{}^\\circ\u306e\u5834\u5408\uff0cS\u6ce2\u306e\u632f\u52d5\u6975\u6027\u306e\u65b9\u5411\u304c\u6c34\u5e73\u9762\u3068\u4e00\u81f4\u3059\u308bSH\u6ce2\u306b\u306a\u308b\uff0e</p> <p>\u539f\u70b9\u306b\u304a\u3051\u308b\u6df1\u3055z=<code>pw_ztop</code>\u306e\u4f4d\u7f6e\u304b\u3089\uff0c\u5e45 <code>pw_zlen</code> (km)\u306e\u533a\u9593\u306b\uff0c\u5e73\u9762\u6ce2\u5f62\u72b6\u95a2\u6570\u3068\u3057\u3066\uff0c\u30d1\u30e9\u30e1\u30bf<code>stftype</code>\u3067\u5b9a\u3081\u305f\u30e2\u30fc\u30e1\u30f3\u30c8\u6642\u9593\u95a2\u6570\u306e\u5f62\u72b6\u3092\u5229\u7528\u3059\u308b\uff0e\u30e2\u30fc\u30e1\u30f3\u30c8\u6642\u9593\u95a2\u6570\u306e\u5b9a\u7fa9\u306b\u3088\u308a\uff0c\u305d\u306e\u4f1d\u64ad\u65b9\u5411\u306b\u6cbf\u3063\u305f\u7a7a\u9593\u7a4d\u5206\u304c1\u306b\u306a\u308b\u3088\u3046\u306b\u898f\u683c\u5316\u3055\u308c\u3066\u3044\u308b\uff0e</p> <p>\u5e73\u9762\u6ce2\u306e\u30b8\u30aa\u30e1\u30c8\u30ea</p> <p> \u5e73\u9762\u6ce2\u30e2\u30fc\u30c9\u306e\u5ea7\u6a19\u7cfb\u6307\u5b9a\uff0e\uff08\u5de6\uff09\u5e73\u9762\u6ce2\u6700\u4e0a\u9762\u4f4d\u7f6e\u306e\u6307\u5b9a\uff0e\uff08\u53f3\uff09\u6df1\u3055\u65ad\u9762\u306b\u304a\u3051\u308b\u521d\u671f\u6761\u4ef6\u6307\u5b9a\uff0e</p> <p>Parameters</p> <code>pw_mode</code> \u5e73\u9762\u6ce2\u30e2\u30fc\u30c9ON/OFF\u3092\u5b9a\u3081\u308b\uff0e<code>.true.</code>\u306e\u3068\u304d\u306b\u306f\u5e73\u9762\u6ce2\u30e2\u30fc\u30c9\u3068\u306a\u308a\uff0c\u70b9\u9707\u6e90\u306e\u30ea\u30b9\u30c8\u306f\u7121\u8996\u3055\u308c\u308b\uff0e <code>pw_ztop</code> \u521d\u671f\u6761\u4ef6\u306e\u539f\u70b9x=y=0\u306b\u304a\u3051\u308b\u5e73\u9762\u6ce2\u4e0a\u7aef\u306ez\u5ea7\u6a19\u5024 <code>pw_zlen</code> \u521d\u671f\u6761\u4ef6\u306e\u5e73\u9762\u6ce2\u6ce2\u9577\u30b9\u30b1\u30fc\u30eb\uff0e\u30e2\u30fc\u30e1\u30f3\u30c8\u6642\u9593\u95a2\u6570\u306e\u5e45\uff08\u30e9\u30a4\u30ba\u30bf\u30a4\u30e0\uff09\u306b\u76f8\u5f53\u3059\u308b\uff0e <code>pw_ps</code> \u5e73\u9762\u6ce2\u7a2e\u5225\uff0e'p'\u3082\u3057\u304f\u306f's'\uff0e <code>pw_strike</code> \u5e73\u9762\u6ce2\u521d\u671f\u6761\u4ef6\u306e\u65b9\u4f4d\u89d2\uff0ex\u8ef8\u304b\u3089\u6642\u8a08\u56de\u308a\u306b\u89d2\u5ea6\u5358\u4f4d\u3067\u4e0e\u3048\u308b\uff0e <code>pw_dip</code> \u5e73\u9762\u6ce2\u521d\u671f\u6761\u4ef6\u306e\u50be\u659c\u89d2\uff08\u5ea6\uff09\uff0e0\u5ea6\u3067\u6c34\u5e73\u5165\u5c04\u3067\u3042\u308b\uff0e <code>pw_rake</code> S\u6ce2\u306e\u5834\u5408\u306e\u5e73\u9762\u5185\u632f\u52d5\u65b9\u5411\uff08\u5ea6\uff09\uff0e\u6c34\u5e73\u9762\u65b9\u5411\u304b\u3089\u53cd\u6642\u8a08\u56de\u308a\u306b\u6e2c\u3063\u305f\u89d2\u5ea6\u3067\u8a18\u8ff0\u3059\u308b\uff0e <code>stftype</code> \u8981\u7d20\u9707\u6e90\u6642\u9593\u95a2\u6570\uff08\u30e2\u30fc\u30e1\u30f3\u30c8\u6642\u9593\u95a2\u6570\uff09\u306e\u7a2e\u985e\uff0e\u6307\u5b9a\u6cd5\u306f\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u9707\u6e90\u306b\u540c\u3058\uff0e <p>\u306a\u304a\uff0c\u5e73\u9762\u6ce2\u30e2\u30fc\u30c9\u306e\u5834\u5408\u306b\u306f\uff0c\u5438\u53ce\u5883\u754c\u6761\u4ef6\u3068\u3057\u3066\u304b\u306a\u3089\u305a <code>abc_type='pml'</code>\u3092\u7528\u3044\u308b\u3079\u304d\u3067\u3042\u308b\uff0e \u7c21\u6613\u7248\u306e\u5883\u754c\u6761\u4ef6 <code>abc_type='cerjan'</code>\u3067\u306f\uff0c\u6c34\u5e73\u65b9\u5411\u306e\u7aef\u304b\u3089\u975e\u5e38\u306b\u5f37\u3044\u4eba\u5de5\u53cd\u5c04\u6ce2\u304c\u751f\u3058\u3066\u3057\u307e\u3046\uff0e</p> <p>\u5e73\u9762\u6ce2\u5165\u5c04\u3068\u5438\u53ce\u5883\u754c\u6761\u4ef6</p> <p> S\u6ce2\u5e73\u9762\u6ce2\u5165\u5c04\u6df1\u3055\u65ad\u9762\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306e\u4f8b\uff0e\u7dd1\u8272\u304cS\u6ce2(rot)\uff0c\u8d64\u8272\u304cP\u6ce2(div)\u632f\u5e45\u3092\u305d\u308c\u305e\u308c\u8868\u3059\uff0e\u5883\u754c\u6761\u4ef6\u304c(a) Cerjan\u306e\u5834\u5408\u3068(b) PML\u306e\u5834\u5408\uff0e</p> <p>\u307e\u305f\uff0cPML\u3092\u7528\u3044\u305f\u3068\u3057\u3066\u3082\uff0c\u50be\u659c\u89d2\u304c\u30bc\u30ed\u3067\u306f\u306a\u3044\u5e73\u9762\u6ce2\u5165\u5c04\u306f\uff0c\u304b\u306a\u3089\u305a\u5883\u754c\u304b\u3089\u306e\u6c5a\u67d3\u3092\u4f34\u3046\uff0e\u4eba\u5de5\u53cd\u5c04\u6ce2\u306e\u632f\u5e45\u304c\u5c0f\u3055\u304f\u306a\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u304b\uff0c\u6c5a\u67d3\u3092\u3055\u3051\u308b\u305f\u3081\u9818\u57df\u3092\u5145\u5206\u5e83\u304f\u53d6\u308b\u306a\u3069\u306e\u5bfe\u7b56\u304c\u5fc5\u8981\u3068\u306a\u308b\uff0e</p> <ol> <li> <p>Aki, K., and P. G. Richards (2002), Quantitative Seismology: Theory and Methods, 2nd eidtion ed., University Science Books.\u00a0\u21a9</p> </li> </ol>"},{"location":"ja/2._Parameters/0208_abc/","title":"\u5438\u53ce\u5883\u754c\u6761\u4ef6","text":"<p><code>OpenSWPC</code>\u3067\u306f\uff0c\u4e3b\u305f\u308b\u5438\u53ce\u5883\u754c\u6761\u4ef6\u3068\u3057\u3066Auxiliary Differential Equation, Complex Frequency-Shifted Perfectly Matched Layer (ADE CFS-PML; Zhang et al., 20101\uff09\u3092\u63a1\u7528\u3057\u3066\u3044\u308b\uff0e</p> <p>PML\u3068\u306f\uff0c\u5a92\u8cea\u306e\u7aef\u70b9\u304b\u3089\u6570\u5341\u30b0\u30ea\u30c3\u30c9\u3092\u5438\u53ce\uff08\u30b9\u30dd\u30f3\u30b8\uff09\u9818\u57df\u3068\u3057\uff0c\u5fae\u5206\u65b9\u5411\u306b\u4f9d\u5b58\u3057\u305f\u6e1b\u8870\u6027\u5a92\u8cea\u306e\u6642\u9593\u767a\u5c55\u65b9\u7a0b\u5f0f\u3092\u89e3\u304f\u3053\u3068\u3067\u52b9\u679c\u7684\u306b\u4eba\u5de5\u53cd\u5c04\u3092\u62bc\u3055\u3048\u308b\u624b\u6cd5\u3067\u3042\u308b\uff0e \u3088\u308a\u5358\u7d14\u304b\u3064\u4f1d\u7d71\u7684\u306aCerjan\u306b\u3088\u308b\u30b9\u30dd\u30f3\u30b8\u6761\u4ef6\uff08Cerjan et al., 19852\uff09\u3082\u5229\u7528\u3067\u304d\u308b\uff0e \u5883\u754c\u6761\u4ef6\u306e\u7a2e\u985e\u306f\u5165\u529b\u30d1\u30e9\u30e1\u30bf\u306b\u3088\u3063\u3066\u5207\u308a\u66ff\u3048\u308b\uff0e</p> <p>\u5168\u30e2\u30c7\u30eb\u7a7a\u9593\u306f\u5438\u53ce\u5883\u754c\u306e\u539a\u3055\u30b0\u30ea\u30c3\u30c9\u6570 <code>na</code> \u306e\u6307\u5b9a\u306b\u3088\u3063\u3066\uff0c\u56f3\u306e\u3088\u3046\u306b\u5185\u90e8\u9818\u57df\u3068\u5916\u90e8\u9818\u57df\u306b\u5206\u3051\u3089\u308c\u308b\uff0e \u5438\u53ce\u5883\u754c\u306f\u30e2\u30c7\u30eb\u306e\u7aef\u9762\u3092\u8986\u3046\u5fc5\u8981\u304c\u3042\u308b\uff0e \u3057\u304b\u3057\uff0c\u672c\u30b3\u30fc\u30c9\u306b\u304a\u3044\u3066\u306f\u5730\u8868\u9762\u304c\u3042\u308b\u5a92\u8cea\u3067\u306e\u8a08\u7b97\u3092\u524d\u63d0\u3068\u3057\u3066\u304a\u308a\uff0c\u304b\u3064\u7a7a\u4e2d\u97f3\u6ce2\u306f\u7121\u8996\u3059\u308b\uff08\u4eee\u60f3\u7684\u306a\u771f\u7a7a\u72b6\u614b\uff09\u305f\u3081\uff0c\u4e0a\u9762\u306e\u5438\u53ce\u6761\u4ef6\u306f\u5fc5\u8981\u306a\u3044\uff0e \u305d\u3053\u3067\uff0c\u901a\u5e38\u306f\u6df1\u3055\u30b0\u30ea\u30c3\u30c9\u4f4d\u7f6e<code>kbeg_a</code>\u3088\u308a\u6df1\u3044\u90e8\u5206\u306e\u307f\uff0c\u5438\u53ce\u5883\u754c\u6761\u4ef6\u3092\u9069\u7528\u3059\u308b\uff0e</p> <p>\u5438\u53ce\u5883\u754c\u6761\u4ef6\u306e\u5b9a\u7fa9\u9818\u57df</p> <p> \u5438\u53ce\u5883\u754c\u6761\u4ef6\u306e\u5b9a\u7fa9\u9818\u57df\u306e\u6a21\u5f0f\u56f3\uff0e\u8d64\u70b9\u7dda\u304c<code>kbeg_a(I,J)</code>\u306e\u4f4d\u7f6e\u3092\u8868\u3059\uff0e</p> <p>\u7c21\u5358\u306e\u305f\u3081\uff0c<code>OpenSWPC</code>\u3067\u306fPML\u9818\u57df\u306f\u7c98\u5f3e\u6027\u3092\u89e3\u304b\u305a\uff0c\u5f3e\u6027\u4f53\u306e\u69cb\u6210\u65b9\u7a0b\u5f0f\u3068PML\u5438\u53ce\u6761\u4ef6\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\uff0e \u3053\u306e\u3053\u3068\u306b\u3088\u308a\u8a08\u7b97\u30e1\u30e2\u30ea\u3092\u7bc0\u7d04\u3067\u304d\u308b\u4e0a\uff0c\u5438\u53ce\u5883\u754c\u3068\u5185\u90e8\u9818\u57df\u3068\u306e\u9593\u3067\u306e\u8a08\u7b97\u8ca0\u8377\u306e\u30d0\u30e9\u30f3\u30b9\u3092\u6539\u5584\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0e \u3057\u304b\u3057\uff0cQ\u5024\u304c\u6975\u7aef\u306b\u5c0f\u3055\u306a\u5a92\u8cea\u306e\u5834\u5408\uff0c\u5185\u90e8\u9818\u57df\u3067\u306e\u7269\u7406\u5206\u6563\u306b\u3088\u308b\u901f\u5ea6\u4f4e\u4e0b\u304c\u7121\u8996\u3067\u304d\u306a\u304f\u306a\u308b\uff0e \u3053\u306e\u5834\u5408\uff0c\u5438\u53ce\u5883\u754c\u5185\u3068\u5185\u90e8\u9818\u57df\u3068\u3067\u7269\u7406\u5206\u6563\u306e\u6709\u7121\u306b\u4f34\u3046\u901f\u5ea6\u30b3\u30f3\u30c8\u30e9\u30b9\u30c8\u304c\u767a\u751f\u3057\uff0c\u305d\u308c\u306b\u4f34\u3046\u4eba\u5de5\u53cd\u5c04\u6ce2\u304c\u751f\u305a\u308b\u3053\u3068\u304c\u3042\u308b\uff0e \u901f\u5ea6\u5747\u8cea\u5a92\u8cea\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306a\u3069\u304b\u3089\u53cd\u5c04\u6ce2\u751f\u6210\u306e\u5ea6\u5408\u3044\u3092\u78ba\u8a8d\u3057\uff0c\u305d\u308c\u304c\u8a31\u5bb9\u7bc4\u56f2\u3067\u3042\u308b\u304b\u3042\u3089\u304b\u3058\u3081\u8abf\u67fb\u3059\u308b\u3053\u3068\u304c\u671b\u307e\u3057\u3044\uff0e</p> <p>Cerjan\u306b\u3088\u308b\u5438\u53ce\u5883\u754c\u6761\u4ef6\u306b\u3064\u3044\u3066\u306f\uff0cCerjan (1985)2\u3067\u63d0\u6848\u3055\u308c\u305f\u30d1\u30e9\u30e1\u30bf\u304c\u57cb\u3081\u8fbc\u307e\u308c\u3066\u3044\u308b\uff0e\u305f\u3060\u3057\uff0c\u30b9\u30dd\u30f3\u30b8\u5883\u754c\u306e\u539a\u3055\u306b\u3088\u3063\u3066\u5438\u53ce\u4fc2\u6570\u306f\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u3055\u308c\u308b\uff0e</p> <p>PML\u306f\u591a\u304f\u306e\u5834\u5408\u306b\u3064\u3044\u3066\u975e\u5e38\u306b\u9ad8\u6027\u80fd\u306a\u5438\u53ce\u5883\u754c\u6761\u4ef6\u3067\u3042\u308b\u304c\uff0c\u30b3\u30f3\u30c8\u30e9\u30b9\u30c8\u306e\u5927\u304d\u306a\u901f\u5ea6\u69cb\u9020\u4e0d\u9023\u7d9a\u3084\u4f4e\u901f\u5ea6\u5c64\u306e\u5b58\u5728\u306a\u3069\u306b\u3088\u3063\u3066\uff0c\u6570\u5024\u4e0d\u5b89\u5b9a\u3092\u8d77\u3053\u3059\u3053\u3068\u304c\u3042\u308b\uff0e <code>OpenSWPC</code>\u3067\u63a1\u7528\u3057\u305fADE CFS-PML\u306f\u305d\u306e\u3088\u3046\u306a\u4e0d\u5b89\u5b9a\u304c\u8d77\u3053\u308a\u306b\u304f\u3044\u3068\u3055\u308c\u3066\u3044\u308b\u304c\uff0c\u4e07\u4e00\u6570\u5024\u8a08\u7b97\u306e\u4e0d\u5b89\u5b9a\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u306b\u306f\uff0c</p> <ul> <li>\u8a08\u7b97\u9818\u57df\u3092\u5c11\u3057\u5e73\u884c\u79fb\u52d5\u3057\u3066\u307f\u308b\uff0e<code>clon</code>\u3068<code>clat</code>\u3092\u5909\u66f4\u3059\u308b\u304b\uff0c\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba<code>nx</code>, <code>ny</code>\u3092\u5897\u6e1b\u3055\u305b\u308b\uff0e</li> <li>\u6975\u7aef\u306a\u4f4e\u901f\u5ea6\u5c64\u3092<code>stabilize_pml</code>\u30aa\u30d7\u30b7\u30e7\u30f3\u3092<code>.true.</code>\u306b\u3059\u308b\u3053\u3068\u3067\u6392\u9664\u3057\u3066\u307f\u308b</li> <li>\u9707\u6e90\u3067\u306e\u30e9\u30a4\u30ba\u30bf\u30a4\u30e0\u3092\u9577\u304f\u3057\u3066\u9ad8\u5468\u6ce2\u3092\u6291\u3048\u308b</li> </ul> <p>\u306a\u3069\u306e\u5de5\u592b\u306b\u3088\u308a\u6539\u5584\u3059\u308b\u5834\u5408\u304c\u3042\u308b\uff0eCerjan\u306b\u3088\u308b\u5438\u53ce\u5883\u754c\u6761\u4ef6\u306f\u5e38\u306b\u5b89\u5b9a\u3067\u3042\u308b\u304c\uff0cPML\u3068\u6bd4\u3079\u308b\u3068\u5883\u754c\u306b\u304a\u3051\u308b\u5438\u53ce\u6027\u80fd\u306f\u4f4e\u304f\u306a\u308b\uff0e</p> <p>Parameters</p> <code>abc_type</code> \u5438\u53ce\u5883\u754c\u6761\u4ef6\u306e\u7a2e\u985e\uff0e<code>\u2019pml\u2019</code>\u3082\u3057\u304f\u306f<code>\u2019cerjan\u2019</code>\u306e\u3069\u3061\u3089\u304b\u3092\u6307\u5b9a\uff0e <code>na</code> \u5438\u53ce\u5883\u754c\u9818\u57df\u306e\u30b0\u30ea\u30c3\u30c9\u539a\uff0e\u901a\u5e3810\u304b\u308920\u7a0b\u5ea6\u306e\u5024\u304c\u7528\u3044\u3089\u308c\u308b\uff0e <code>stabilize_pml</code> <code>.true.</code>\u306e\u3068\u304d\uff0c\u4f4e\u901f\u5ea6\u5c64\u3092\u6392\u9664\u3057\u3066PML\u306e\u5b89\u5b9a\u5316\u3092\u8a66\u307f\u308b\uff0e\u305f\u3060\u3057\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u526f\u4f5c\u7528\u3068\u3057\u3066\u4eba\u5de5\u53cd\u5c04\u6ce2\u306e\u632f\u5e45\u306f\u5927\u304d\u304f\u306a\u308b\u3053\u3068\u304c\u3042\u308b\uff0e <p>Caution</p> <p>Version 5.0 -- 5.1 \u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u305f <code>fullspace_mode</code> \u306f\uff0c\u7279\u5b9a\u306e\u74b0\u5883\u4e0b\u3067\uff0c\u8a72\u5f53\u30e2\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u304f\u3066\u3082\u30c8\u30e9\u30d6\u30eb\u3092\u5f15\u304d\u8d77\u3053\u3059\u3053\u3068\u304c\u5224\u660e\u3057\u305f\u305f\u3081\uff0c\u4e00\u6642\u7684\u306b\u5229\u7528\u4e0d\u53ef\u3068\u3057\u3066\u3044\u308b\uff0e\u30c8\u30e9\u30d6\u30eb\u306e\u539f\u56e0\u306f\u76ee\u4e0b\u8ffd\u6c42\u4e2d\u3067\u3042\u308b\uff0e</p> <ol> <li> <p>Zhang, W., and Y. Shen (2010), Unsplit complex frequency-shifted PML implementation using auxiliary differential equations for seismic wave modeling, Geophysics, 75(4), T141\u2013T154, doi:10.1190/1.3463431.\u00a0\u21a9</p> </li> <li> <p>Cerjan, C., D. Kosloff, R. Kosloff, and M. Reshef (1985), A nonreflecting boundary condition for discrete acoustic and elastic wave equations, Geophysics, 50(4), 705\u2013708.\u00a0\u21a9\u21a9</p> </li> </ol>"},{"location":"ja/2._Parameters/0209_checkpoint/","title":"\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u30fb\u30ea\u30b9\u30bf\u30fc\u30c8","text":"<p>\u5927\u578b\u8a08\u7b97\u6a5f\u306e\u30d0\u30c3\u30c1\u30b7\u30b9\u30c6\u30e0\u3067\u306f\uff0c\u4e00\u5ea6\u306e\u30b8\u30e7\u30d6\u3067\u8a08\u7b97\u3067\u304d\u308b\u7d99\u7d9a\u6642\u9593\u306b\u9650\u308a\u304c\u3042\u308b\u305f\u3081\uff0c\u4e00\u5b9a\u306e\u7d4c\u904e\u6642\u9593\uff08\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\uff09\u3067\u30e1\u30e2\u30ea\u306e\u5185\u5bb9\u3092\u3059\u3079\u3066\u4e00\u6642\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3057\uff0c\u5225\u306e\u30b8\u30e7\u30d6\u3067\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067\u9014\u4e2d\u304b\u3089\u8a08\u7b97\u3092\u518d\u958b\u3059\u308b\uff08\u30ea\u30b9\u30bf\u30fc\u30c8\uff09\u3053\u3068\u304c\u884c\u308f\u308c\u308b\uff0e</p> <p><code>OpenSWPC</code>\u3067\u306f\uff0e\u52d5\u4f5c\u6642\u9593\u304c<code>ckp_time</code>\uff08\u79d2\uff09\u3092\u8d85\u3048\u308b\u3068\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u3092\u901a\u904e\u3057\u305f\u3068\u898b\u306a\u3055\u308c\uff0c\u3059\u3079\u3066\u306e\u8a08\u7b97\u9014\u4e2d\u914d\u5217\u30a4\u30e1\u30fc\u30b8\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u5410\u304d\u51fa\u3057\u3066\u7d42\u4e86\u3059\u308b\uff0e</p> <p>\u540c\u3058\u74b0\u5883\u4e0b\u3067\u540c\u3058\u5b9f\u884c\u30bf\u30a4\u30c8\u30eb\uff08<code>title</code>\uff09\u306e\u8a08\u7b97\u304c\u5b9f\u884c\u3055\u308c\u308b\u3068\uff0c\u306f\u307e\u305a\u30c7\u30a3\u30ec\u30af\u30c8\u30eacdir\u3092\u78ba\u8a8d\u3057\uff0c\u305d\u3053\u306b\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u3088\u3046\u3067\u3042\u308c\u3070\u9014\u4e2d\u304b\u3089\u8a08\u7b97\u3092\u518d\u958b\u3059\u308b\uff0e \u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u3082\u3057\u304f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u5b58\u5728\u3057\u306a\u3051\u308c\u3070\uff0c\u30bc\u30ed\u304b\u3089\u8a08\u7b97\u3092\u958b\u59cb\u3059\u308b\uff0e \u307e\u305f\uff0c\u5168\u8a08\u7b97\u304c\u7d42\u4e86\u3057\u305f\u5f8c\u306b\u306f\uff0c\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u306f\u307b\u307c\u3059\u3079\u3066\u524a\u9664\u3059\u308b\u304c\uff0c\u6574\u6570\u5024\u306e\u8a8d\u8b58\u30b3\u30fc\u30c9\u304c\u683c\u7d0d\u3055\u308c\u305f\u5c0f\u30d5\u30a1\u30a4\u30eb\u3092\u6b8b\u3059\uff0e \u3053\u308c\u306f\uff0c\u30ea\u30b9\u30bf\u30fc\u30c8\u6642\u306e\u6642\u9593\u30b9\u30c6\u30c3\u30d7\u8abf\u67fb\u6642\u306b\u8a08\u7b97\u304c\u65e2\u306b\u7d42\u4e86\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u691c\u77e5\u3057\uff0c\u540c\u3058\u8a08\u7b97\u3092\u7e70\u308a\u8fd4\u3059\u3053\u3068\u3092\u9632\u3050\u305f\u3081\u306e\u3082\u306e\u3067\u3042\u308b\uff0e</p> <p>Parameters</p> <code>is_ckp</code> \u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u30fb\u30ea\u30b9\u30bf\u30fc\u30c8\u30e2\u30fc\u30c9\u306eON/OFF <p><code>cdir</code> :\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u51fa\u529b\u5148\uff0e\u30ea\u30b9\u30bf\u30fc\u30c8\u306e\u5834\u5408\u306f\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u4e0b\u306b\u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3059\u308b\u304b\u78ba\u8a8d\u3059\u308b\uff0e</p> <code>ckp_time</code> \u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u6642\u9593\uff0e\u3053\u306e\u6642\u9593\u3092\u7d4c\u904e\u3059\u308b\u3068\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3057\u3066\u7d42\u4e86\u3059\u308b\uff0e <p><code>ckp_interval</code> <code>ckp_interval</code>\u6642\u9593\u30b9\u30c6\u30c3\u30d7\u6bce\u306b\u7d4c\u904e\u6642\u9593\u304c<code>ckp_time</code>\u3092\u8d85\u3048\u305f\u304b\u5224\u5b9a\u3059\u308b\uff0e</p>"},{"location":"ja/2._Parameters/0210_reciprocity/","title":"\u76f8\u53cd\u5b9a\u7406\u30e2\u30fc\u30c9","text":"<p>\u89b3\u6e2c\u70b9\u304b\u3089\u70b9\u9707\u6e90\u306b\u3088\u308b\u5730\u9707\u6ce2\u3092\u52b1\u8d77\u3057\uff0c\u8907\u6570\u306e\u9707\u6e90\u4f4d\u7f6e\u3092\u4eee\u60f3\u89b3\u6e2c\u70b9\u3068\u3057\u305f\u6ce2\u5f62\u3092\u8a08\u7b97\u3059\u308b\uff0e \u3053\u308c\u3089\u306f\uff0c\u76f8\u53cd\u5b9a\u7406\u306b\u3088\u3063\u3066\uff0c\u5404\u9707\u6e90\u4f4d\u7f6e\u304b\u3089\u89b3\u6e2c\u70b9\u307e\u3067\u306e\u8a08\u7b97\u6ce2\u5f62\u306b\u76f8\u5f53\u3059\u308b\uff0e\u3053\u308c\u3089\u306f\uff0c\u9707\u6e90\u6642\u9593\u95a2\u6570\u304c\u5145\u5206\u306b\u77ed\u3051\u308c\u3070Green\u95a2\u6570\u3068\u3057\u3066\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u308b\uff0e</p> <p>\u672c\u30e2\u30fc\u30c9\u3067\u8a08\u7b97\u3055\u308c\u308b\u306e\u306f\uff0c\u9707\u6e90\u4f4d\u7f6e\u304b\u3089\u89b3\u6e2c\u70b9\u4f4d\u7f6e\\mathbf{r}\u3078\u306eGreen\u30c6\u30f3\u30bd\u30eb\u3092G_{ij}\\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)\u306b\uff0c\u8a08\u7b97\u6642\u306b\u4eee\u5b9a\u3059\u308b\u9707\u6e90\u6642\u9593\u95a2\u6570\u3092s(t)\u304c\u305f\u305f\u307f\u3053\u307e\u308c\u305f</p> \\begin{align} \\begin{split}   G^{M1}_{i}\\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)    &amp;\\equiv \\frac{\\partial G_{ix} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) }{\\partial \\xi_x} \\ast s(t) =   \\frac{\\partial G_{ix} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) }{\\partial \\xi_x} \\ast s(t)    \\\\   G^{M2}_{i}\\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)    &amp;\\equiv \\frac{\\partial G_{iy} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) }{\\partial \\xi_y} \\ast s(t)     =     \\frac{\\partial G_{iy} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) }{\\partial \\xi_y} \\ast s(t)       \\\\   G^{M3}_{i}\\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)    &amp;\\equiv \\frac{\\partial G_{iz} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) }{\\partial \\xi_z} \\ast s(t)    =      \\frac{\\partial G_{iz} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) }{\\partial \\xi_z} \\ast s(t)    \\\\   G^{M4}_{i}\\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)    &amp;\\equiv \\left(      \\frac{\\partial G_{iy} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) }{\\partial \\xi_z} +      \\frac{\\partial G_{iz} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) }{\\partial \\xi_y} \\right) \\ast s(t)      \\\\   &amp;= \\left(      \\frac{\\partial G_{iy} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) }{\\partial \\xi_z} +      \\frac{\\partial G_{iz} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) }{\\partial \\xi_y} \\right) \\ast s(t)    \\\\   G^{M5}_{i}\\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)    &amp;\\equiv \\left(     \\frac{\\partial G_{ix} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) }{\\partial \\xi_z} +      \\frac{\\partial G_{iz} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) }{\\partial \\xi_x}\\right) \\ast s(t)       \\\\&amp; = \\left(     \\frac{\\partial G_{ix} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) }{\\partial \\xi_z} +      \\frac{\\partial G_{iz} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) }{\\partial \\xi_x}\\right) \\ast s(t)    \\\\   G^{M6}_{i} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)    &amp;\\equiv \\left(     \\frac{\\partial G_{ix} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) }{\\partial \\xi_y} +      \\frac{\\partial G_{iy} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) }{\\partial \\xi_x} \\right) \\ast s(t)      \\\\   &amp;= \\left(     \\frac{\\partial G_{ix} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) }{\\partial \\xi_y} +      \\frac{\\partial G_{iy} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) }{\\partial \\xi_x} \\right) \\ast s(t)  \\end{split}  \\end{align} <p>\u3067\u3042\u308b\uff0e\u307e\u305f\uff0c\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u5b9f\u4f53\u6ce2Green\u8a08\u7b97</p> \\begin{align} \\begin{split} G^{B1}_{i}\\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)    &amp;\\equiv  G_{ix} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) \\ast s(t)   =       G_{ix} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) \\ast s(t)     \\\\ G^{B2}_{i}\\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)    &amp;\\equiv G_{iy} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right) \\ast s(t)    =      G_{iy} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right) \\ast s(t)  \\\\   G^{B3}_{i}\\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)    &amp;\\equiv G_{iz} \\left( \\mathbf{r}, t; \\mathbf{\\xi}\\right)\\ast s(t)   =      G_{iz} \\left( \\mathbf{\\xi}, t; \\mathbf{r}\\right)\\ast s(t) \\end{split} \\end{align} <p>\u3082\u8a08\u7b97\u3055\u308c\u308b\uff0e</p> <p>\u30d1\u30e9\u30e1\u30bf\u30d5\u30a1\u30a4\u30eb\u3067\u6307\u5b9a\u3055\u308c\u305f\u89b3\u6e2c\u70b9 <code>green_stnm</code> \u304b\u3089\uff0c<code>green_cmp</code> \u6210\u5206\u306e\u5b9f\u4f53\u529b\u306b\u3088\u308b\u5730\u9707\u6ce2\u3092\uff0c\u6642\u9593\u9577\u3055<code>green_trise</code> \u306e\u9707\u6e90\u6642\u9593\u95a2\u6570\u3067\u52b1\u8d77\u3059\u308b\uff0e \u305d\u306e\u305f\u3081\uff0c\u5168\u30b0\u30ea\u30fc\u30f3\u30c6\u30f3\u30bd\u30eb\u3092\u6c42\u3081\u308b\u306b\u306f\uff0c<code>green_cmp=\u2019x\u2019, \u2019y\u2019, \u2019z\u2019</code> \u306e3\u7a2e\u985e\u306e\u8a08\u7b97\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308b\uff0e</p> <p>\u9707\u6e90\u8981\u7d20\u306f\u30c7\u30ab\u30eb\u30c8\u5ea7\u6a19\u7cfb\u3082\u3057\u304f\u306f\u7def\u5ea6\u7d4c\u5ea6\u304a\u3088\u3073\u6df1\u3055\u3067\u6307\u5b9a\u3057\uff0c\u305d\u308c\u305e\u308c\u306e\u9707\u6e90\u8981\u7d20\u306b\u5bfe\u3057\u3066\u6574\u6570\u306e <code>gid</code> \u3092\u4ed8\u4e0e\u3059\u308b\uff0e \u7d50\u679c\u306f\uff0c<code>(odir)/green/(gid)</code> \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\uff0c<code>(title)__(green_cmp)__mij__.sac</code>  \u3042\u308b\u3044\u306f<code>(title)__(green_cmp)__fi__.sac</code> \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u540d\u306eSAC\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u683c\u7d0d\u3055\u308c\u308b\uff0e</p> <p><code>gid</code> \u306f\u5fc5\u305a\u3057\u3082\u9023\u756a\u3067\u3042\u308b\u5fc5\u8981\u306f\u306a\u3044\uff0eSAC\u306e\u898f\u7d04\u6ce2\u5f62\u3068\u76f4\u63a5\u6bd4\u8f03\u3059\u308b\u305f\u3081\uff0c\u51fa\u529b\u6ce2\u5f62\u306b\u306f 10^9 \u304c\u4e57\u3058\u3089\u308c\u3066\u3044\u308b\uff0e\u307e\u305f\uff0cz\u306f\u4e0b\u304c\u6b63\u306b\u306a\u308b\u5ea7\u6a19\u7cfb\u3092\u53d6\u3063\u3066\u3044\u308b\u304c\uff0cGreen\u95a2\u6570\u3068\u3057\u3066\u51fa\u529b\u3055\u308c\u308b\u6ce2\u5f62\u306f\uff0c\u591a\u304f\u306e\u5834\u5408\u306e\u89b3\u6e2c\u306b\u6e96\u3058\uff0c\u4e0a\u304c\u6b63\u306b\u306a\u308b\u3088\u3046\u306b\u5909\u63db\u3055\u308c\u3066\u3044\u308b\uff0e\u3057\u304b\u3057\uff0c\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u5fdc\u7b54\u306e\u8a08\u7b97\u306e\u6df1\u3055\u65b9\u5411\u5fae\u5206\u306f\u8a08\u7b97\u5ea7\u6a19\u7cfb\u306e\u4e0b\u304c\u6b63\u306e\u5b9a\u7fa9\u306e\u307e\u307e\u884c\u308f\u308c\u3066\u3044\u308b\uff0e</p> <p>Parameters</p> <p><code>green_mode</code> :Green\u95a2\u6570\u30e2\u30fc\u30c9\u306eON/OFF\u3092\u8a2d\u5b9a\u3059\u308b\uff0e<code>.true.</code>\u3067ON\u306b\u306a\u308a\uff0c\u901a\u5e38\u306e\u9707\u6e90\u306b\u95a2\u3059\u308b\u6307\u5b9a\u306f\u7121\u8996\u3055\u308c\u308b\uff0e</p> <code>green_stnm</code> \u53d7\u4fe1\u89b3\u6e2c\u70b9\u540d\uff0e\u3053\u306e\u89b3\u6e2c\u70b9\u304c\u5225\u9014\u4e0e\u3048\u308b\u89b3\u6e2c\u70b9\u30ea\u30b9\u30c8\u306b\u542b\u307e\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\uff0e <code>green_cmp</code> Green\u95a2\u6570\u3092\u8a08\u7b97\u3059\u308b\u6210\u5206\uff0e\u53d7\u4fe1\u70b9\u306b\u304a\u3051\u308b\u89b3\u6e2c\u6210\u5206\u306b\u76f8\u5f53\u3059\u308b\uff0e<code>\u2019x\u2019</code>, <code>\u2019y\u2019</code>, <code>\u2019z\u2019</code>\u306e\u3044\u305a\u308c\u304b\u3092\u6307\u5b9a\uff0e <code>green_trise</code> Green\u95a2\u6570\u306b\u305f\u305f\u307f\u8fbc\u307e\u308c\u308b\u9707\u6e90\u6642\u9593\u95a2\u6570\u306e\u30e9\u30a4\u30ba\u30bf\u30a4\u30e0 <code>green_bforce</code> <code>.true.</code>\u306e\u3068\u304d\u5b9f\u4f53\u6ce2\u306eGreen\u95a2\u6570\u3082\u8a08\u7b97\u3059\u308b\uff0e\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>.false.</code> <code>green_fmt</code> Green\u95a2\u6570\u306e\u9707\u6e90\u8981\u7d20\u4f4d\u7f6e\u30d5\u30a1\u30a4\u30eb\u30ea\u30b9\u30c8\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\uff0e<code>\u2019xyz\u2019</code>\uff08\u30c7\u30ab\u30eb\u30c8\u5ea7\u6a19\uff1b\u30c7\u30d5\u30a9\u30eb\u30c8\uff09\u304b <code>\u2019llz\u2019</code>\uff08\u7def\u5ea6\u30fb\u7d4c\u5ea6\u30fb\u6df1\u3055\uff09\u306e\u3069\u3061\u3089\u304b\u3092\u6307\u5b9a\u3059\u308b\uff0e <code>green_maxdist</code> \u9707\u6e90\u8981\u7d20\u4f4d\u7f6e\u3068\u89b3\u6e2c\u70b9\u306e\u9593\u306e\u9707\u592e\u8ddd\u96e2\u304c\u3053\u306e\u6307\u5b9a\u30d1\u30e9\u30e1\u30bf\uff08km\u5358\u4f4d\uff09\u4ee5\u5185\u306e\u5834\u5408\u306b\u306e\u307fGreen\u95a2\u6570\u3092\u8a08\u7b97\u3059\u308b\uff0e\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u5e38\u306b\u8a08\u7b97\u3059\u308b\uff0e <code>fn_glst</code> Green\u95a2\u6570\u9707\u6e90\u8981\u7d20\u4f4d\u7f6e\u30d5\u30a1\u30a4\u30eb\u540d\uff0e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306f\u8868\u306e\u901a\u308a\uff0e <code>stftype</code> \u9707\u6e90\u6642\u9593\u95a2\u6570\u7a2e\u5225\uff0e\u6307\u5b9a\u6cd5\u306f\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u9707\u6e90\u306b\u540c\u3058\uff0e <code>ntdec_w</code> Green\u95a2\u6570\u6ce2\u5f62\u51fa\u529b\u306e\u6642\u9593\u9593\u5f15\u304d\u9593\u9694\uff0e\u901a\u5e38\u8a08\u7b97\u306e\u6ce2\u5f62\u51fa\u529b\u6642\u306e\u6307\u5b9a\u306b\u540c\u3058\uff0e <p>\u9707\u6e90\u8981\u7d20\u4f4d\u7f6e\u30d5\u30a1\u30a4\u30eb\u306f<code>green_fmt</code>\u306e\u5024\u306b\u5fdc\u3058\u3066\u4ee5\u4e0b\u306e\u66f8\u5f0f\u3092\u53d6\u308b\uff0e</p> <code>green_fmt</code> \u66f8\u5f0f <code>\u2019xyz\u2019</code> x y z <code>gid</code> <code>\u2019llz\u2019</code> lon lat z <code>gid</code>"},{"location":"ja/2._Parameters/0211_2dcode/","title":"2\u6b21\u5143\u30b3\u30fc\u30c9\u56fa\u6709\u306e\u8a2d\u5b9a","text":"<p><code>OpenSWPC</code>\u306b\u306f\uff0c2\u6b21\u5143\u65ad\u9762\u306b\u304a\u3051\u308bP-SV\uff08<code>swpc_psv</code>\uff09\u3068SH\uff08<code>swpc_sh</code>\uff09\u306e\u30b3\u30fc\u30c9\u3082\u540c\u68b1\u3055\u308c\u3066\u3044\u308b\uff0e 2\u6b21\u5143\u30b3\u30fc\u30c9\u306f\u3059\u3079\u30663\u6b21\u5143\u30b3\u30fc\u30c9\u306exz\u65ad\u9762\uff08; \u56f3\u53c2\u7167\uff09\u306b\u304a\u3051\u308b x, z \u6210\u5206\uff08P-SV\uff09\u3082\u3057\u304f\u306f y \u6210\u5206\uff08SH\uff09\u3092\u8a08\u7b97\u3059\u308b\u30b3\u30fc\u30c9\u3068\u3057\u3066\u52d5\u4f5c\u3057\uff0c3\u6b21\u5143\u7248\u3068\u5b8c\u5168\u306b\u540c\u3058\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u7fa4\u3067\u52d5\u4f5c\u3059\u308b\uff0e \u9707\u6e90\u4f4d\u7f6e\u3082 x-z \u65ad\u9762\uff08y=0\uff09\u306b\u6295\u5f71\u3055\u308c\u308b\uff0e</p> <p>Figure</p> <p> \u6c34\u5e73\u9762\u5185\u306b\u304a\u3051\u308b2\u6b21\u5143\u554f\u984c\u3078\u306e\u6295\u5f71</p> <p>\u305f\u3060\u3057\uff0c\u305d\u308c\u305e\u308c\u306e\u6210\u5206\u3067\u5229\u7528\u3057\u306a\u3044\u30d1\u30e9\u30e1\u30bf\uff08\u305f\u3068\u3048\u3070\u89b3\u6e2c\u70b9\u4f4d\u7f6e\u306ey\u65b9\u5411\u6210\u5206\u3084\u9707\u6e90\u306b\u304a\u3051\u308b\u30e2\u30fc\u30e1\u30f3\u30c8\u30c6\u30f3\u30bd\u30eb\u306e\u975e\u5229\u7528\u6210\u5206\uff09\u306f\u7121\u8996\u3055\u308c\u308b\uff0e\u89b3\u6e2c\u70b9\u3084\u9707\u6e90\u4f4d\u7f6e\u306e\u6295\u5f71\u306e\u969b\uff0c\u305d\u306ey\u8ef8\u65b9\u5411\u306e\u5ea7\u6a19\u306f\u8003\u616e\u3055\u308c\u306a\u3044\uff0e\u6295\u5f71\u8ef8\u304b\u3089\u9060\u3044\u89b3\u6e2c\u70b9\u306e\u8a18\u9332\u3082\u51fa\u529b\u3055\u308c\u3066\u3057\u307e\u3046\u305f\u3081\uff0c\u30ea\u30b9\u30c8\u306e\u6307\u5b9a\u306b\u306f\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3042\u308b\uff0e \u5e73\u9762\u6ce2\u5165\u5c04\u306b\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u304c\uff0c<code>pw_strike</code>, <code>pw_rake</code> \u306f2\u6b21\u5143\u65ad\u9762\u5185\u3067\u306e\u632f\u52d5\u3092\u6e80\u305f\u3059\u3088\u3046\u306b\u56fa\u5b9a\u3055\u308c\u308b\uff0e\u50be\u659c\u89d2<code>pw_dip</code>\u3060\u3051\u304c\u6307\u5b9a\u3067\u304d\u308b\uff0e</p>"},{"location":"ja/2._Parameters/0211_2dcode/#2_1","title":"2\u6b21\u5143\u30b3\u30fc\u30c9\u306e\u7d50\u679c\u306b\u3064\u3044\u3066","text":"<p>\u5730\u9707\u6ce2\u4f1d\u64ad\u306b\u304a\u3044\u3066\uff0c3\u6b21\u5143\u30682\u6b21\u5143\u306e\u554f\u984c\u306f\u672c\u8cea\u7684\u306b\u7570\u306a\u3063\u3066\u3044\u308b\uff0e2\u6b21\u5143\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306f\uff0c3\u6b21\u5143\u7a7a\u9593\u3067y\u65b9\u5411\u306b\u7121\u9650\u306b\u7d9a\u304f\u7dda\u9707\u6e90\u3092\u4eee\u5b9a\u3057\u305f\u3053\u3068\u306b\u7b49\u3057\u304f\uff0c\u5730\u9707\u6ce2\u306e\u632f\u5e45\u3084\u5e7e\u4f55\u6e1b\u8870\u304c3\u6b21\u5143\u306e\u3082\u306e\u3068\u5927\u304d\u304f\u3053\u3068\u306a\u308b\uff0e\u305d\u306e\u305f\u3081\uff0c2\u6b21\u5143\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u7d50\u679c\u306e\u5730\u9707\u6ce2\u5f62\u3092\u89b3\u6e2c\u3055\u308c\u305f\u8a18\u9332\u3068\u5b9a\u91cf\u7684\u306b\u6bd4\u8f03\u3059\u308b\u306e\u306f\u305f\u3044\u3078\u3093\u306b\u5371\u967a\u3067\u3042\u308b\uff0e</p> <p>\u305f\u3060\u3057\uff0c\u4e00\u5b9a\u306e\u4eee\u5b9a\u306e\u3082\u3068\u3067\uff0c2\u6b21\u5143\u30b3\u30fc\u30c9\u306e\u7d50\u679c\u3092\u3042\u305f\u304b\u3082y\u65b9\u5411\u306b\u306f\u4e00\u69d8\u306a\u69cb\u9020\u3092\u6301\u30643\u6b21\u5143\u7a7a\u9593\u3067\u306e\u5730\u9707\u6ce2\u5f62\u3067\u3042\u308b\u304b\u306e\u3088\u3046\u306b\u5909\u63db\u3059\u308b\u624b\u6cd5\u306f\u5b58\u5728\u3059\u308b\uff0eVersion 5.2\u4ee5\u964d\u306fwvconv\u3067\u305d\u306e\u3088\u3046\u306a\u5909\u63db\u3092\u5b9f\u73fe\u3067\u304d\u308b\uff0e</p>"},{"location":"ja/3._Tools/0301_snapshot/","title":"\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8","text":""},{"location":"ja/3._Tools/0301_snapshot/#read_snpx","title":"<code>read_snp.x</code>","text":"<p>\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306f\u72ec\u81ea\u5f62\u5f0f\u3082\u3057\u304f\u306f<code>NetCDF</code>\u5f62\u5f0f\u306e\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u3067\u3042\u308b\u304c\uff0c\u3044\u305a\u308c\u3082\u30d7\u30ed\u30b0\u30e9\u30e0<code>read_snp.x</code>\u306b\u3088\u3063\u3066\u53ef\u8996\u5316\u3082\u3057\u304f\u306f\u632f\u5e45\u30c7\u30fc\u30bf\u306e\u62bd\u51fa\u304c\u3067\u304d\u308b\uff0e</p> <pre><code>read_snp.x -i snapshotfile [-h] [-ppm|-bmp] [-pall] [-mul var | -mul1 var -mul2 var ...] [-bin] [-asc] [-skip n]\n</code></pre> <code>-h</code> <p>\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u5185\u5305\u3055\u308c\u3066\u3044\u308b\u30d8\u30c3\u30c0\u60c5\u5831\u3092\u51fa\u529b\u3059\u308b\uff0e\u8a08\u7b97\u3092\u5b9f\u65bd\u3057\u305f\u65e5\u6642\u30fb\u8a08\u7b97\u30bf\u30a4\u30c8\u30eb\u30fb\u30b3\u30fc\u30c9\u7a2e\u5225\uff083D/PSV/SH\uff09\u30fb\u30b0\u30ea\u30c3\u30c9\u9593\u9694\u30fb\u5ea7\u6a19\u7cfb\u306a\u3069\u306e\u60c5\u5831\u304c\u51fa\u529b\u3055\u308c\u308b\uff0e\u4ee5\u4e0b\u306b\u4f8b\u3092\u793a\u3059\uff0e</p> <pre><code> $ ../bin/read_snp.x -i swpc_3d.xz.ps.snp -h\n\n [binary type]   : STREAMIO\n [code type]     : SWPC_3D\n [header version]:          3\n [title]         : swpc_3d\n [date generated]: 1408015126\n                   2014-08-14T11-18-46\n [coordinate]    : xz\n [data type]     : ps\n [ns1]           :        256\n [ns2]           :        256\n [beg1]          :       -63.87500\n [beg2]          :        -9.87500\n [ds1]           :         0.25000\n [ds2]           :         0.25000\n [dt]            :         0.05000\n [na1]           :         20\n [na2]           :         20\n [nmed]          :          3\n [nsnp]          :          2\n [clon]          :       143.50000\n [clat]          :        42.00000\n</code></pre> <code>-ppm</code>, <code>-bmp</code> \u305d\u308c\u305e\u308cppm\u3082\u3057\u304f\u306fbmp\u5f62\u5f0f\u306e\u753b\u50cf\u3092\u51fa\u529b\u3059\u308b\uff0e\u7d50\u679c\u306f\u305d\u308c\u305e\u308c<code>ppm</code>/<code>bmp</code>\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff08\u81ea\u52d5\u4f5c\u6210\uff09\u306b\u9023\u756a\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u683c\u7d0d\u3055\u308c\u308b\uff0e\u53ef\u8996\u5316\u5bfe\u8c61\u304c\u901f\u5ea6\u3042\u308b\u3044\u306f\u5909\u4f4d\u3067\u3042\u308c\u3070\uff0c\u4e0a\u4e0b\u52d5\u3068\u6c34\u5e73\u52d5\u3092\u305d\u308c\u305e\u308c\u8d64\u3068\u7dd1\u3067\uff0cP\u6ce2\u30fbS\u6ce2\uff08div, rot\uff09\u3067\u3042\u308c\u3070\u305d\u308c\u305e\u308c\u306e\u6210\u5206\u306e\u7d76\u5bfe\u5024\u3092\u8d64\u3068\u7dd1\u3067\u8272\u5206\u3051\u3057\u3066\u8868\u793a\u3059\u308b\uff0e\u305f\u3060\u3057\uff0c\u7d76\u5bfe\u5024\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u4ed8\u52a0\u3055\u308c\u305f\u5834\u5408\u306b\u306fGMT\u306e\u30ab\u30e9\u30fc\u30d1\u30ec\u30c3\u30c8hot\u76f8\u5f53\u306e\u8272\u3067\u7d76\u5bfe\u5024\u3092\u53ef\u8996\u5316\u3059\u308b\uff0e <p>BMP\u5f62\u5f0f\u306e\u5236\u9650</p> <p><code>bmp</code> \u306f\u4ed5\u69d8\u306b\u3088\u308a\u753b\u7d20\u6570\u306b\u3088\u3063\u3066\u3046\u307e\u304f\u52d5\u304b\u306a\u3044\u3053\u3068\u304c\u3042\u308b\uff0e<code>ppm</code>\u5f62\u5f0f\u3092\u63a8\u5968\u3059\u308b\uff0e</p> <code>-pall</code> \u5438\u53ce\u5883\u754c\u9818\u57df\u307e\u3067\u542b\u3081\u3066\u53ef\u8996\u5316\u3092\u884c\u3046\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u5207\u308a\u843d\u3068\u3059\uff09 <code>-mul</code> \u53ef\u8996\u5316\u3059\u308b\u969b\u306b\u51fa\u529b\u632f\u5e45\u3092var\u500d\u3059\u308b\uff0e\u8272\u306e\u5f37\u3055\u306e\u8abf\u6574\u3092\u3053\u3053\u3067\u884c\u3046\uff0e<code>-mul1</code>, <code>-mul2</code>\u306a\u3069\u3092\u7528\u3044\u308b\u3068\uff0c\u6210\u5206\u3054\u3068\u306e\u632f\u5e45\u306e\u91cd\u307f\u3092\u500b\u5225\u306b\u4e0e\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0e\u3053\u308c\u306b\u3088\u308a\uff0c\u305f\u3068\u3048\u3070P\u6ce2\u3060\u3051\u3042\u308b\u3044\u306f\u4e0a\u4e0b\u52d5\u3060\u3051\u3068\u3044\u3046\u3088\u3046\u306b\uff0c\u7279\u5b9a\u6210\u5206\u3060\u3051\u3092\u5207\u308a\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u308b\uff0e <code>-abs</code> \u901f\u5ea6\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306b\u5bfe\u3057\u3066\u305d\u306e\u7d76\u5bfe\u5024\u3092\u53ef\u8996\u5316\u3059\u308b\uff0eP\u6ce2\u30fbS\u6ce2\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306f\u3082\u3068\u3082\u3068\u305d\u308c\u305e\u308c\u306e\u7d76\u5bfe\u5024\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u52d5\u4f5c\u3057\u306a\u3044\uff0e <code>-bin</code>, <code>-asc</code> \u5404\u6642\u9593\u30b9\u30c6\u30c3\u30d7\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3092\u5358\u7cbe\u5ea6\u30d0\u30a4\u30ca\u30ea\u3082\u3057\u304f\u306f\u30a2\u30b9\u30ad\u30fc\u30c7\u30fc\u30bf\u3068\u3057\u3066bin\u3082\u3057\u304f\u306fasc\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u51fa\u529b\u3059\u308b\uff0e\u30d0\u30a4\u30ca\u30ea\u30c7\u30fc\u30bf\u306f<code>GMT</code>(<code>xyz2grd</code>\u306a\u3069\uff09\u304b\u3089-bis\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u76f4\u63a5\u8aad\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u308b\uff0e <code>-skip n</code> \u6700\u521d\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3092\u8aad\u307f\u98db\u3070\u3059\uff0e <code>-notim</code> (after v5.1) \u53ef\u8996\u5316\u753b\u50cf\u306b\u7d4c\u904e\u6642\u9593\u3092\u30d7\u30ed\u30c3\u30c8\u3057\u306a\u3044\uff0e"},{"location":"ja/3._Tools/0301_snapshot/#diff_snpx","title":"<code>diff_snp.x</code>","text":"<p>\u3075\u305f\u3064\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u5dee\u3092\u53d6\u308a\uff0c\u540c\u3058\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3059\u308b\uff0e</p> <pre><code>$ diff_snp.x snap1 snap2 diffile\n</code></pre> <p>\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\uff08<code>NetCDF</code>\u3082\u3057\u304f\u306f\u72ec\u81ea\u30d0\u30a4\u30ca\u30ea\uff09\u306f\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u4f9d\u5b58\u3059\u308b\uff0e</p>"},{"location":"ja/3._Tools/0301_snapshot/#fs2grdx","title":"<code>fs2grd.x</code>","text":"<p>New in v5.1</p> <p><code>OpenSWPC</code>\u306e\u5730\u8868\u9762\u3082\u3057\u304f\u306f\u6d77\u9762\u306b\u304a\u3051\u308b\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb<code>(title).(ob|fs).(typ).nc</code>\u306f\uff0cNetCDF\u5f62\u5f0f\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3042\u308b\u3082\u306e\u306e\uff0c\u7def\u5ea6\u7d4c\u5ea6\u65b9\u5411\u306b\u7b49\u9593\u9694\u306e\u30c7\u30fc\u30bf\u3067\u306f\u306a\u3044\u305f\u3081\uff0cGMT\u306e<code>grdimage</code>\u3067\u306f\u305d\u306e\u307e\u307e\u30d7\u30ed\u30c3\u30c8\u3067\u304d\u306a\u3044\uff0e</p> <p><code>fs2grd.x</code>\u306f\uff0c<code>OpenSWPC</code>\u5185\u6307\u5b9a\u3055\u308c\u305f\u7def\u5ea6\u7d4c\u5ea6\u7bc4\u56f2\u3068\u9593\u9694\u3067\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u3092\u30ea\u30b5\u30f3\u30d7\u30eb\u3057\uff0cGMT\u3067\u76f4\u63a5\u5229\u7528\u53ef\u80fd\u306agrd\u5f62\u5f0f\u306e\u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\uff0e</p> <pre><code>$ fs2grd.x -i input.nc -v variable_name -R region -dlon delta_lon -dlat delta_lat </code></pre> <code>-i</code> <code>OpenSWPC</code>\u51fa\u529b\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\uff08NetCDF\u5f62\u5f0f\uff09\u30d5\u30a1\u30a4\u30eb\uff0e\u5730\u8868\u9762\uff08<code>fs</code>\uff09\u30fb\u6d77\u5e95\u9762\uff08<code>ob</code>\uff09\u3042\u308b\u3044\u306f<code>xy</code>\u30c7\u30fc\u30bf\u3067\u3042\u308b\u3053\u3068\uff0e <code>-R</code> <code>lon0/lon1/lat0/lat1</code> \u30ea\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u3092\u4f5c\u308b\u9818\u57df\uff0e\u7d4c\u5ea6\u65b9\u5411\u306e\u6700\u5c0f<code>lon0</code>\u3068\u6700\u5927<code>lon1</code>\uff0c\u7def\u5ea6\u65b9\u5411\u306e\u6700\u5c0f<code>lat0</code>\u3068<code>lat1</code>\u3092\u4e0e\u3048\u308b\uff0e   \u8a18\u6cd5\u306fGMT\u306e\u66f8\u5f0f\u306b\u6e96\u3058\u308b\u304c\uff0c<code>-R</code>\u3068\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u5024\u306e\u9593\u306b\u306f\u7a7a\u767d\u304c\u5fc5\u8981\u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\uff0e\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u9818\u57df\u306e\u5916\u5074\u3092\u542b\u3093\u3060\u5834\u5408\uff0c\u305d\u3053\u306fNaN\u3067\u57cb\u3081\u3089\u308c\u308b\uff0e <code>-dlon</code> delta_lon, <code>-dlat</code> delta_lat \u7d4c\u5ea6\u30fb\u7def\u5ea6\u65b9\u5411\u306e\u30b0\u30ea\u30c3\u30c9\u9593\u9694\uff0e\u3053\u306e\u9593\u9694\u3067\u88dc\u9593\u3055\u308c\u308b\uff0e <code>-v</code> variable_name \u5909\u6570\u540d\uff0e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u6c34\u5e73\u97622\u6b21\u5143\u914d\u5217\u30c7\u30fc\u30bf\u3067\u3042\u308c\u3070\u4f55\u3067\u3082\u826f\u3044\uff0e\u5909\u6570\u306e\u4e00\u89a7\u306f<code>ncdump -h</code>\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0e<code>Vx, Vy, Vz</code>\u3084<code>div, rot_x, rot_y, rot_z</code>\u306e\u3088\u3046\u306a\u6642\u9593\u5909\u5316\u3059\u308b\u30c7\u30fc\u30bf\u306f\uff0c\u6642\u9593\u30b9\u30c6\u30c3\u30d7\u3054\u3068\u306b\u5206\u5272\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u308b\uff0e"},{"location":"ja/3._Tools/0302_vmodel/","title":"\u69cb\u9020\u30e2\u30c7\u30eb\u306e\u78ba\u8a8d","text":""},{"location":"ja/3._Tools/0302_vmodel/#qmodel_taux","title":"<code>qmodel_tau.x</code>","text":"<p><code>OpenSWPC</code>\u306e\u5165\u529b\u30d1\u30e9\u30e1\u30bf\u30d5\u30a1\u30a4\u30eb\u3092\u5143\u306b\uff0c\u5024\u3068\u5b9f\u4f53\u6ce2\u306e\u5206\u6563\u6027\u306e\u5468\u6ce2\u6570\u4f9d\u5b58\u6027\u3092\u8a08\u7b97\u3059\u308b\uff0e</p> <pre><code>$ qmodel_tau.x -nm [nm] -i [prm_file] -f0 [min_freq] -f1 [max_freq] -nf [ngrid]\n</code></pre> <p>\u5468\u6ce2\u6570<code>min_freq</code>\u304b\u3089<code>max_freq</code>\u307e\u3067\u306e\u533a\u9593\u3092\u5bfe\u6570\u7b49\u9593\u9694\u306b<code>ngrid</code>\u306b\u5206\u5272\u3057\uff0cQ^{-1}(f)\u3068\u5b9f\u4f53\u6ce2\u901f\u5ea6\u306e\u5206\u6563\u6027\u3092\u51fa\u529b\u3059\u308b\uff0e\u5730\u9707\u6ce2\u901f\u5ea6\u306f\u57fa\u6e96\u5468\u6ce2\u6570\u30671\u306b\u898f\u683c\u5316\u3055\u308c\u3066\u3044\u308b\uff0e\u7c98\u5f3e\u6027\u4f53\u306b\u95a2\u308f\u308b\u30d1\u30e9\u30e1\u30bf\u306f\u306e\u5165\u529b<code>prm_file</code>\u304b\u3089\u8aad\u307f\u8fbc\u3080\u304c\uff0c\u30b3\u30fc\u30c9\u306e\u57cb\u3081\u8fbc\u307f\u30d1\u30e9\u30e1\u30bf\u3067\u3042\u308b<code>NM</code>\u306f\u5225\u9014\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u4e0e\u3048\u308b\u5fc5\u8981\u304c\u3042\u308b\uff0e</p>"},{"location":"ja/3._Tools/0302_vmodel/#grdsnpx","title":"<code>grdsnp.x</code>","text":"<p>\u69cb\u9020\u30e2\u30c7\u30ebgrd\u30d5\u30a1\u30a4\u30eb\u304b\u3089\uff0c<code>OpenSWPC</code>\u306e\u5165\u529b\u30d1\u30e9\u30e1\u30bf\u306b\u57fa\u3065\u3044\u305f\u5ea7\u6a19\u5909\u63db\u306b\u3088\u308a\uff0c\u8a08\u7b97\u5ea7\u6a19\u7cfb\u306e(x, y, depth)\u3092\u30a2\u30b9\u30ad\u30fc\u3067\u6a19\u6e96\u51fa\u529b\u306b\u51fa\u529b\u3059\u308b\uff0e\u8a08\u7b97\u30e2\u30c7\u30eb\u9818\u57df\u306e\u5207\u308a\u51fa\u3057\u306e\u78ba\u8a8d\u3084\uff0c\u305d\u308c\u3092GMT\u7b49\u3067\u53ef\u8996\u5316\u3059\u308b\u969b\u306b\u7528\u3044\u308b\uff0e</p> <pre><code>$ grdsnp.x -i [prm_file] -g [grd_file]\n</code></pre>"},{"location":"ja/3._Tools/0303_parameter/","title":"\u30d1\u30e9\u30e1\u30bf\u4f5c\u6210\u652f\u63f4","text":""},{"location":"ja/3._Tools/0303_parameter/#fdmcondx","title":"<code>fdmcond.x</code>","text":"<p>\u5dee\u5206\u6cd5\u306e\u7a7a\u9593\u30fb\u6642\u9593\u30b0\u30ea\u30c3\u30c9\u9593\u9694\u306f\uff0c\u4e3b\u3068\u3057\u3066CFL\u5b89\u5b9a\u6761\u4ef6\u306b\u5f8b\u901f\u3055\u308c\u308b\uff0e\u307e\u305f\uff0c\u9707\u6e90\u3067\u8f3b\u5c04\u3055\u308c\u308b\u5730\u9707\u52d5\u306e\u7279\u5fb4\u7684\u5468\u6ce2\u6570\u306e\u4e0a\u9650\u306f\u6ce2\u9577\u6761\u4ef6\uff08\u5730\u9707\u6ce2\u306e\u6ce2\u9577\u304c510\u30b0\u30ea\u30c3\u30c9\u3088\u308a\u5927\u304d\u304f\u306a\u304f\u3066\u306f\u306a\u3089\u306a\u3044\uff09\u306b\u3088\u3063\u3066\u5236\u9650\u3055\u308c\u308b\uff0e \u524d\u8005\u304c\u6e80\u305f\u3055\u308c\u306a\u3044\u3068\u8a08\u7b97\u306f\u5b89\u5b9a\u306b\u5b9f\u884c\u3055\u308c\u305a\u767a\u6563\u3057\uff0c\u5f8c\u8005\u306e\u5834\u5408\u306b\u306f\u767a\u6563\u3053\u305d\u3057\u306a\u3044\u3082\u306e\u306e\u6570\u5024\u5206\u6563\u306b\u3068\u3082\u306a\u3046\u8aa4\u5dee\u304c\u5927\u304d\u304f\u306a\u308b\uff0e</p> <p>fdmcond.x \u306f\u3053\u308c\u3089\u306e\u30d1\u30e9\u30e1\u30bf\u3092\u5bfe\u8a71\u7684\u306b\u6c42\u3081\u308b\u30c4\u30fc\u30eb\u3067\u3042\u308b\uff0e\u7a7a\u9593\u30fb\u6642\u9593\u306e\u30b0\u30ea\u30c3\u30c9\u9593\u9694\uff0c\u6700\u5927\u5468\u6ce2\u6570fmax\uff0c\u9707\u6e90\u306b\u304a\u3051\u308b\u30e9\u30a4\u30ba\u30bf\u30a4\u30e0Tr\uff0c\u5730\u9707\u6ce2\u901f\u5ea6\u306e\u6700\u5c0f\u6700\u5927\u5024vmin, vmax\u306a\u3069\u306e\u5e7e\u3064\u304b\u306e\u7d44\u307f\u5408\u308f\u305b\u3092\u4e0e\u3048\u308b\u3068\uff0c\u6b8b\u308a\u306e\u30d1\u30e9\u30e1\u30bf\u306e\u6761\u4ef6\u3092\u63d0\u793a\u3057\u3066\u304f\u308c\u308b\uff0e</p> <pre><code>$  ./fdmcond.x \n\n----------------------------------------------------------------------\n                           FDM CONDITION                           \n----------------------------------------------------------------------\n\n\n  Model Dimension ? --&gt; 3\n   2) 2D\n   3) 3D\n\n\n Source Type ? --&gt; 3\n   1) Triangle\n   2) Herrmann\n   3) Kupper\n\n\n Parameter Combination ? --&gt; 5\n   1) dh   (space grid),  fmax (max freq.),  vmax (max vel.)\n   2) dh   (space grid),  Tr   (rise time),  vmax (max vel.)\n   3) dh   (space grid),  fmax (max freq.),  dt (time grid)\n   4) dh   (space grid),  Tr   (rise time),  dt (time grid)\n   5) dh   (space grid),  vmin (min vel.),   vmax (max vel.)\n   6) dh   (space grid),  vmin (min vel.),   dt (time grid) \n   7) fmax (max freq.) ,  vmax (max vel.),   dt (time grid)\n   8) Tr   (rise time) ,  vmax (max vel.),   dt (time grid)\n   9) vmin (min vel.)  ,  vmax (max vel.),   dt (time grid)\n\n\n Assumed Parameters: \n   dx     =   0.25\n   dy     =   0.25\n   dz     =   0.25\n   vmin   =   0.3\n   vmax   =   8.0\n\n Derivaed Parameters: \n   dt    &lt;=   0.01546\n   fmax  &lt;=   0.17143\n   Tr    &gt;=  13.41667\n</code></pre>"},{"location":"ja/3._Tools/0303_parameter/#mapregionx","title":"<code>mapregion.x</code>","text":"<p>\u8a08\u7b97\u9818\u57df\u306f<code>clon</code>, <code>clat</code>, <code>phi</code>, <code>xbeg</code>, <code>ybeg</code>, <code>nx</code>, <code>ny</code>, <code>dx</code>, <code>dy</code>\u306a\u3069\u306e\u30d1\u30e9\u30e1\u30bf\u306b\u3088\u3063\u3066\u81ea\u52d5\u7684\u306b\u6c7a\u5b9a\u3055\u308c\u308b\uff0e <code>mapregion.x</code>\u306f\uff0c\u306e\u5165\u529b\u30d1\u30e9\u30e1\u30bf\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u3053\u307f\uff0c\u5bfe\u5fdc\u3059\u308b\u5730\u56f3\u9818\u57df\u7bc4\u56f2\u3092\u51fa\u529b\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3042\u308b\uff0e<code>xbeg</code>, <code>ybeg</code>, <code>xend</code>, <code>yend</code>\u3067\u5b9a\u7fa9\u3055\u308c\u308b\u9818\u57df\u306e\u5916\u5074\u7dda\u306e\u7def\u5ea6\u7d4c\u5ea6\u4f4d\u7f6e\u3092\u51fa\u529b\u3059\u308b\uff0e</p> <pre><code>$ mapregion.x -i input.inf -o region.dat\n</code></pre> <p><code>-o</code>\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u4e0e\u3048\u3089\u308c\u306a\u3044\u5834\u5408\u306b\u306f\u6a19\u6e96\u51fa\u529b\u306b\u51fa\u529b\u3092\u884c\u3046\uff0e \u307e\u305f\uff0c\u672c\u30b3\u30fc\u30c9\u306fN_M=3\u3092\u4eee\u5b9a\u3057\u305f\u5834\u5408\u306e\u4e88\u60f3\u30e1\u30e2\u30ea\u5229\u7528\u91cf\u3092\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u51fa\u529b\u3059\u308b\uff0e</p>"},{"location":"ja/3._Tools/0303_parameter/#mapregiongmt","title":"<code>mapregion.gmt</code>","text":"<p><code>mapregion.x</code>\u3092\u547c\u3073\u51fa\u3057\u3066\u5730\u56f3\u9818\u57df\u3092\u63cf\u753b\u3059\u308b<code>GMT</code>\u30b9\u30af\u30ea\u30d7\u30c8\uff0eGMT\u30d0\u30fc\u30b8\u30e7\u30f35\u4ee5\u964d\u304c\u5fc5\u8981\u3067\u3042\u308b\uff0e</p>"},{"location":"ja/3._Tools/0304_rmedia/","title":"\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u751f\u6210","text":""},{"location":"ja/3._Tools/0304_rmedia/#gen_rmed3dx","title":"<code>gen_rmed3d.x</code>","text":"<p>3\u6b21\u5143\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u3092\u4f5c\u6210\u3059\u308b\uff0e</p> <pre><code>gen_rmed3d.x  [-o outfile] [-nx nx] [-ny ny] [-nz nz] [-epsil epsilon]  [-kappa kappa] \n               [-dx dx] [-dy dy] [-dz dz] [-ax ax] [-ay ay] [-az az]  \n               [-ptype ptype] {-seed seed_number}\n</code></pre> <code>-o outfile</code> <p>\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d</p> <code>-nx nx</code>, <code>-ny ny</code> <code>-nz nz</code> <p>\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba\uff0e2\u306e\u3079\u304d\u4e57\u3067\u3042\u308b\u3053\u3068\uff0e</p> <code>-epsil epsilon</code> <p>\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u306e\u3086\u3089\u304eRMS </p> <code>-ax ax</code>, <code>-ay ay</code>, <code>-az az</code> <p>\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u306e\u5404\u65b9\u5411\u306e\u7279\u5fb4\u7684\u30b9\u30b1\u30fc\u30eb\uff0e</p> <code>-dx dx -dy dy -dz dz</code> <p>\u7a7a\u9593\u30b0\u30ea\u30c3\u30c9\u9593\u9694\uff0e\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u7528\u3044\u308b\u9593\u9694\u3068\u540c\u4e00\u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\uff0e</p> <code>-ptype ptype</code> <p>PSDF\u306e\u7a2e\u5225\uff0e1:Gaussian, 2:Exponential, 3:von K\u00e1rm\u00e1n</p> <code>-kappa kappa</code> <p>von K\u00e1rm\u00e1n\u578b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\\kappa</p> <code>-seed seed_number</code> <p>\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09\u4e71\u6570\u306e\u30b7\u30fc\u30c9\u3092\u56fa\u5b9a\uff0e\u6574\u6570\u5024\u3067\u4e0e\u3048\u308b\uff0e\u7701\u7565\u3055\u308c\u305f\u5834\u5408\u306f\u65e5\u4ed8\u6642\u523b\u306b\u57fa\u3065\u304d\u81ea\u52d5\u751f\u6210\u3055\u308c\u308b\uff0e</p> <p>\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u306f3\u6b21\u5143\u306e<code>NetCDF</code>\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u4f5c\u6210\u3055\u308c\u308b\uff0e\u4e00\u822c\u7684\u306a\u53ef\u8996\u5316\u30bd\u30d5\u30c8\uff08\u305f\u3068\u3048\u3070 <code>ParaView</code>\u3084<code>NetCDF</code>\u5c02\u7528\u306e\u53ef\u8996\u5316\u30bd\u30d5\u30c8\uff08\u305f\u3068\u3048\u3070<code>Panoply</code>\uff09\u306a\u3069\u3067\u53ef\u8996\u5316\u3057\u305f\u308a\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0e</p> <p>\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u306e\u4f8b</p> <p> <code>ParaView</code>\u306b\u3088\u308b3\u6b21\u5143\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u306e\u53ef\u8996\u5316\u306e\u4f8b\uff0e</p>"},{"location":"ja/3._Tools/0304_rmedia/#gen_rmed2dx","title":"<code>gen_rmed2d.x</code>","text":"<p>2\u6b21\u5143\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u3092\u4f5c\u6210\u3059\u308b\uff0e\u4f7f\u3044\u65b9\u306f<code>gen_rmed3d.x</code>\u3068\u307b\u307c\u540c\u3058\u3067\u3042\u308a\uff0cy\u8ef8\u65b9\u5411\u306e\u5165\u529b\u304c\u7121\u8996\u3055\u308c\u308b\uff0e</p>"},{"location":"ja/3._Tools/0305_misc/","title":"\u305d\u306e\u4ed6\u306e\u30c4\u30fc\u30eb","text":""},{"location":"ja/3._Tools/0305_misc/#timvis-tools","title":"timvis tools","text":"<p><code>timvis.gmt</code> \u3068 <code>timvis_abs.gmt</code> \u306f<code>stopwatch_mode = .true.</code>\u306e\u969b\u306b\u51fa\u529b\u3055\u308c\u308b\u7d4c\u904e\u6642\u9593\u30d5\u30a1\u30a4\u30eb\u3092\u89e3\u6790\u3057\uff0c\u5404\u8a08\u7b97\u30ce\u30fc\u30c9\u3067\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3\u6bce\u306e\u8a08\u7b97\u8ca0\u8377\u306e\u30d0\u30e9\u30f3\u30b9\u3092\u53ef\u8996\u5316\u3059\u308b\uff0eGMT\u30d0\u30fc\u30b8\u30e7\u30f35\u4ee5\u964d\u304c\u5fc5\u8981\u3067\u3042\u308b\uff0e</p>"},{"location":"ja/3._Tools/0305_misc/#_2","title":"\u5730\u7406\u5ea7\u6a19\u5909\u63db","text":"<p><code>ll2xy.x</code>\u3068<code>xy2ll.x</code>\u306f\uff0c\u3067\u63a1\u7528\u3055\u308c\u3066\u3044\u308b\u30ac\u30a6\u30b9\u30fb\u30af\u30ea\u30e5\u30fc\u30b2\u30eb\u5909\u63db\u306b\u3088\u3063\u3066\u7def\u5ea6\u7d4c\u5ea6\u3068\u30c7\u30ab\u30eb\u30c8\u5ea7\u6a19\u7cfb\u306e\u76f8\u4e92\u5909\u63db\u3092\u884c\u3046\u30c4\u30fc\u30eb\u3067\u3042\u308b\uff0e</p>"},{"location":"ja/3._Tools/0305_misc/#2d-3d-wvconvx","title":"2D-3D\u5909\u63db\u30c4\u30fc\u30eb wvconv.x","text":"<p>New in version 5.2</p> <p><code>wvconv.x</code> \u306f2\u6b21\u5143\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u7d50\u679c\u306b\u57fa\u3065\u3044\u3066\uff0c3\u6b21\u5143\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u76f8\u5f53\u306e\u5730\u9707\u6ce2\u5f62\u306b\u5909\u63db\u3059\u308b\u30c4\u30fc\u30eb\u3067\u3042\u308b\uff0e</p> <p>\u9707\u6e90\u4f4d\u7f6e\u306e\u70b9\u9707\u6e90\u306b\u3088\u308b3\u6b21\u5143\u7a7a\u9593\u306e\u5730\u9707\u6ce2\u5f62V_{3D}(\\xi, \\eta, \\zeta, t)\u306f\uff0c\u9707\u6e90\u4f4d\u7f6e(\\xi, \\zeta)\u306b\u3088\u308b2\u6b21\u5143\u7a7a\u9593\u306e\u5730\u9707\u6ce2\u5f62V_{2D}(\\xi,\\zeta, t)\u3068\uff0c\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u95a2\u4fc2\u306b\u3042\u308b: </p>  \\begin{align} V_{2D}(\\xi, \\zeta, t) = \\int_{-\\infty}^\\infty V_{3D}(\\xi, \\eta, \\zeta, t) d \\eta  \\end{align}  <p>\u3064\u307e\u308a\uff0cV_{3D}\u3092y\u8ef8\u65b9\u5411\u306b\u9707\u6e90\u306b\u3064\u3044\u3066\u7a4d\u5206\u3057\u305f\u7dda\u9707\u6e90\u306b\u3088\u308b\u5730\u9707\u6ce2\u304c2\u6b21\u5143\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u7d50\u679c\u3067\u3042\u308b\uff0e\u4e00\u65b9\uff0c\u3053\u306e\u9006\u5909\u63db\u306f\uff0c</p>  \\begin{align}     V_{3D}(\\xi, \\eta=0, \\zeta, t) = \\frac{1}{\\pi}      \\sqrt{\\frac{1}{2 R v}}      \\frac{d}{dt}     \\left[ \\frac{1}{\\sqrt{t}} \\ast V_{2D}(\\xi, \\zeta, t) \\right] \\end{align}  <p>\u306b\u3088\u3063\u3066\u8a08\u7b97\u3067\u304d\u308b1\uff0e\u3053\u3053\u3067R\u306f\u4f1d\u64ad\u8ddd\u96e2\uff0cv\u306f\u5404\u5730\u9707\u6ce2\u76f8\u306e\u901f\u5ea6\u3067\u3042\u308b\uff0e\u8a18\u53f7\\ast\u306f\u7573\u307f\u8fbc\u307f\u3092\u8868\u3059\uff0e</p> <p>\u30c4\u30fc\u30eb <code>wvconv.x</code> \u306f\uff0cR\u3068v\u4e00\u5b9a\u306e\u4eee\u5b9a\u306e\u3082\u3068\u3067\uff0c\u5468\u6ce2\u6570\u9818\u57df\u306b\u3088\u308b\u8a08\u7b97</p>  \\begin{align}     &amp; \\widetilde{V}_{2D} (\\xi, \\zeta, f) = \\int_{-\\infty}^\\infty      V_{2D} (\\xi, \\zeta, f) e^{i 2 \\pi f t} dt      \\\\     &amp; V_{3D}(\\xi, \\eta=0, \\zeta, t) =      \\int_{-\\infty}^\\infty     \\sqrt{-\\frac{i f}{Rv}}     \\widetilde{V}_{2D} (\\xi, \\zeta, f)     e^{-i 2 \\pi f t} d f \\end{align}  <p>\u306b\u3088\u3063\u30663\u6b21\u5143\u7a7a\u9593\u306b\u304a\u3051\u308b\u6a21\u64ec\u6ce2\u5f62\u3092\u8a08\u7b97\u3059\u308b\uff0e\u3053\u3053\u3067R\u306f\u9707\u6e90\u89b3\u6e2c\u70b9\u304b\u3089\u306e\u76f4\u7dda\u8ddd\u96e2\u3067\uff0cv\u306e\u5024\u306f\u30d1\u30e9\u30e1\u30bf\u3068\u3057\u3066\u4e0e\u3048\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u304c\uff0c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fv=4000 m/s\u3092\u4eee\u5b9a\u3057\u3066\u8a08\u7b97\u3059\u308b\uff0e</p>"},{"location":"ja/3._Tools/0305_misc/#usage","title":"Usage","text":"<pre><code>wvconv.x in.sac out.sac (V0)\n     in.sac: input SAC file (must be 2D simulation output)\n     out.sac: output SAC filename\n     V0 (optional): assumed average velocity in m/s unit. Default is 4000 m/s\n</code></pre> <p>\u4e00\u4f8b\u3068\u3057\u3066\uff0c<code>example/lhm.dat</code>\u306e1\u6b21\u5143\u69cb\u9020\u3067\u8a08\u7b97\u3057\u305fP-SV2\u6b21\u5143\u30b3\u30fc\u30c9\u306b\u3088\u308b\u6ce2\u5f62\u304b\u3089<code>wvconv.x</code>\u306b\u3088\u308a\u5909\u63db\u3057\u305f\uff08V=4000 m/s\uff09\u6ce2\u5f62\u3068\uff0c\u540c\u3058\u69cb\u9020\u3067\u306e3\u6b21\u5143\u8a08\u7b97\u306e\u7d50\u679c\u306e\u6bd4\u8f03\u3092\u4e0b\u56f3\u306b\u793a\u3059\uff0e</p> <p>Figure</p> <p> 3\u6b21\u5143\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u7d50\u679c\uff08\u7070\u8272\u7dda\uff09\u30682\u6b21\u5143P-SV\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u7d50\u679c\u3092<code>wvconv.x</code>\u3067\u5909\u63db\u3057\u305f\u3082\u306e\uff08\u8d64\u7dda\uff09\u306e\u6bd4\u8f03\uff0e</p> <p>\u5730\u9707\u6ce2\u76f8\u306e\u901f\u5ea6\u30924000 m/s\u3068\u4eee\u5b9a\u3059\u308b\u305f\u3081\uff0c\u305d\u3053\u304b\u3089\u5916\u308c\u308bP\u6ce2\u3084\u8868\u9762\u6ce2\u5f8c\u7d9a\u76f8\u3067\u306f\u82e5\u5e72\u306e\u632f\u5e45\u306e\u9055\u3044\u304c\u898b\u3089\u308c\u308b\u304c\uff0c\u5168\u822c\u7684\u306b\u6ce2\u5f62\u306f\u975e\u5e38\u306b\u3088\u304f\u4e00\u81f4\u3057\u3066\u3044\u308b\uff0e\u3082\u3057<code>wvconv.x</code>\u3092\u4ecb\u3055\u305a\u306b\u6bd4\u8f03\u3059\u308b\u3068\uff0c\u632f\u5e45\u3082\u6ce2\u5f62\u5f62\u72b6\u3082\u307e\u3063\u305f\u304f\u7570\u306a\u308b\uff0e</p> <p>Warning</p> <p><code>wvconv.x</code>\u306fVersion 5.2\u3067\u65b0\u305f\u306b\u5c0e\u5165\u3055\u308c\u305f\u30b3\u30fc\u30c9\u3067\u3042\u308a\uff0c\u307e\u3060\u5341\u5206\u306b\u67af\u308c\u3066\u3044\u306a\u3044\uff0e\u5229\u7528\u306b\u306f\u7d30\u5fc3\u306e\u6ce8\u610f\u3092\u6255\u3063\u3066\u6b32\u3057\u3044\uff0e</p> <ol> <li> <p>Li, D., Helmberger, D., Clayton, R. W., &amp; Sun, D. (2014). Global synthetic seismograms using a 2-D finite-difference method. Geophysical Journal International, 197(2), 1166\u20131183. doi:10.1093/gji/ggu050\u00a0\u21a9</p> </li> </ol>"},{"location":"ja/4._Hints/0401_modelset/","title":"\u8a08\u7b97\u30e2\u30c7\u30eb\u8a2d\u5b9a","text":"<p>\u7279\u306b3\u6b21\u5143\u8a08\u7b97\u3067\u306f\uff0c\u8a08\u7b97\u898f\u6a21\u306f\u30e1\u30e2\u30ea\u30b5\u30a4\u30ba\u306b\u3088\u3063\u3066\u5236\u9650\u3055\u308c\u308b\uff0e\u672c\u30b3\u30fc\u30c9\u304c\u5fc5\u8981\u3068\u3059\u308b\u30e1\u30e2\u30ea\u91cf\u306e\u6982\u7b97\u5024\u306f\uff0c\u6df7\u5408\u7cbe\u5ea6\u304b\u3064<code>NM=3</code>\u306e\u5834\u5408\uff0c</p> <p>\u3067\u3042\u308b\uff0e\u305f\u3060\u3057\uff0c\u3053\u308c\u306f3\u6b21\u5143\u4ee5\u4e0a\u306e\u914d\u5217\u306e\u5bb9\u91cf\u306e\u7dcf\u548c\u3092\u53d6\u3063\u305f\u3082\u306e\u3067\uff0c\u304b\u3064\u5438\u53ce\u5883\u754c\u6761\u4ef6\u90e8\u5206\u306f\u8003\u616e\u3057\u3066\u3044\u306a\u3044\uff0e \u3053\u308c\u306bn_x \\times n_y \\times n_z\u3092\u4e57\u305a\u308c\u3070\u5fc5\u8981\u3068\u3059\u308b\u5408\u8a08\u30e1\u30e2\u30ea\u91cf\u306e\u6982\u7b97\u5024\u304c\u5f97\u3089\u308c\u308b\uff0e \u3042\u3068\u306f\u5404\u8a08\u7b97\u30ce\u30fc\u30c9\u3067\u306e\u8981\u6c42\u30e1\u30e2\u30ea\u91cf\u304c\u5229\u7528\u53ef\u80fd\u306a\u8cc7\u6e90\u91cf\u3092\u8d85\u3048\u306a\u3044\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308c\u3070\u826f\u3044\uff0e</p> <p>\u8a08\u7b97\u6642\u9593\u306f\uff0c1\u79d2\u3042\u305f\u308a\u306b1CPU\u30b3\u30a2\u304c\u51e6\u7406\u3067\u304d\u308b\u6642\u9593\u30fb\u7a7a\u9593\u30b0\u30ea\u30c3\u30c9\u6570\uff08\\mathtt{n_G}\uff09\u304b\u3089\u63a8\u5b9a\u3067\u304d\u308b\uff0e\u6b21\u8868\u306b\u3044\u304f\u3064\u304b\u306e\u30de\u30b7\u30f3\u3067\u306e\u63a8\u5b9a\u7d50\u679c\u3092\u793a\u3059\uff0e\u5168\u4f53\u306e\u8a08\u7b97\u6642\u9593\u306f\uff0c</p> \\begin{align}     t_\\text{comp} = \\frac{ {\\tt nx}\\times {\\tt ny}\\times {\\tt nz}}{ \\mathtt{n_G} \\times \\tt nproc} \\times {\\tt nt}     \\quad \\text{[s]}\\end{align} <p>\u306b\u3088\u308a\u6982\u7b97\u3067\u304d\u308b\uff0e\u8a08\u7b97\u6642\u9593\u304c\u30b7\u30b9\u30c6\u30e0\u306e\u5236\u9650\u5024\u3092\u8d85\u3048\u308b\u3088\u3046\u3067\u3042\u308c\u3070\uff0c\u30e2\u30c7\u30eb\u30b5\u30a4\u30ba\u3092\u5909\u66f4\u3059\u308b\u304b\uff0c\u3042\u308b\u3044\u306f\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u30ea\u30b9\u30bf\u30fc\u30c8\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\uff0e</p> \u30de\u30b7\u30f3\u540d CPU Core\u6570 \\mathtt{n_G} Mac Pro 2010 Intel Xeon X5670 2.93GHz 6 6.7 \\times 10^{6} EIC2015 Intel Xeon E5-2680 v3 2.5 GHz 12 7.0 \\times 10^{6} \u5730\u7403\u30b7\u30df\u30e5\u30ec\u30fc\u30bf NEC SX-ACE 4 57 \\times 10^{6}"},{"location":"ja/4._Hints/0402_modification/","title":"\u30b3\u30fc\u30c9\u6539\u9020\u306e\u30d2\u30f3\u30c8","text":""},{"location":"ja/4._Hints/0402_modification/#_2","title":"\u901f\u5ea6\u69cb\u9020\u306e\u5909\u66f4","text":"<p>\u901f\u5ea6\u69cb\u9020\u306f\uff0c\u30e2\u30b8\u30e5\u30fc\u30eb<code>m_medium</code>\u304b\u3089\u547c\u3070\u308c\u308b\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3<code>vmodel_ast</code>\u306b\u3088\u3063\u3066\u5b9a\u7fa9\u3055\u308c\u308b\uff0e\u3053\u308c\u3089\u306e<code>vmodel</code>\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3\u306f\uff0c\u901f\u5ea6\u69cb\u9020\u306e\u7a2e\u985e\u306b\u3088\u3089\u305a\uff0c\u6b21\u8868\u306e\u3088\u3046\u306a\u5165\u51fa\u529b\u5909\u6570\u3092\u3082\u3064\uff0e</p> \u5909\u6570\u540d in/out type \u8aac\u660e <code>io_prm</code> in integer \u5165\u529b\u30d1\u30e9\u30e1\u30bf\u30d5\u30a1\u30a4\u30eb\u306e\u88c5\u7f6e\u756a\u53f7 <code>i0,i1</code> in integer x\u65b9\u5411\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u59cb\u5024\u3068\u7d42\u5024 <code>j0,j1</code> in integer y\u65b9\u5411\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u59cb\u5024\u3068\u7d42\u5024 <code>k0,k1</code> in integer z\u65b9\u5411\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u59cb\u5024\u3068\u7d42\u5024 <code>xc(i0:i1)</code> in real x\u5ea7\u6a19\u5024\u914d\u5217 <code>yc(i0:i1)</code> in real y\u5ea7\u6a19\u5024\u914d\u5217 <code>zc(i0:i1)</code> in real z\u5ea7\u6a19\u5024\u914d\u5217 <code>vcut</code> in real \u30ab\u30c3\u30c8\u30aa\u30d5\u901f\u5ea6 <code>rho(k0:k1,i0:i1,j0:j1)</code> out real \u5bc6\u5ea6 [g/cm] <code>lam(k0:k1,i0:i1,j0:j1)</code> out real Lame\u306e\u4fc2\u6570 \\lambda [g/cm{}^3] <code>mu(k0:k1,i0:i1,j0:j1)</code> out real Lame\u306e\u4fc2\u6570 \\mu [g/cm{}^3] <code>qp(k0:k1,i0:i1,j0:j1)</code> out real \u5185\u90e8\u6e1b\u8870Q_P <code>qs(k0:k1,i0:i1,j0:j1)</code> out real \u5185\u90e8\u6e1b\u8870Q_S <code>bddep(i0:i1,j0:j1,0:NBD)</code> out real \u4e0d\u9023\u7d9a\u9762\u6df1\u3055 [km] <p>\u4f4d\u7f6e\u5ea7\u6a19\u914d\u5217<code>xc, yc, zc</code>\u306e\u4f4d\u7f6e\u3067\u306e\u69cb\u9020<code>rho, lam, mu, qp, qs</code>\u3092\u4e0e\u3048\u308b\u3088\u3046\u306a\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3\u3092\u81ea\u4f5c\u3059\u308b\u3053\u3068\u3067\uff0c\u4efb\u610f\u306e\u901f\u5ea6\u69cb\u9020\u306b\u5e2f\u3059\u308b\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u73fe\u3067\u304d\u308b\uff0e\u305f\u3060\u3057\uff0c<code>xc, yc, zc</code>\u306fMPI\u3067\u5206\u5272\u3055\u308c\u308b\u9818\u57df\u5185\u3088\u308a\u3082\u3084\u3084\u5e83\u3044\u7bc4\u56f2\u304c\u7528\u3044\u3089\u308c\u308b\uff0e\u3053\u308c\u306f\uff0c\u901a\u4fe1\u306b\u3088\u308b\u5024\u306e\u4ea4\u63db\u3084\uff0c\u9707\u6e90\u306a\u3089\u3073\u306b\u5730\u8868\u6d77\u5e95\u5883\u754c\u6761\u4ef6\u306b\u5fc5\u8981\u3068\u306a\u308b\u305f\u3081\u3067\u3042\u308b\uff0e</p> <p>\u5730\u8868\u5883\u754c\u3084\u6d77\u5e95\u5883\u754c\u9762\u306f<code>m_medium</code>\u5185\u3067\u81ea\u52d5\u5224\u5b9a\u3055\u308c\u308b\uff0e\u305d\u308c\u305e\u308c<code>lam</code>\u304a\u3088\u3073<code>mu</code>\u304c\u521d\u3081\u3066\u975e\u30bc\u30ed\u306b\u306a\u308b\u30b0\u30ea\u30c3\u30c9\u4f4d\u7f6e\u304c\u5883\u754c\u9762\u3067\u3042\u308b\u3068\u5224\u5b9a\u3055\u308c\u308b\uff0e</p> <p>\u5909\u6570<code>bddep(:,:,0)</code>\u306f\u5730\u8868\u3067\u3042\u308b\u3053\u3068\u304c\u4eee\u5b9a\u3055\u308c\uff0c\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306e\u53ef\u8996\u5316\u306b\u7528\u3044\u3089\u308c\u308b\uff0e\u305d\u306e\u4ed6<code>bddep(:,:,1:NBD)</code>\u306f\u9707\u6e90\u3084\u89b3\u6e2c\u70b9\u3092\u5883\u754c\u9762\u306e\u4f4d\u7f6e\u306b\u5f37\u5236\u7684\u306b\u8a2d\u5b9a\u3059\u308b\u969b\u306b\u7528\u3044\u3089\u308c\u308b\uff0e</p>"},{"location":"ja/4._Hints/0402_modification/#_3","title":"\u9707\u6e90\u6642\u9593\u95a2\u6570\u306e\u8ffd\u52a0","text":"<p>\u9707\u6e90\u6642\u9593\u95a2\u6570\u306e\u7a2e\u5225\u306f\uff0c\u30d1\u30e9\u30e1\u30bf<code>stftype</code>\u306e\u9078\u629e\u306b\u5fdc\u3058\u3066\uff0c\u95a2\u6570<code>source__momentrate</code>\u3067\u547c\u3073\u51fa\u3055\u308c\u308b\uff0e\u5404\u8981\u7d20\u9707\u6e90\u6642\u9593\u95a2\u6570\u306e\u95a2\u6570\u5b9a\u7fa9\u306f<code>share/m_fdtool.F90</code>\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\uff0e\u4e88\u3081\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u4ee5\u5916\u306e\u9707\u6e90\u6642\u9593\u95a2\u6570\u5f62\u72b6\u3092\u4f7f\u3044\u305f\u3051\u308c\u3070\uff0c\u3053\u3053\u306b\u95a2\u6570\u3092\u4ed8\u3051\u52a0\u3048\u308b\u306e\u304c\u7c21\u5358\u3067\u3042\u308d\u3046\uff0e</p> <p>\u307e\u305f\uff0c\u3067\u5229\u7528\u3055\u308c\u3066\u3044\u308b\u9707\u6e90\u6642\u9593\u95a2\u6570\u306f\u3059\u3079\u3066\u7834\u58ca\u958b\u59cb\u6642\u9593<code>tbeg</code>\u3068\u30e9\u30a4\u30ba\u30bf\u30a4\u30e0<code>trise</code>\u3092\u30d1\u30e9\u30e1\u30bf\u3068\u3057\u3066\u53d6\u3063\u3066\u3044\u308b\uff0e\u3053\u308c\u3089\u306f\u914d\u5217\u5909\u6570<code>srcprm(:)</code>\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\uff0e\u3082\u3057\u9707\u6e90\u6642\u9593\u95a2\u6570\u304c3\u3064\u4ee5\u4e0a\u306e\u30d1\u30e9\u30e1\u30bf\u3092\u5fc5\u8981\u3068\u3059\u308b\u5834\u5408\u306b\u306f\uff0c\u3053\u306e\u914d\u5217\u306e\u30b5\u30a4\u30ba\uff08<code>n_stfprm</code>\uff09\u3092\u62e1\u5927\u3059\u308c\u3070\u3088\u3044</p>"},{"location":"ja/4._Hints/0402_modification/#_4","title":"\u8ffd\u52a0\u30d1\u30e9\u30e1\u30bf\u306e\u8aad\u307f\u8fbc\u307f\u304b\u305f","text":"<p>\u591a\u304f\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u306f<code>(modulename)__setup</code>\u306a\u308b\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3\u304c\u8a08\u7b97\u958b\u59cb\u6642\u306b\u547c\u3070\u308c\uff0c\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30d1\u30e9\u30e1\u30bf\u3092\u53d6\u5f97\u3059\u308b\uff0e\u8ffd\u52a0\u30d1\u30e9\u30e1\u30bf\u3092\u540c\u3058\u3088\u3046\u306b\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u3080\u306b\u306f\uff0c<code>subroutine readini</code>\u3092\u7528\u3044\u308b\uff0e\u5b9f\u88c5\u306f<code>src/shared/m_readini.F90</code>\u306b\u3042\u308b\uff0e</p>"},{"location":"ja/Misc/License/","title":"\u30e9\u30a4\u30bb\u30f3\u30b9","text":"<p>\u672c\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306f MIT License \u306e\u3082\u3068\u63d0\u4f9b\u3055\u308c\u307e\u3059\uff0e</p> <p>Copyright \u00a9 2013-2021 Takuto Maeda</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p> <p>\u52a0\u3048\u3066\uff0c\u3053\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u5229\u7528\u3057\u305f\u6210\u679c\u3092\u516c\u8868\u3059\u308b\u5834\u5408\u306b\u306f\uff0c\u4ee5\u4e0b\u306e\u4e00\u9023\u306e\u95a2\u9023\u8ad6\u6587\u306e\u4e2d\u304b\u3089\u9069\u5207\u306a\u3082\u306e\u3092\u5f15\u7528\u3057\u3066\u3044\u305f\u3060\u304f\u3088\u3046\u304a\u9858\u3044\u3044\u305f\u3057\u307e\u3059\uff08\u305f\u3060\u3057\uff0c\u3053\u308c\u306f\u30e9\u30a4\u30bb\u30f3\u30b9\u4e0a\u306e\u7fa9\u52d9\u3067\u306f\u3042\u308a\u307e\u305b\u3093\uff09\uff0e</p>"},{"location":"ja/Misc/Revision_History/","title":"\u4e3b\u306a\u6539\u7248\u5c65\u6b74","text":"2021-08-27 (v5.2.0) <p>Earth-flattening\u5909\u63db\u306b\u3088\u308b\u5730\u7403\u7403\u9762\u52b9\u679c\u306e\u5c0e\u5165\uff0c\u9707\u6e90\u6307\u5b9a\u306e\u65b0\u3057\u3044psmeca\u30e2\u30fc\u30c9\uff0c\u4f4e\u901f\u5ea6\u306aSOFAR\u30c1\u30e3\u30cd\u30eb\u3092\u542b\u3080\u6d77\u4e2d\u901f\u5ea6\u69cb\u9020\u306e\u5c0e\u5165\uff0c2D\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u6ce2\u5f62\u306e\u7591\u4f3c3D\u5909\u63db\u30c4\u30fc\u30eb\uff0c\u65b0\u3057\u3044\u30b9\u30fc\u30d1\u30fc\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u3078\u306e\u5bfe\u5fdc\uff0c\u30d0\u30b0\u4fee\u6b63\u306a\u3069</p> 2020-08-13 (v5.1.0) <p>Strict-mode</p> 2019-08-27 (v5.0.0) <p>\u30a6\u30a7\u30d6\u30d9\u30fc\u30b9\u306e\u65b0\u3057\u3044User's Guide, \u6b6a\u30fb\u5fdc\u529b\u6ce2\u5f62\u306e\u51fa\u529b\u6a5f\u80fd\uff0c\u9707\u6e90\u306e\u3059\u3079\u308a\u91cf\u6307\u5b9a\uff0c\u30d0\u30b0\u4fee\u6b63\u306a\u3069</p> 2017-09-21 (v4.0) <p>Minor bugfixes, new binary output for waveform, updated references.</p> 2016-08-20 (v3.0) <p>\u76f8\u53cd\u5b9a\u7406\u30e2\u30fc\u30c9\u306e\u6539\u5584\uff0e\u5730\u7406\u5ea7\u6a19\u8a08\u7b97\u30c4\u30fc\u30eb\u8ffd\u52a0\uff0ecsf\u6ce2\u5f62\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u8ffd\u52a0</p> 2016-06-19 (v2.0) <p>2\u6b21\u5143\u30b3\u30fc\u30c9\u306eOpenMP\u5bfe\u5fdc</p> 2016-05-05 (v1.0) <p>\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u516c\u958b\u7248</p> 2016-02-03 <p><code>netcdf</code>\u5f62\u5f0f\u306e\u51fa\u529b\u306b\u3064\u3044\u3066\u8ffd\u8a18</p> 2016-01-19 <p>\u7406\u8ad6\u7de8\u3092\u5206\u96e2</p> 2016-01-14 <p>\u5b9f\u4f53\u529b\u30fbGreen\u95a2\u6570\u30e2\u30fc\u30c9\u306e\u8a18\u8f09\u8ffd\u52a0</p> 2015-12-04 <p>\u8aa4\u690d\u4fee\u6b63</p> 2015-07-14 <p>MPI/OpenMP\u306e\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u4e26\u5217\u8a08\u7b97\u306b\u5bfe\u5fdc</p> 2015-06-29 <p>\u30e9\u30f3\u30c0\u30e0\u5a92\u8cea\u6a5f\u80fd\u306e\u5b9f\u88c5\u304a\u3088\u3073\u8aac\u660e\u3092\u8ffd\u52a0</p> 2015-06-10 <p>\u5730\u7403\u30b7\u30df\u30e5\u30ec\u30fc\u30bf3\u5bfe\u5fdc\u60c5\u5831\u3092\u8ffd\u52a0</p> 2015-06-04 <p>\u5730\u9707\u7814\u5171\u540c\u5229\u7528\u30d7\u30ed\u30b0\u30e9\u30e0\u300e\u5730\u9707\u6ce2\u5f62\u89e3\u5256\u5b66\u306e\u8a08\u7b97\u79d1\u5b66\u7684\u65b0\u5c55\u958b\u300f\u516c\u958b\u521d\u7248</p>"}]}